(this["webpackJsonpm-tile"]=this["webpackJsonpm-tile"]||[]).push([[1],{140:function(e,t){},332:function(e,t){},333:function(e,t){},334:function(e,t){},335:function(e,t){},336:function(e,t){},337:function(e,t,a){},338:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(25),r=a.n(c),s=a(4),i=a(24),o=a(17),l=a(7),d=a.n(l),u=a(14),j=a(32),b="http://64.227.116.143:8088/api",m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e),c=localStorage.getItem("token")||"";switch(a){case"GET":return fetch(n,{method:a,headers:{"x-token":c}});case"POST":return fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)});case"DELETE":return fetch(n,{method:a,headers:{"x-token":c}});case"PUT":return fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)});default:return!1}},O=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token")||"",c="".concat(b,"/").concat(t),e.abrupt("return",fetch(c,{method:"POST",headers:{"x-token":n},body:a}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var c,r,s,i,o,l,u,b,m=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=m.length>3&&void 0!==m[3]?m[3]:"POST",r=[],s=Object(j.a)(n),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=17;break}return o=i.value,e.next=9,p("events/".concat(a,"/").concat(t),o,c);case 9:return l=e.sent,e.next=12,l.json();case 12:u=e.sent,(b=u.new_operation)&&r.push(b);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[3,19,22,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={name:t,data:[]},c=Object(j.a)(a),e.prev=2,c.s();case 4:if((r=c.n()).done){e.next=16;break}return s=r.value,e.next=8,p("statistics/section/".concat(s),{section:t},"POST");case 8:return i=e.sent,e.next=11,i.json();case 11:o=e.sent,(l=o.data).length>0?n.data.push(l[0].total):n.data.push(0);case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),x="[auth] User Login",v="[auth] User Logout",g="[auth] Checking Finish",y="[auth] Loading Start",N="[auth] Loading Finish",w="[nav] Toggle Nav",k="[nav] Toggle Responsive",S="[UI] Open Modal",C="[UI] Close Modal",T="[UI] Open/Close Alerts",I="[event] Set Active",E="[event] Clear Active",_="[event] Clean events",L="[event] Load Order Events",q="[event] Load Order Types",D="[event] Load Breakdown Types",P="[event] Add Order Event",F="[event] Update Order Event",M="[event] delete Order Event",A="[crew] Load techinicians",H="[crew] Set active",R="[crew] Clear active",V="[crew] Add new technician",B="[crew] Update technician",W="[crew] Delete technician",U="[crew] Clear Technicians",G="[warehouse] Loaded Data",z="[warehouse] Remove Item",Y="[warehouse] Add Item",J="[warehouse] Update Item",X="[warehouse] Set Active Item",$="[warehouse] Remove Active Item",K="[warehouse] Clear All",Q="[warehouse] Items To Order Loaded",Z="[factories] Set Factories",ee="[factories] Set Sections",te="[factories] Set Machines",ae="[factories] Set Number Sections",ne="[factories] Set Docs",ce="[factories] Set Active Doc",re="[factories] Clear Active Doc",se="[factories] Add Doc",ie="[factories] Delete Doc",oe="[factories] Clear Factory",le="[warnings] Load warnings",de="[warnings] Add warning",ue="[warnings] Remove warning",je="[warnings] Clear All",be="[statistics] Load Weeks",me="[statistics] Load 3 Weeks Sections",pe="[statistics] Load Last Week by OrderType",Oe="[statistics] Load Last Week by Breakdown",fe="[statistics] Load Last Week by Technician",he="[statistics] Load Interventions by Week",xe="[statistics] Load Total Time by Week",ve="[statistics] Clear All",ge=function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(we()),a.prev=1,a.next=4,m("users/",{email:e,password:t},"POST");case 4:return c=a.sent,a.next=7,c.json();case 7:if(!(r=a.sent).ok){a.next=13;break}s=r.name,i=r.uid,o=r.token,l=r.admin,setTimeout((function(){return n(ke()),localStorage.setItem("token",o),localStorage.setItem("token-init-date",(new Date).getTime()),n(ye({uid:i,name:s,admin:l})),{ok:!0}}),500),a.next=14;break;case 13:return a.abrupt("return",{ok:!1,msg:"Usuario y/o password incorrectos"});case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(1),console.log(a.t0),a.abrupt("return",{ok:!1,msg:"Error con la conexi\xf3n, contacte con el administrador"});case 20:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(e){return a.apply(this,arguments)}}()},ye=function(e){return{type:x,payload:e}},Ne=function(){return{type:v}},we=function(){return{type:y}},ke=function(){return{type:N}},Se=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("users/renew");case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(n=e.sent).ok){e.next=14;break}return localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(Ce()),e.abrupt("return",t(ye({uid:n.uid,name:n.name,admin:n.admin})));case 14:localStorage.removeItem("token"),localStorage.removeItem("token-init-date"),t(Ce());case 17:e.next=25;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("token"),localStorage.removeItem("token-init-date"),t(Ce());case 25:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()},Ce=function(){return{type:g}},Te=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/new",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,c=null===n||void 0===n?void 0:n.msg,!(null===n||void 0===n?void 0:n.ok)){t.next=12;break}return t.abrupt("return",{user:n.user,ok:!0,msg:"Usuario creado correctamente"});case 12:return t.abrupt("return",{ok:!1,msg:c});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},Ie=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,!(c=n.user)){t.next=12;break}return t.abrupt("return",{ok:!0,msg:"Usuario editado correctamente",user:c});case 12:return t.abrupt("return",{ok:!1,msg:"Error al actualizar el usuario, int\xe9ntelo de nuevo m\xe1s tarde"});case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al conectar con la BBDD, contacte con el administrador"});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))},Ee=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/".concat(e),void 0,"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,!(c=n.user)||c.active){t.next=12;break}return t.abrupt("return",{ok:!0,msg:"Usuario desactivado correctamente",user:c});case 12:if(!c||!c.active){t.next=16;break}return t.abrupt("return",{ok:!0,msg:"Usuario activado correctamente",user:c});case 16:return t.abrupt("return",{ok:!1,msg:"Error al borrar el usuario, int\xe9ntelo de nuevo m\xe1s tarde",user:c});case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al borrar el usuario, int\xe9ntelo de nuevo m\xe1s tarde"});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))},_e=a(0),Le=function(){return Object(_e.jsxs)("div",{className:"loading-component animate__animated animate__fadeIn",children:[Object(_e.jsxs)("h1",{children:["Cargando",Object(_e.jsx)("span",{className:"dot dot-1",children:" . "}),Object(_e.jsx)("span",{className:"dot dot-2",children:". "}),Object(_e.jsx)("span",{className:"dot dot-3",children:". "})]}),Object(_e.jsxs)("div",{className:"loading-bar-wrapper",children:[Object(_e.jsx)("div",{className:"loading-bar-1"}),Object(_e.jsx)("div",{className:"loading-bar-2"}),Object(_e.jsx)("div",{className:"loading-bar-3"}),Object(_e.jsx)("div",{className:"loading-bar-4"}),Object(_e.jsx)("div",{className:"loading-bar-5"}),Object(_e.jsx)("div",{className:"loading-bar-6"}),Object(_e.jsx)("div",{className:"loading-bar-7"}),Object(_e.jsx)("div",{className:"loading-bar-8"}),Object(_e.jsx)("div",{className:"loading-bar-9"}),Object(_e.jsx)("div",{className:"loading-bar-10"}),Object(_e.jsx)("div",{className:"loading-bar-11"}),Object(_e.jsx)("div",{className:"loading-bar-12"}),Object(_e.jsx)("div",{className:"loading-bar-13"}),Object(_e.jsx)("div",{className:"loading-bar-14"}),Object(_e.jsx)("div",{className:"loading-bar-15"}),Object(_e.jsx)("div",{className:"loading-bar-16"}),Object(_e.jsx)("div",{className:"loading-bar-17"}),Object(_e.jsx)("div",{className:"loading-bar-18"})]})]})},qe=function(){return Object(_e.jsx)("div",{className:"loading-screen-wrapper animate__animated animate__fadeIn animate__faster",children:Object(_e.jsx)(Le,{})})},De=a(19),Pe=a(2),Fe=a(10),Me=function(){return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"}),Object(_e.jsx)("div",{className:"firefly"})]})},Ae=function(){var e=document.querySelector('input[name="password"]'),t=document.querySelector(".icon-pwd");"password"===e.type?e.type="text":e.type="password",t.classList.contains("fa-eye-slash")?(t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye")):(t.classList.remove("fa-eye"),t.classList.add("fa-eye-slash"))},He=function(e){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)?(document.querySelector('input[name="user"]').classList.remove("border-red"),document.querySelector(".message-error-login-user").classList.remove("show-error"),!0):(document.querySelector('input[name="user"]').classList.add("border-red"),document.querySelector(".message-error-login-user").classList.add("show-error"),!1)},Re=function(e){return e.trim().length<4?(document.querySelector('input[name="password"]').classList.add("border-red"),document.querySelector(".message-error-login-password").classList.add("show-error"),!1):(document.querySelector('input[name="password"]').classList.remove("border-red"),document.querySelector(".message-error-login-password").classList.remove("show-error"),!0)},Ve=function(e){var t=e.type,a=void 0===t?"default":t;return Object(_e.jsx)(_e.Fragment,{children:"default"===a?Object(_e.jsx)("div",{className:"loading-wrapper animate__animated animate__fadeIn animate__faster",children:Object(_e.jsx)(Le,{})}):Object(_e.jsx)("div",{className:"loading-wrapper",children:Object(_e.jsx)(Le,{})})})},Be=a(6),We=function(e){var t=e.text;return Object(_e.jsxs)("div",{className:"toast-success-custom",children:[Object(_e.jsx)("i",{className:"fas fa-exclamation-triangle"}),Object(_e.jsx)("p",{children:t})]})},Ue=a(62),Ge=a.n(Ue),ze=function(){var e=Object(n.useState)({user:"",password:""}),t=Object(Fe.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(Fe.a)(r,2),o=i[0],l=i[1],j=a.user,b=a.password,m=Object(s.c)((function(e){return e.auth})).loadingLogin,p=Object(s.b)();Object(n.useEffect)((function(){var e=localStorage.getItem("user_mail")||"";e&&(c({user:e,password:""}),l(!0))}),[]);var O=function(e){var t=e.target,n=null===t||void 0===t?void 0:t.name;document.querySelector('input[name="'.concat(n,'"]')).classList.remove("border-red"),document.querySelector(".message-error-login-".concat(n)).classList.remove("show-error"),c(Object(Pe.a)(Object(Pe.a)({},a),{},Object(De.a)({},t.name,t.value)))},f=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,He(j)||(a=!1),Re(b)||(a=!1),a){e.next=6;break}return e.abrupt("return");case 6:return o?localStorage.setItem("user_mail",j):localStorage.removeItem("user_mail"),e.next=9,p(ge(j,b));case 9:!1===(null===(n=e.sent)||void 0===n?void 0:n.ok)&&(p(ke()),setTimeout((function(){return document.querySelector('input[name="user"]').classList.add("border-red"),document.querySelector('input[name="password"]').classList.add("border-red"),Be.c.error(Object(_e.jsx)(We,{text:n.msg}))}),200));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_e.jsxs)("div",{className:"login-wrapper",children:[m&&Object(_e.jsx)(Ve,{}),Object(_e.jsx)(Me,{}),Object(_e.jsx)(Be.b,{}),Object(_e.jsxs)("div",{className:"form-login-wrapper",children:[Object(_e.jsx)("img",{src:"".concat("","/assets/images/mtile_login.png"),alt:"logo_mtile"}),Object(_e.jsx)("form",{onSubmit:f,children:Object(_e.jsxs)("div",{className:"data-form-login",children:[Object(_e.jsxs)("div",{className:"login-grid",children:[Object(_e.jsx)("label",{children:"Email:"}),Object(_e.jsx)("input",{type:"text",name:"user",value:j,onChange:O,autoComplete:"off"})]}),Object(_e.jsx)("span",{className:"message-error-login-user",children:"El email no es un email v\xe1lido."}),Object(_e.jsxs)("div",{className:"login-grid",children:[Object(_e.jsx)("label",{children:"Password:"}),Object(_e.jsxs)("div",{className:"login-password-wrapper",children:[Object(_e.jsx)("input",{type:"password",name:"password",value:b,onChange:O,autoComplete:"off"}),Object(_e.jsx)("i",{className:"fas fa-eye-slash icon-pwd",onClick:Ae})]})]}),Object(_e.jsx)("span",{className:"message-error-login-password",children:"La contrase\xf1a es demasiado corta."}),Object(_e.jsxs)("div",{className:"login-button-wrapper",children:[Object(_e.jsxs)("div",{className:"remember-me-wrapper",children:[Object(_e.jsx)(Ge.a,{onChange:function(){l(!o)},checked:o,onColor:"#ffa600",height:20,width:42}),Object(_e.jsx)("label",{children:"Remember me?"})]}),Object(_e.jsx)("button",{className:"btn btn-login",type:"submit",children:"Login"})]})]})})]})]})},Ye=a(56),Je=function(){return{type:w}},Xe=function(){return{type:k}},$e=function(){var e=Object(s.c)((function(e){return e.nav})).navExtended,t=Object(s.c)((function(e){return e.auth})).admin,a=Object(s.b)(),n=function(){a(Je())};return Object(_e.jsx)(Ye.a,{onClickAway:function(){e&&a(Je())},children:Object(_e.jsx)("nav",{className:e?"nav-large":"",children:Object(_e.jsxs)("div",{className:"nav-icons-wrapper",children:[Object(_e.jsxs)("div",{className:"mb-3",children:[Object(_e.jsxs)(i.c,{exact:!0,to:"/",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"fas fa-home"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Dashboard"})]}),t&&Object(_e.jsxs)(i.c,{to:"/admin",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"fas fa-user-shield"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Administrador"})]}),Object(_e.jsxs)(i.c,{to:"/neworder",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"far fa-plus-square"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Nueva orden"})]}),Object(_e.jsxs)(i.c,{to:"/crew",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"fas fa-users"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"T\xe9cnicos"})]}),Object(_e.jsxs)(i.c,{to:"/calendar",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"far fa-calendar-alt"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Calendario"})]}),Object(_e.jsxs)(i.c,{to:"/docs",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"far fa-file"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Documentaci\xf3n"})]}),Object(_e.jsxs)(i.c,{to:"/warehouse",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"fas fa-boxes"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Almac\xe9n"})]}),Object(_e.jsxs)(i.c,{to:"/statistics",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"far fa-chart-bar"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Estad\xedsticas"})]}),Object(_e.jsxs)(i.c,{to:"/history",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(_e.jsx)("i",{className:"fas fa-history"}),Object(_e.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Hist\xf3rico"})]})]}),e?Object(_e.jsx)("div",{className:"nav-icon-wrapper reduce-nav nav-icon-wrapper-reset-grid animate__animated animate__fadeIn animate__slow",onClick:n,children:Object(_e.jsx)("i",{className:"fas fa-chevron-left"})}):Object(_e.jsx)("div",{className:"nav-icon-wrapper extend-nav",onClick:n,children:Object(_e.jsx)("i",{className:"fas fa-chevron-right animate__animated animate__fadeIn"})})]})})})},Ke=a(51),Qe=function(e){var t=0;if(e.operations&&e.operations.length>0){var a,n=Object(j.a)(e.operations);try{for(n.s();!(a=n.n()).done;){var c=a.value;t+=parseFloat(60*c.time)}}catch(r){n.e(r)}finally{n.f()}}return t},Ze=function(e){var t=e.text,a=void 0===t?"":t;return Object(_e.jsxs)("div",{className:"toast-success-custom",children:[Object(_e.jsx)("i",{className:"far fa-check-circle icon-toast-success"}),Object(_e.jsx)("p",{children:a})]})},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return e.quantity<=e.minStock}));return t},tt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warehouse/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,c=n.items,r=et(c),t(nt(r)),c&&t(at(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},at=function(e){return{type:G,payload:e}},nt=function(e){return{type:Q,payload:e}},ct=function(){return{type:$}},rt=function(e){return{type:J,payload:e}},st=function(e){return{type:Y,payload:e}},it=function(){return{type:z}},ot=function(e){return{type:I,payload:e}},lt=function(){return{type:E}},dt=function(e){return{type:L,payload:e}},ut=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,r,s,i,o,l,u,j,b,m,O;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Qe(e),e.totalMins=n,c=e.operations,r=e.materials,s=e.clocks,i=Object(Ke.a)(e,["operations","materials","clocks"]),t.next=6,p("events/events",i,"POST");case 6:return o=t.sent,t.next=9,o.json();case 9:if(l=t.sent,!(u=l.event)){t.next=29;break}return j=u.id,t.next=15,f(j,"operation",c);case 15:return b=t.sent,t.next=18,f(j,"clock",s);case 18:return m=t.sent,t.next=21,f(j,"item",r);case 21:return O=t.sent,u.operations=b,u.clocks=m,u.materials=O,a(jt(u)),t.abrupt("return",{ok:!0,message:"Orden creada correctamente!"});case 29:return t.abrupt("return",{ok:!1,message:"No se ha podido guardar la orden!"});case 30:t.next=36;break;case 32:return t.prev=32,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,message:"Error al guardar en la BBDD, contacte con el administrador!"});case 36:case"end":return t.stop()}}),t,null,[[0,32]])})));return function(e){return t.apply(this,arguments)}}()},jt=function(e){return{type:P,payload:e}},bt=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,r,s,i,o,l,u,b,m,O,h,x,v,g,y,N,w;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,c=e.operations,r=e.materials,s=e.clocks,i=Object(Ke.a)(e,["id","operations","materials","clocks"]),o=Qe(e),i.totalMins=o,!0!==e.closed&&1!==e.closed||(i.confirmed=!0),t.prev=4,t.next=7,p("events/events/".concat(n),i,"PUT");case 7:return l=t.sent,t.next=10,l.json();case 10:if(u=t.sent,!(b=u.event)){t.next=69;break}return t.next=15,p("events/operation/".concat(n),void 0,"DELETE");case 15:return t.next=17,p("events/clock/".concat(n),void 0,"DELETE");case 17:return t.next=19,p("events/item/".concat(n),void 0,"DELETE");case 19:if(m=[],!(c.length>0)){t.next=24;break}return t.next=23,f(n,"operation",c);case 23:m=t.sent;case 24:if(b.operations=m,O=[],!(s.length>0)){t.next=30;break}return t.next=29,f(n,"clock",s);case 29:O=t.sent;case 30:if(b.clocks=O,h=[],!(r.length>0)){t.next=36;break}return t.next=35,f(n,"item",r);case 35:h=t.sent;case 36:if(b.materials=h,!b.confirmed){t.next=61;break}x=Object(j.a)(b.materials),t.prev=39,x.s();case 41:if((v=x.n()).done){t.next=53;break}return g=v.value,t.next=45,p("warehouse/subtract/".concat(g.code),{quantity:g.quantity},"PUT");case 45:return y=t.sent,t.next=48,y.json();case 48:N=t.sent,(w=N.newItem)&&a(rt(w));case 51:t.next=41;break;case 53:t.next=58;break;case 55:t.prev=55,t.t0=t.catch(39),x.e(t.t0);case 58:return t.prev=58,x.f(),t.finish(58);case 61:return b.end=new Date(b.end),b.endFix=new Date(b.endFix),b.start=new Date(b.start),b.startFix=new Date(b.startFix),a(mt(b)),t.abrupt("return",{ok:!0,message:"Orden guardada correctamente!"});case 69:return t.abrupt("return",{ok:!1,message:"No se ha podido guardar la orden!"});case 70:t.next=76;break;case 72:return t.prev=72,t.t1=t.catch(4),console.log(t.t1),t.abrupt("return",{ok:!1,message:"Error al guardar en la BBDD, contacte con el administrador!"});case 76:case"end":return t.stop()}}),t,null,[[4,72],[39,55,58,61]])})));return function(e){return t.apply(this,arguments)}}()},mt=function(e){return{type:F,payload:e}},pt=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=15;break}return t.next=4,p("events/events/".concat(e),void 0,"DELETE");case 4:return n=t.sent,t.next=7,n.json();case 7:if(c=t.sent,0!==c.active){t.next=14;break}return a(Ot(e)),t.abrupt("return",{ok:!0,msg:"Orden borrada correctamente"});case 14:return t.abrupt("return",{ok:!1,msg:"Error, la orden no existe"});case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al conectar con la BBDD, hable con su administrador"});case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},Ot=function(e){return{type:M,payload:e}},ft=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("events/types");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.types)&&t(ht(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},ht=function(e){return{type:q,payload:e}},xt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("events/breakdowns");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.breakdowns)&&t(vt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},vt=function(e){return{type:D,payload:e}},gt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(yt()),t(wt()),t(St()),t(Tt()),t(Et());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},yt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/factories");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.factories)&&t(Nt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Nt=function(e){return{type:Z,payload:e}},wt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/sections");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.sections)&&t(kt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},kt=function(e){return{type:ee,payload:e}},St=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/machines");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.machines)&&t(Ct(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Ct=function(e){return{type:te,payload:e}},Tt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/numbers");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.numbers)&&t(It(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},It=function(e){return{type:ae,payload:e}},Et=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/docs");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.docs)&&t(_t(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},_t=function(e){return{type:ne,payload:e}},Lt=function(e){return{type:se,payload:e}},qt=function(){return{type:ie}},Dt=function(){return{type:R}},Pt=function(e){return{type:A,payload:e}},Ft=function(e){return{type:V,payload:e}},Mt=function(e){return{type:B,payload:e}},At=function(){return{type:W}},Ht=function(){return{type:U}},Rt=function(e){return{type:le,payload:e}},Vt=function(e){return{type:ue,payload:e}},Bt=function(e){return{type:de,payload:e}},Wt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ut());case 2:return e.next=4,t(zt());case 4:return e.next=6,t(Jt());case 6:return e.next=8,t(ea());case 8:return e.next=10,t(aa());case 10:return e.next=12,t($t());case 12:return e.next=14,t(Qt());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ut=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/14dayssagobyweeks",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.weeks,r=[],c){s=Object(j.a)(c);try{for(s.s();!(i=s.n()).done;)o=i.value,r.push(o.week)}catch(l){s.e(l)}finally{s.f()}}t(Gt(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Gt=function(e){return{type:be,payload:e}},zt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a().statistics.weeks,c=[],r=0,s=["Prensas","Esmaltadoras","Hornos","Clasificaci\xf3n","Parque Box","Tierras","Almac\xe9n","Taller","Otros"];case 4:if(!(r<s.length)){e.next=13;break}return i=s[r],e.next=8,h(i,n);case 8:o=e.sent,c.push(o);case 10:r++,e.next=4;break;case 13:t(Yt(c));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Yt=function(e){return{type:me,payload:e}},Jt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbyordertype",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.orderTypeWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t(Xt({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Xt=function(e){return{type:pe,payload:e}},$t=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbybreakdown",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.breakdownWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t(Kt({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Kt=function(e){return{type:Oe,payload:e}},Qt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbytechnician",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.techniciansWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t(Zt({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Zt=function(e){return{type:fe,payload:e}},ea=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/interventionsweeks",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.interventionsWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.week),s.push(l.count)}catch(d){i.e(d)}finally{i.f()}t(ta({weeksIntervetions:r,weeksInterventionsCounts:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ta=function(e){return{type:he,payload:e}},aa=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/totaltimebyweek",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.totalTimeWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.week),s.push(l.totalMins/60)}catch(d){i.e(d)}finally{i.f()}t(na({weeksTime:r,weeksTotalTime:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},na=function(e){return{type:xe,payload:e}},ca=function(){return{type:S}},ra=function(){return{type:C}},sa=function(){var e=Object(s.c)((function(e){return e.auth})).name,t=Object(s.b)(),a=Object(o.g)(),n=Object(s.c)((function(e){return e.ui})).modalAlert,c=Object(s.c)((function(e){return e.warehouse})).itemsToOrder,r=function(e){n&&"bell-alert"===e.target.className&&!e.nativeEvent||(n||"bell-alert"===e.target.className||e.nativeEvent)&&(n||"bell-alert"!==e.target.className||e.nativeEvent)&&t({type:T})};return Object(_e.jsxs)("div",{className:"topbar-wrapper",children:[Object(_e.jsx)("img",{src:"".concat("","/assets/images/m_tile_topbar.png"),alt:"logo_mtile",onClick:function(){a.push("/")}}),Object(_e.jsxs)("div",{className:"topbar-user-options",children:[Object(_e.jsx)("span",{className:"user",children:e}),Object(_e.jsxs)("div",{className:"wrapper-bell-alert",children:[Object(_e.jsx)("img",{className:"bell-alert",src:"".concat("","/assets/images/bell.png"),alt:"logo_bell",onClick:r}),c&&c.length>0&&Object(_e.jsx)("div",{className:"circle-alert",children:"!"}),Object(_e.jsx)(Ye.a,{onClickAway:r,children:Object(_e.jsx)("div",{className:"wrapper-alerts ".concat(n?"extend-alerts":""),children:c&&c.length>0?c.map((function(e){return n&&Object(_e.jsxs)("div",{className:"alert-text animate__animated animate__fadeIn",children:[Object(_e.jsx)("span",{className:"bold-orange",children:e.quantity<=0?"Producto agotado":"Producto casi agotado"}),Object(_e.jsxs)("span",{children:[Object(_e.jsx)("span",{className:"bold",children:"Item:"}),e.description]}),Object(_e.jsxs)("span",{children:[Object(_e.jsx)("span",{className:"bold",children:"Referencia:"}),e.code]})]},e.id)})):n&&Object(_e.jsx)("div",{className:"alert-text-default",children:Object(_e.jsx)("span",{className:"no-alert-text animate__animated animate__fadeIn",children:"No hay alertas"})})})})]}),Object(_e.jsx)("i",{onClick:function(){t({type:_}),t({type:oe}),t(Ht()),t({type:je}),t({type:K}),t(Ht()),t({type:ve}),t(Ne()),localStorage.removeItem("token"),localStorage.removeItem("token-init-date")},className:"fas fa-sign-out-alt"})]})]})},ia=function(){var e=Object(s.c)((function(e){return e.auth})).admin,t=Object(s.c)((function(e){return e.nav})).showResponsive,a=Object(s.b)();return Object(_e.jsxs)("div",{className:"responsive-nav-main-container",children:[Object(_e.jsxs)("div",{className:"burger ".concat(t?"hide-burger":""),onClick:function(){a(Xe())},children:[Object(_e.jsx)("div",{className:"line ".concat(t?"rotate-line-1":"")}),Object(_e.jsx)("div",{className:"line ".concat(t?"hide-line":"")}),Object(_e.jsx)("div",{className:"line ".concat(t?"rotate-line-2":"")})]}),Object(_e.jsx)("div",{className:"responsive-nav-main-wrapper ".concat(t?"show-responsive":""),children:Object(_e.jsxs)("div",{className:"responsive-nav-wrapper",children:[Object(_e.jsxs)(i.c,{exact:!0,to:"/",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"fas fa-home"}),Object(_e.jsx)("span",{children:"Dashboard"})]}),e&&Object(_e.jsxs)(i.c,{to:"/admin",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"fas fa-user-shield"}),Object(_e.jsx)("span",{children:"Administrador"})]}),Object(_e.jsxs)(i.c,{to:"/neworder",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"far fa-plus-square"}),Object(_e.jsx)("span",{children:"Nueva orden"})]}),Object(_e.jsxs)(i.c,{to:"/crew",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"fas fa-users"}),Object(_e.jsx)("span",{children:"T\xe9cnicos"})]}),Object(_e.jsxs)(i.c,{to:"/calendar",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"far fa-calendar-alt"}),Object(_e.jsx)("span",{children:"Calendario"})]}),Object(_e.jsxs)(i.c,{to:"/docs",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"far fa-file"}),Object(_e.jsx)("span",{children:"Documentaci\xf3n"})]}),Object(_e.jsxs)(i.c,{to:"/warehouse",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"fas fa-boxes"}),Object(_e.jsx)("span",{children:"Almac\xe9n"})]}),Object(_e.jsxs)(i.c,{to:"/statistics",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"far fa-chart-bar"}),Object(_e.jsx)("span",{children:"Estad\xedsticas"})]}),Object(_e.jsxs)(i.c,{to:"/history",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(_e.jsx)("i",{className:"fas fa-history"}),Object(_e.jsx)("span",{children:"Hist\xf3rico"})]})]})})]})},oa=a(18),la=a.n(oa),da=a(47),ua=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){return window.scrollTo(t,e)}},ja=function(){window.onscroll=function(){}},ba=function(e,t){if(!(!e||e.length<1||!t||t.length<1||"undefined"===t))return t.find((function(t){return t.id.toString()===e.toString()}))},ma=function(e,t){return t.find((function(t){return e===t.id}))},pa=function(e,t){return t.find((function(t){return e===t.id}))},Oa=function(e,t){return t.find((function(t){return e===t.id}))},fa=function(e,t){return t.find((function(t){return e===t.id}))},ha=function(e,t){return t.find((function(t){return e===t.id}))},xa=function(e,t){return t.find((function(t){return e===t.id}))},va=a(27),ga=a.n(va),ya=a(31),Na=a.n(ya),wa=(a(74),{id:"",factory:"",section:"",machine:"",technician:"",breakdown:"",description:"",start:"",end:""}),ka=function(e){var t=e.setTableModal,a=Object(s.c)((function(e){return e.factory})).factories,c=Object(s.c)((function(e){return e.factory})).sections,r=Object(s.c)((function(e){return e.factory})).machines,i=Object(s.c)((function(e){return e.factory})).numbers,l=Object(s.c)((function(e){return e.calendar})).types,d=Object(s.c)((function(e){return e.calendar})).breakdowns,u=Object(s.c)((function(e){return e.crew})).technicians,j=Object(s.c)((function(e){return e.ui})).modalOpen,b=Object(n.useState)(wa),m=Object(Fe.a)(b,2),p=m[0],O=m[1],f=Object(s.c)((function(e){return e.calendar})).activeEvent,h=p.id,x=p.breakdown,v=p.description,g=p.section,y=p.factory,N=p.machine,w=p.start,k=p.end,S=p.technician,C=p.number,T=p.orderType,I=p.totalMins;Object(n.useEffect)((function(){f&&O(f)}),[f]);var E=Object(o.g)(),_=Object(s.b)(),L=function(){ja(),_(ra()),_(lt()),t&&t(!1)};return Object(_e.jsx)(_e.Fragment,{children:Object(_e.jsx)(ga.a,{isOpen:j,className:"modal-calendar animate__animated animate__fadeIn animate__faster",onRequestClose:L,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Orden de trabajo"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:L,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("div",{className:"modal-event-form",children:[Object(_e.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(_e.jsxs)("div",{className:"event-input-1",children:[Object(_e.jsx)("label",{children:"N.\xba Orden: "}),Object(_e.jsx)("input",{type:"text",name:"id",disabled:!0,value:h})]}),Object(_e.jsxs)("div",{className:"event-input-2",children:[Object(_e.jsx)("label",{children:"Tipo orden: "}),Object(_e.jsxs)("select",{name:"orderType",value:T,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Tipo"}),l.length>0&&l.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(_e.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(_e.jsxs)("div",{className:"event-input-1",children:[Object(_e.jsx)("label",{children:"Factor\xeda: "}),Object(_e.jsxs)("select",{name:"factory",value:y,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Factor\xeda"}),a.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"event-input-2",children:[Object(_e.jsx)("label",{children:"Secci\xf3n:"}),Object(_e.jsxs)("select",{name:"section",value:g,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige"}),c.length>0&&c.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(_e.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(_e.jsxs)("div",{className:"event-input-1",children:[Object(_e.jsx)("label",{children:"M\xe1quina:"}),Object(_e.jsxs)("select",{name:"machine",value:N,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige M\xe1quina"}),r.length>0&&r.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"event-input-2",children:[Object(_e.jsx)("label",{children:"N\xfamero: "}),Object(_e.jsxs)("select",{name:"number",value:C,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Secci\xf3n"}),i.length>0&&i.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.number},e.id)}))]})]})]}),Object(_e.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(_e.jsxs)("div",{className:"event-input-1",children:[Object(_e.jsx)("label",{children:"T\xe9cnico: "}),Object(_e.jsxs)("select",{name:"technician",value:S,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),u.length>0&&u.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"event-input-2",children:[Object(_e.jsx)("label",{children:"Tipo aver\xeda: "}),Object(_e.jsxs)("select",{name:"breakdown",value:x,disabled:!0,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Aver\xeda"}),d.length>0&&d.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(_e.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(_e.jsxs)("div",{className:"event-input-1",children:[Object(_e.jsx)("label",{children:"F. Inicio:"}),Object(_e.jsx)(Na.a,{selected:w,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,name:"start",disabled:!0})]}),Object(_e.jsxs)("div",{className:"event-input-2",children:[Object(_e.jsx)("label",{children:"F. Fin:"}),Object(_e.jsx)(Na.a,{selected:k,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,name:"end"})]})]}),Object(_e.jsxs)("div",{className:"event-input-wrapper-3",children:[Object(_e.jsx)("label",{children:"Descripci\xf3n:"}),Object(_e.jsx)("textarea",{name:"description",disabled:!0,value:v})]}),Object(_e.jsx)("div",{className:"event-input-wrapper-single",children:Object(_e.jsxs)("div",{className:"event-input",children:[Object(_e.jsx)("label",{children:"Total tiempo de trabajo:"}),Object(_e.jsxs)("div",{className:"totalmins-wrapper",children:[Object(_e.jsx)("input",{type:"text",name:"totalMins",disabled:!0,value:I}),Object(_e.jsx)("span",{children:"mins."})]})]})}),Object(_e.jsx)("div",{className:"event-button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-detail",onClick:function(){var e=document.querySelector(".modal-calendar");e.classList.remove("animate__fadeIn"),e.classList.add("animate__fadeOut"),ja(),_(ra());E.push("/order")},children:"Ver orden"})})]})]})})})},Sa=function(e){var t=e.columns,a=e.data,c=Object(s.c)((function(e){return e.calendar})).events,r=Object(s.c)((function(e){return e.calendar})).types,i=Object(s.c)((function(e){return e.calendar})).breakdowns,o=Object(s.c)((function(e){return e.factory})).factories,l=Object(s.c)((function(e){return e.factory})).sections,d=Object(s.c)((function(e){return e.factory})).numbers,u=Object(s.c)((function(e){return e.factory})).machines,j=Object(n.useState)(!1),b=Object(Fe.a)(j,2),m=b[0],p=b[1],O=Object(s.b)(),f=Object(da.useTable)({columns:t,data:a},da.useSortBy),h=f.getTableProps,x=f.getTableBodyProps,v=f.headerGroups,g=f.prepareRow,y=f.rows,N=function(e){var t=e.target.attributes[0].nodeValue;if(t&&"undefined"!==t&&"cell"!==t&&c&&!(c.length<1)&&void 0!==c){var a=ba(t,c);p(!0),O(ot(a)),O(ca()),ua()}};return Object(_e.jsxs)("div",{className:"table-wrapper",children:[m&&Object(_e.jsx)(ka,{setTableModal:p}),Object(_e.jsxs)("table",Object(Pe.a)(Object(Pe.a)({},h()),{},{children:[Object(_e.jsx)("thead",{children:v.map((function(e){return Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(_e.jsx)("th",Object(Pe.a)(Object(Pe.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.render("Header")}))}))}))}))}),r&&i&&o&&l&&d&&u&&Object(_e.jsx)("tbody",Object(Pe.a)(Object(Pe.a)({},x()),{},{children:y.map((function(e){return g(e),Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getRowProps()),{},{onClick:N,children:e.cells.map((function(e,t){var a,n;switch(e.column.id){case"start":return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:la()(e.value).format("DD-MM-YYYY HH:mm").toString()},t);case"orderType":var c=null===(a=ma(e.value,r))||void 0===a?void 0:a.name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:c},t);case"breakdown":var s=null===(n=pa(e.value,i))||void 0===n?void 0:n.name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:s},t);case"description":return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:e.value},t);default:return Object(_e.jsx)("td",Object(Pe.a)(Object(Pe.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}}))}))}))}))]}))]})},Ca=[{Header:"C\xf3digo",accessor:"code"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Cantidad",accessor:"quantity"},{Header:"Stock M\xednimo",accessor:"minStock"},{Header:"Ubicaci\xf3n",accessor:"place"}],Ta=[{Header:"Fecha Inicio",accessor:"start"},{Header:"Tipo Orden",accessor:"orderType"},{Header:"Aver\xeda",accessor:"breakdown"},{Header:"Factor\xeda",accessor:"factory"},{Header:"Secci\xf3n",accessor:"section"},{Header:"N\xfamero",accessor:"number"},{Header:"M\xe1quina",accessor:"machine"},{Header:"Tiempo Trabajo",accessor:"totalMins"},{Header:"Estado",accessor:"closed"}],Ia=[{Header:"Fecha Inicio",accessor:"start"},{Header:"Tipo Orden",accessor:"orderType"},{Header:"Aver\xeda",accessor:"breakdown"},{Header:"Descripci\xf3n",accessor:"description"}],Ea=a(49),_a=a.n(Ea),La=function(e){var t=e.closeToast,a=e.handleDeleteItem,n=e.code,c=e.message;return Object(_e.jsxs)("div",{className:"toast-wrapper-container",children:[Object(_e.jsxs)("p",{children:[c," ",Object(_e.jsx)("b",{children:n}),"?"]}),Object(_e.jsxs)("div",{className:"toast-wrapper-buttons",children:[Object(_e.jsx)("span",{onClick:t,className:"btn btn-cancel-toast",children:"Cancelar"}),Object(_e.jsx)("span",{onClick:function(e){e.stopPropagation(),t(),a()},className:"btn btn-agree-toast",children:"Aceptar"})]})]})},qa={description:""},Da=function(e){var t=e.setShowWarningModal,a=Object(s.c)((function(e){return e.ui})).modalOpen,c=Object(s.b)(),r=Object(n.useState)(qa),i=Object(Fe.a)(r,2),o=i[0],l=i[1],j=o.description,b=function(){c(ra()),t(!1),l(qa),ja()};return Object(_e.jsxs)("div",{children:[Object(_e.jsxs)(ga.a,{isOpen:a,className:"modal-warning animate__animated animate__fadeIn animate__fast",onRequestClose:b,contentLabel:"Warning Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("span",{className:"close-event-modal",onClick:b,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsx)("h1",{className:"h1-modal",children:"Generar Aviso"}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=!0;if(j.trim().length<10?(t=!1,document.querySelector('input[name="description"]').classList.add("border-red")):document.querySelector('input[name="description"]').classList.remove("border-red"),!t)return Be.c.error("Debes introducir al menos 10 caracteres",{position:Be.c.POSITION.TOP_CENTER});c(function(e){var t=e.description;return function(){var e=Object(u.a)(d.a.mark((function e(a){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warnings/",{description:t},"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,(r=c.warning)?(a(Bt({id:r.id,description:r.description})),Be.c.success(Object(_e.jsx)(Ze,{text:"Aviso agregado con \xe9xito"}))):Be.c.error(Object(_e.jsx)(We,{text:"Error al agregar el aviso!"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),Be.c.error(Object(_e.jsx)(We,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}(o)),b()},children:[Object(_e.jsxs)("div",{className:"grid-warning",children:[Object(_e.jsx)("label",{children:"Aviso:"}),Object(_e.jsx)("input",{type:"text",name:"description",value:j,onChange:function(e){var t=e.target;l(Object(Pe.a)(Object(Pe.a)({},o),{},Object(De.a)({},t.name,t.value)))},autoComplete:"off"})]}),Object(_e.jsx)("div",{className:"warning-button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-detail",children:"Guardar"})})]})]}),a&&Object(_e.jsx)(Be.b,{})]}),!a&&Object(_e.jsx)(Be.b,{})]})},Pa=function(){var e,t,a=Object(s.b)(),c=Object(s.c)((function(e){return e.warning})).warnings,r=Object(n.useState)(!1),o=Object(Fe.a)(r,2),l=o[0],j=o[1],b=Object(n.useState)(!0),m=Object(Fe.a)(b,2),O=m[0],f=m[1];Object(n.useEffect)((function(){a(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warnings/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.warnings)&&t(Rt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[a]),Object(n.useEffect)((function(){window.innerWidth<500&&f(!1)}),[]);var h,x=Ia,v=Object(s.c)((function(e){return e.calendar})).events,g=!(h=v)||h.length<1||"undefined"===h?[]:h.filter((function(e){return!e.closed})),y=Object(s.c)((function(e){return e.statistics})),N=y.weeks,w=y.threeWeekSections,k=y.lastWeekByOrderType,S=function(e){a(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("warnings/".concat(e),{},"DELETE");case 3:return n=t.sent,t.next=6,n.json();case 6:t.sent.destroyed?(a(Vt(e)),Be.c.success(Object(_e.jsx)(Ze,{text:"Aviso eliminado con \xe9xito"}))):Be.c.error(Object(_e.jsx)(We,{text:"Error al eliminar el Item!"})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),Be.c.error(Object(_e.jsx)(We,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e))},C={labels:k.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}},legend:{show:O}},T={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:N,title:{text:"Semana"}},yaxis:{title:{text:"Intervenciones"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" intervenciones"}}},legend:{show:O,position:"bottom",containerMargin:{top:30}},responsive:[{breakpoint:500,options:{legend:{fontSize:"8px"}}}]};return Object(_e.jsxs)("div",{className:"animate__animated animate__fadeIn dashboard-screen",children:[Object(_e.jsx)("h1",{children:"DashBoard"}),Object(_e.jsxs)("div",{className:"main-content_dashboard",children:[Object(_e.jsxs)("div",{className:"charts",children:[Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por secci\xf3n/semana"}),w.length>0&&N.length>0&&Object(_e.jsx)(_a.a,{options:T,series:w,type:"bar",width:"100%"})]}),Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones semana previa"}),k&&(null===k||void 0===k||null===(e=k.quantities)||void 0===e?void 0:e.length)>0&&(null===k||void 0===k||null===(t=k.names)||void 0===t?void 0:t.length)>0&&Object(_e.jsx)(_a.a,{className:"chart-pie",options:C,series:k.quantities,type:"donut",width:"100%"})]})]}),Object(_e.jsxs)("div",{className:"events-alerts-wrapper",children:[Object(_e.jsxs)("div",{className:"lasts-events-wrapper",children:[Object(_e.jsxs)("div",{className:"header-warnings",children:[Object(_e.jsx)("h3",{className:"h3-dashboard",children:"Eventos activos"}),Object(_e.jsx)(i.b,{to:"/neworder",children:Object(_e.jsx)("i",{className:"fas fa-plus-circle"})})]}),Object(_e.jsx)("div",{className:"lasts-events",children:g.length>0&&Object(_e.jsx)(Sa,{columns:x,data:g})})]}),Object(_e.jsxs)("div",{className:"lasts-alerts-wrapper",children:[Object(_e.jsxs)("div",{className:"header-warnings",children:[Object(_e.jsx)("h3",{className:"h3-dashboard",children:"Avisos"}),Object(_e.jsx)("i",{className:"fas fa-plus-circle",onClick:function(){j(!0),ua(),a(ca())}})]}),Object(_e.jsx)("div",{className:"alerts-wrapper",children:c&&c.map((function(e,t){return Object(_e.jsx)("div",{className:"warnings",children:Object(_e.jsxs)("div",{className:"warning",children:[Object(_e.jsx)("p",{children:e.description}),Object(_e.jsx)("i",{className:"far fa-trash-alt",onClick:function(){return function(e,t){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return S(e)},code:c[t].description,message:"Est\xe1s seguro de borrar el aviso "}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(e.id,t)}})]})},e.id)}))})]})]}),l&&Object(_e.jsx)(Da,{setShowWarningModal:j}),Object(_e.jsx)(Be.b,{})]})]})},Fa=a(26),Ma=a(52),Aa=a.n(Ma),Ha=(a(75),{name:"",email:"",password:"",admin:!1}),Ra=function(e){var t=e.idUser,a=e.setIdUser,c=e.users,r=e.setUsers,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(n.useState)(Ha),j=Object(Fe.a)(l,2),b=j[0],m=j[1],O=Object(n.useState)(!1),f=Object(Fe.a)(O,2),h=f[0],x=f[1],v=b.name,g=b.email,y=b.password,N=b.admin;Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p("users/".concat(t),void 0,"GET");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,(c=n.user)&&(m(Object(Pe.a)(Object(Pe.a)({},b),c)),x(!0));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(e){var t=e.target;m(Object(Pe.a)(Object(Pe.a)({},b),{},Object(De.a)({},t.name,t.value)))},k=function(){var e=Object(u.a)(d.a.mark((function e(a){var n,s,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.stopPropagation(),n=!0,s="",Aa.a.isEmail(g)?document.querySelector(".email-modal").classList.remove("border-red"):(document.querySelector(".email-modal").classList.add("border-red"),n=!1,s+="El email debe de ser un email v\xe1lido. \n"),v.trim().length<4?(document.querySelector(".name-modal").classList.add("border-red"),n=!1,s+="El nombre debe de tener al menos 4 caracteres. \n"):document.querySelector(".name-modal").classList.remove("border-red"),y.trim().length<6?(document.querySelector(".password-modal").classList.add("border-red"),n=!1,s+="La password debe de tener al menos 4 caracteres. \n"):document.querySelector(".password-modal").classList.remove("border-red"),n){e.next=9;break}return e.abrupt("return",Be.c.error(s,{position:Be.c.POSITION.TOP_CENTER}));case 9:return e.next=11,i(Ie(Object(Pe.a)(Object(Pe.a)({},b),{},{id:t})));case 11:(o=e.sent).ok?(Be.c.success(Object(_e.jsx)(Ze,{text:o.msg}),{position:Be.c.POSITION.TOP_CENTER}),l=c.map((function(e){return e.id===o.user.id?o.user:e})),r(Object(Fa.a)(l))):Be.c.error(Object(_e.jsx)(We,{text:o.msg}),{position:Be.c.POSITION.TOP_CENTER}),S();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){ja(),m(Ha),a(null),setTimeout((function(){i(ra())}),200)};return Object(_e.jsx)("div",{children:Object(_e.jsxs)(ga.a,{isOpen:o,className:"admin-modal animate__animated animate__fadeIn animate__faster",onRequestClose:S,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("span",{className:"close-event-modal",onClick:S,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsx)("h1",{className:"h1-modal",children:"Editar Usuario"}),!0===h&&Object(_e.jsxs)("form",{className:"form-main-wrapper",onSubmit:k,children:[Object(_e.jsxs)("div",{className:"grid-items2",children:[Object(_e.jsx)("label",{children:"Admin: "}),Object(_e.jsx)(Ge.a,{onChange:function(){m(Object(Pe.a)(Object(Pe.a)({},b),{},{admin:!N}))},checked:N,onColor:"#ffa600",height:14,width:30})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Email: "}),Object(_e.jsx)("input",{className:"email-modal",type:"text",name:"email",autoComplete:"off",value:g,onChange:w,placeholder:"Email"})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Nombre: "}),Object(_e.jsx)("input",{className:"name-modal",type:"text",name:"name",autoComplete:"off",value:v,onChange:w,placeholder:"Nombre"})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Password: "}),Object(_e.jsx)("input",{className:"password-modal",type:"password",name:"password",autoComplete:"off",value:y,onChange:w,placeholder:"Password"})]}),Object(_e.jsx)("div",{className:"wrapper-button",children:Object(_e.jsx)("button",{className:"btn btn-order",type:"submit",children:"Crear"})})]})]}),o&&Object(_e.jsx)(Be.b,{})]})})},Va=function(){var e=Object(n.useState)({email:"",name:"",password:""}),t=Object(Fe.a)(e,2),a=t[0],c=t[1],r=a.email,i=a.name,o=a.password,l=Object(n.useState)({orderId:""}),j=Object(Fe.a)(l,2),b=j[0],m=j[1],O=b.orderId,f=Object(n.useState)([]),h=Object(Fe.a)(f,2),x=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(Fe.a)(g,2),N=y[0],w=y[1],k=Object(n.useState)(null),S=Object(Fe.a)(k,2),C=S[0],T=S[1],I=Object(s.b)();Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("users/",void 0,"GET");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,(n=a.users)&&v(Object(Fa.a)(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=function(e){var t=e.target,n=t.name;document.querySelector('input[name="'.concat(n,'"]')).classList.remove("border-red"),c(Object(Pe.a)(Object(Pe.a)({},a),{},Object(De.a)({},t.name,t.value)))},_=function(e,t,a){var n=a?"Est\xe1s seguro de deshabilitar el usuario":"Est\xe1s seguro de habilitar el usuario";Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return L(e)},code:t,message:n}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},L=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Ee(t));case 2:(null===(a=e.sent)||void 0===a?void 0:a.ok)?(v(x.map((function(e){return e.id===a.user.id?a.user:e}))),Be.c.success(Object(_e.jsx)(Ze,{text:a.msg}),{position:Be.c.POSITION.TOP_CENTER})):Be.c.error(Object(_e.jsx)(We,{text:a.msg}),{position:Be.c.POSITION.TOP_CENTER});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),n=!0,s="",Aa.a.isEmail(r)?document.querySelector('input[name="email"]').classList.remove("border-red"):(document.querySelector('input[name="email"]').classList.add("border-red"),n=!1,s+="El email debe de ser un email v\xe1lido. \n"),i.trim().length<4?(document.querySelector('input[name="name"]').classList.add("border-red"),n=!1,s+="El nombre debe de tener al menos 4 caracteres. \n"):document.querySelector('input[name="name"]').classList.remove("border-red"),o.trim().length<6?(document.querySelector('input[name="password"]').classList.add("border-red"),n=!1,s+="La password debe de tener al menos 4 caracteres. \n"):document.querySelector('input[name="password"]').classList.remove("border-red"),n){e.next=9;break}return e.abrupt("return",Be.c.error(s,{position:Be.c.POSITION.TOP_CENTER}));case 9:return e.next=11,I(Te(Object(Pe.a)(Object(Pe.a)({},a),{},{admin:N})));case 11:(null===(l=e.sent)||void 0===l?void 0:l.ok)?(v([].concat(Object(Fa.a)(x),[l.user])),Be.c.success(Object(_e.jsx)(Ze,{text:l.msg}),{position:Be.c.POSITION.TOP_CENTER}),c({email:"",name:"",password:""}),w(!1)):(u=l.msg||"Error al crear el usuario, int\xe9ntelo m\xe1s tarde",Be.c.error(Object(_e.jsx)(We,{text:u}),{position:Be.c.POSITION.TOP_CENTER}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,a="",Number.isInteger(Number(O))&&0!==O.trim().length&&Aa.a.isNumeric(O)?document.querySelector('input[name="orderId"]').classList.remove("border-red"):(document.querySelector('input[name="orderId"]').classList.add("border-red"),t=!1,a+="El id es obligatorio y debe de ser num\xe9rico. \n"),t){e.next=5;break}return e.abrupt("return",Be.c.error(a,{position:Be.c.POSITION.TOP_CENTER}));case 5:return e.next=7,I(pt(O));case 7:(n=e.sent).ok?Be.c.success(Object(_e.jsx)(Ze,{text:n.msg}),{position:Be.c.POSITION.TOP_CENTER}):Be.c.error(Object(_e.jsx)(We,{text:n.msg}),{position:Be.c.POSITION.TOP_CENTER}),m({orderId:""});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_e.jsxs)("div",{className:"admin-screen animate__animated animate__fadeIn",children:[C&&Object(_e.jsx)(Ra,{setIdUser:T,idUser:C,users:x,setUsers:v}),Object(_e.jsx)(Be.b,{}),Object(_e.jsx)("h1",{children:"Administraci\xf3n"}),Object(_e.jsxs)("div",{className:"users-main-wrapper",children:[Object(_e.jsxs)("div",{className:"wrapper-users-table",children:[Object(_e.jsx)("h3",{children:"Usuarios registrados"}),Object(_e.jsxs)("div",{className:"users-header",children:[Object(_e.jsx)("div",{children:"ID"}),Object(_e.jsx)("div",{children:"Email"}),Object(_e.jsx)("div",{children:"Nombre"}),Object(_e.jsx)("div",{children:"Admin"}),Object(_e.jsx)("div",{children:"Activo"}),Object(_e.jsx)("div",{children:"Opciones"})]}),x&&x.length>0&&x.map((function(e){return Object(_e.jsxs)("div",{className:"users-body",children:[Object(_e.jsx)("div",{children:e.id}),Object(_e.jsx)("div",{children:e.email}),Object(_e.jsx)("div",{children:e.name}),Object(_e.jsx)("div",{children:e.admin?"Si":"No"}),Object(_e.jsx)("div",{className:"user-status",children:e.active?Object(_e.jsx)("i",{className:"fas fa-check"}):Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("div",{className:"options-user",children:[Object(_e.jsx)("i",{className:"fas fa-wrench",onClick:function(){var t;t=e.id,T(t),ua(),I(ca())}}),e.active?Object(_e.jsx)("i",{className:"fas fa-user-minus",onClick:function(){_(e.id,e.name,e.active)}}):Object(_e.jsx)("i",{className:"fas fa-user-plus",onClick:function(){_(e.id,e.name,e.active)}})]})]},e.id)}))]}),Object(_e.jsxs)("div",{className:"forms-wrapper",onSubmit:q,children:[Object(_e.jsxs)("form",{className:"form-add-users",children:[Object(_e.jsx)("h3",{children:"Agregar nuevo usuario"}),Object(_e.jsxs)("div",{className:"main-wrapper-inputs",children:[Object(_e.jsxs)("div",{className:"wrapper-input",children:[Object(_e.jsx)("label",{children:"Admin: "}),Object(_e.jsx)(Ge.a,{onChange:function(){w(!N)},checked:N,onColor:"#ffa600",height:20,width:42})]}),Object(_e.jsxs)("div",{className:"wrapper-input",children:[Object(_e.jsx)("label",{children:"Email: "}),Object(_e.jsx)("input",{type:"text",name:"email",value:r,onChange:E,placeholder:"Email",autoComplete:"off"})]}),Object(_e.jsxs)("div",{className:"wrapper-input",children:[Object(_e.jsx)("label",{children:"Nombre: "}),Object(_e.jsx)("input",{type:"name",name:"name",value:i,onChange:E,placeholder:"Nombre",autoComplete:"off"})]}),Object(_e.jsxs)("div",{className:"wrapper-input",children:[Object(_e.jsx)("label",{children:"Password: "}),Object(_e.jsx)("input",{type:"password",name:"password",value:o,onChange:E,placeholder:"Password",autoComplete:"off"})]})]}),Object(_e.jsx)("div",{className:"main-wrapper-submit",children:Object(_e.jsx)("button",{className:"btn btn-order",type:"submit",children:"Crear"})})]}),Object(_e.jsxs)("form",{className:"form-remove-orders",onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),""===O)return document.querySelector('input[name="orderId"]').classList.add("border-red"),Be.c.error("Debes indicar el n\xfamero de orden",{position:Be.c.POSITION.TOP_CENTER});Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:D,code:O,message:"Est\xe1s seguro de borrar la order con el n\xfamero"}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:[Object(_e.jsx)("h3",{children:"Eliminar orden"}),Object(_e.jsxs)("div",{className:"wrapper-input",children:[Object(_e.jsx)("label",{children:"N\xfamero Orden: "}),Object(_e.jsx)("input",{type:"text",value:O,onChange:function(e){var t=e.target;document.querySelector('input[name="'.concat(t.name,'"]')).classList.remove("border-red"),m(Object(Pe.a)(Object(Pe.a)({},a),{},Object(De.a)({},t.name,t.value)))},placeholder:"N\xfamero",autoComplete:"off",name:"orderId"})]}),Object(_e.jsx)("div",{className:"main-wrapper-submit",children:Object(_e.jsx)("button",{className:"btn btn-order-cancel",type:"submit",children:"Eliminar"})})]})]})]})]})},Ba=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return e.toString()===t.numberId.toString()}))},Wa=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return t.factoryId.toString()===e.toString()}))},Ua=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return t.sectionId.toString()===e.toString()}))},Ga=a(39),za=a(40),Ya=(a(317),function(e){var t=e.setShowAddModal,a=e.formValues,c=e.setFormValues,r=Object(s.c)((function(e){return e.ui})).modalOpen,i=Object(s.b)(),o=Object(n.useState)({operation:"",time:""}),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=d.operation,b=d.time,m=a.operations,p=function(){t(!1),i(ra()),ja()},O=function(e){var t=e.target;u(Object(Pe.a)(Object(Pe.a)({},d),{},Object(De.a)({},t.name,t.value)))};return Object(_e.jsxs)(ga.a,{isOpen:r,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:p,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Agregar Operaci\xf3n"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:p,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if(j.trim().length<=2||""===j?(t=!1,document.querySelector('input[name="operation"]').classList.add("border-red")):document.querySelector('input[name="operation"]').classList.remove("border-red"),isNaN(parseInt(b))||""===b||!/^\d+(\.\d{1,2})?$/.test(b))t=!1,document.querySelector('input[name="time"]').classList.add("border-red");else if(b.indexOf(".")>0){var n=b.split("."),r=Object(Fe.a)(n,2)[1];"25"===r||"50"===r||"75"===r||"5"===r?document.querySelector('input[name="time"]').classList.remove("border-red"):(t=!1,document.querySelector('input[name="time"]').classList.add("border-red"))}else document.querySelector('input[name="time"]').classList.remove("border-red");if(!t)return Be.c.error("Revise los campos marcados en rojo, el tiempo debe de ser n\xfameros positivo enteros o .25, .50, .75",{position:"top-center"});c(Object(Pe.a)(Object(Pe.a)({},a),{},{operations:[].concat(Object(Fa.a)(m),[d])})),p()},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Operaci\xf3n: "}),Object(_e.jsx)("input",{value:j,type:"text",name:"operation",onChange:O,autoComplete:"off"})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Tiempo: "}),Object(_e.jsx)("input",{value:b,type:"number",name:"time",min:"0.25",step:"0.01",onChange:O,autoComplete:"off"})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Guardar"})})]})]}),Object(_e.jsx)(Be.b,{})]})}),Ja=function(e){var t=e.index,a=e.setIndex,c=e.formValues,r=e.setFormValues,i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.b)(),l=Object(n.useState)({operation:"",time:""}),d=Object(Fe.a)(l,2),u=d[0],j=d[1],b=u.operation,m=u.time,p=c.operations;Object(n.useEffect)((function(){null!=t&&p.length>=t&&j(Object(Pe.a)({},p[t]))}),[t,p]);var O=function(){a(null),o(ra()),ja()},f=function(e){var t=e.target;j(Object(Pe.a)(Object(Pe.a)({},u),{},Object(De.a)({},t.name,t.value)))};return Object(_e.jsxs)(ga.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:O,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Editar Operaci\xf3n"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:O,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=!0;if(b.trim().length<=2||""===b?(a=!1,document.querySelector('input[name="operation"]').classList.add("border-red")):document.querySelector('input[name="operation"]').classList.remove("border-red"),isNaN(parseInt(m))||""===m||!/^\d+(\.\d{1,2})?$/.test(m))a=!1,document.querySelector('input[name="time"]').classList.add("border-red");else if(m.toString().indexOf(".")>0){var n=m.split("."),s=Object(Fe.a)(n,2)[1];"25"===s||"50"===s||"75"===s||"5"===s?document.querySelector('input[name="time"]').classList.remove("border-red"):(a=!1,document.querySelector('input[name="time"]').classList.add("border-red"))}else document.querySelector('input[name="time"]').classList.remove("border-red");if(!a)return Be.c.error("Revise los campos marcados en rojo, el tiempo debe de ser n\xfameros positivo enteros o .25, .50, .75",{position:"top-center"});r(Object(Pe.a)(Object(Pe.a)({},c),{},{operations:p.map((function(e,a){return a===t?u:e}))})),O()},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Operaci\xf3n: "}),Object(_e.jsx)("input",{value:b,type:"text",name:"operation",onChange:f,autoComplete:"off"})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Tiempo: "}),Object(_e.jsx)("input",{value:m,type:"number",name:"time",min:"0.25",step:"0.01",onChange:f,autoComplete:"off"})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Guardar"})})]})]}),Object(_e.jsx)(Be.b,{})]})},Xa=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=t.operations,o=Object(n.useState)(!1),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Fe.a)(j,2),m=b[0],p=b[1],O=function(e){var n=i.filter((function(t,a){return a!==e&&t}));a(Object(Pe.a)(Object(Pe.a)({},t),{},{operations:n}))};return Object(_e.jsxs)("div",{className:"tab-table-wrapper",children:[Object(_e.jsxs)("div",{children:[Object(_e.jsxs)("div",{className:"header-tab-table header-tab-table1",children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"Tiempo"})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"Operaciones"})})]}),i.length>0&&i.map((function(e,t){return Object(_e.jsxs)("div",{className:"header-tab-body header-tab-body1",children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:e.time})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:e.operation})}),Object(_e.jsx)("div",{children:!c&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return O(e)},code:i[e].operation,message:"Est\xe1s seguro de borrar la operaci\xf3n "}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(_e.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){p(e),r(ca()),ua()}(t)}})]})})]},t)})),d&&Object(_e.jsx)(Ya,{formValues:t,setFormValues:a,setShowAddModal:u}),m>=0&&!d&&Object(_e.jsx)(Ja,{index:m,setIndex:p,formValues:t,setFormValues:a})]}),!c&&Object(_e.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){u(!0),r(ca()),ua()},children:[Object(_e.jsx)("i",{className:"fas fa-plus"}),Object(_e.jsx)("span",{children:"Agregar Operaci\xf3n"})]})]})},$a=function(e,t){return t.find((function(t){return t.id.toString()===e}))},Ka=function(e){var t=e.setShowAddModal,a=e.formValues,c=e.setFormValues,r=Object(s.b)(),i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.c)((function(e){return e.crew})).technicians,l=Object(n.useState)({userId:"0",start:new Date,end:la()().add("1","hours").toDate()}),d=Object(Fe.a)(l,2),u=d[0],j=d[1],b=u.userId,m=u.start,p=u.end,O=a.clocks,f=a.startWork,h=function(){ja(),t(!1),r(ra())};return Object(_e.jsxs)(ga.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:h,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Nuevo Fichaje"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:h,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if(""===b||b<=0?(t=!1,document.querySelector('select[name="user"]').classList.add("border-red")):document.querySelector('select[name="user"]').classList.remove("border-red"),la()(m).isValid?document.querySelector(".clock-start-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red")),la()(p).isValid?document.querySelector(".clock-end-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-end-modal").classList.add("border-red")),la()(m).isSameOrAfter(p)&&(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red"),document.querySelector(".clock-end-modal").classList.add("border-red")),!t)return Be.c.error("Revise los campos marcados en rojo",{position:Be.c.POSITION.TOP_CENTER});c(Object(Pe.a)(Object(Pe.a)({},a),{},{clocks:[].concat(Object(Fa.a)(O),[u])})),h()},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"T\xe9cnico: "}),Object(_e.jsxs)("select",{name:"user",value:b,onChange:function(e){var t=e.target.value,a=$a(t,o).name;a&&j(Object(Pe.a)(Object(Pe.a)({},u),{},{userId:t,user:a}))},children:[Object(_e.jsx)("option",{value:"0",disabled:!0,children:"Elige T\xe9cnico"}),o.length>0&&o.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Hora Inicio: "}),Object(_e.jsx)(Na.a,{className:"clock-start-modal",selected:m,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){j(Object(Pe.a)(Object(Pe.a)({},u),{},{start:e}))},locale:Ga.a,minDate:f})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Hora Fin: "}),Object(_e.jsx)(Na.a,{className:"clock-end-modal",selected:p,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){j(Object(Pe.a)(Object(Pe.a)({},u),{},{end:e}))},minDate:m,locale:Ga.a})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Aceptar"})})]})]}),Object(_e.jsx)(Be.b,{})]})},Qa=function(e){var t=e.setIndex,a=e.index,c=e.formValues,r=e.setFormValues,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(s.c)((function(e){return e.crew})).technicians,d=Object(n.useState)({userId:"",user:"default",start:new Date,end:la()().add("1","hours").toDate()}),u=Object(Fe.a)(d,2),j=u[0],b=u[1],m=j.userId,p=j.user,O=j.start,f=j.end,h=c.clocks,x=c.startWork;Object(n.useEffect)((function(){null!==a&&h.length>=a&&b(Object(Pe.a)({},h[a]))}),[a,h]);var v=function(){ja(),t(null),i(ra())};return Object(_e.jsxs)(ga.a,{isOpen:o,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:v,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Editar Fichaje"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:v,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if("default"===p||0===p.trim().length?(t=!1,document.querySelector('select[name="user"]').classList.add("border-red")):document.querySelector('select[name="user"]').classList.remove("border-red"),la()(O).isValid?document.querySelector(".clock-start-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red")),la()(f).isValid?document.querySelector(".clock-end-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-end-modal").classList.add("border-red")),la()(O).isSameOrAfter(f)&&(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red"),document.querySelector(".clock-end-modal").classList.add("border-red")),!t)return Be.c.error("Revise los campos marcados en rojo",{position:Be.c.POSITION.TOP_CENTER});r(Object(Pe.a)(Object(Pe.a)({},c),{},{clocks:h.map((function(e,t){return t===a?j:e}))})),v()},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"T\xe9cnico: "}),Object(_e.jsxs)("select",{name:"user",value:m,onChange:function(e){var t=e.target.value,a=$a(t,l).name;a&&b(Object(Pe.a)(Object(Pe.a)({},j),{},{userId:t,user:a}))},children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),l.length>0&&l.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Hora Inicio: "}),Object(_e.jsx)(Na.a,{className:"clock-start-modal",selected:O,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){b(Object(Pe.a)(Object(Pe.a)({},j),{},{start:e}))},locale:Ga.a,minDate:x})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Hora Fin: "}),Object(_e.jsx)(Na.a,{className:"clock-end-modal",selected:f,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){b(Object(Pe.a)(Object(Pe.a)({},j),{},{end:e}))},minDate:O,locale:Ga.a})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Aceptar"})})]})]}),Object(_e.jsx)(Be.b,{})]})},Za=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=Object(s.c)((function(e){return e.crew})).technicians,o=Object(n.useState)(!1),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Fe.a)(j,2),m=b[0],p=b[1],O=t.clocks,f=function(e){var n=O.filter((function(t,a){return a!==e&&t}));a(Object(Pe.a)(Object(Pe.a)({},t),{},{clocks:n}))};return Object(_e.jsxs)("div",{className:"tab-table-wrapper",children:[Object(_e.jsxs)("div",{children:[Object(_e.jsxs)("div",{className:"header-tab-table header-tab-table2",children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"T\xe9cnico"})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"H. Inicio"})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"H. Fin"})})]}),O.length>0&&O.map((function(e,t){return Object(_e.jsxs)("div",{className:"header-tab-body header-tab-body2",children:[Object(_e.jsx)("select",{className:"select-tab-user-clock",name:"user",value:e.userId,disabled:!0,children:i.length>0&&i.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(_e.jsx)("div",{children:Object(_e.jsx)(Na.a,{selected:e.start,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,disabled:!0})}),Object(_e.jsx)("div",{children:Object(_e.jsx)(Na.a,{selected:e.end,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,disabled:!0})}),Object(_e.jsx)("div",{children:!c&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return f(e)},code:O[e].user,message:"Est\xe1s seguro de borrar el fichaje de "}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(_e.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){ua(),p(e),r(ca())}(t)}})]})})]},t)})),d&&Object(_e.jsx)(Ka,{setShowAddModal:u,formValues:t,setFormValues:a}),m>=0&&!d&&Object(_e.jsx)(Qa,{setIndex:p,index:m,formValues:t,setFormValues:a})]}),!c&&Object(_e.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){ua(),u(!0),r(ca())},children:[Object(_e.jsx)("i",{className:"far fa-clock"}),Object(_e.jsx)("span",{children:"Fichar"})]})]})},en=function(e){var t=e.formValues,a=e.setFormValues,c=e.setShowAddModal,r=Object(s.b)(),i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.c)((function(e){return e.warehouse})).items,l=t.materials,d=Object(n.useState)({code:"",description:"",quantity:"1"}),u=Object(Fe.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)([]),p=Object(Fe.a)(m,2),O=p[0],f=p[1],h=Object(n.useState)(""),x=Object(Fe.a)(h,2),v=x[0],g=x[1],y=Object(n.useState)(!1),N=Object(Fe.a)(y,2),w=N[0],k=N[1],S=j.description,C=j.quantity;Object(n.useEffect)((function(){r(tt())}),[r]),Object(n.useEffect)((function(){if(v){var e=o.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(v.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(v.toLowerCase()))&&e}));f(e)}else f([])}),[v,o]);var T=function(){ja(),c(!1),r(ra())},I=function(e,t){k(!0),g(""),b(Object(Pe.a)(Object(Pe.a)({},j),{},{code:e,description:t}))};return Object(_e.jsxs)(ga.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:T,contentLabel:"Calendar Modal",ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Agregar Material"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:T,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),0===S.trim().length||""===S?Be.c.error("Debes elegir un material",{position:Be.c.POSITION.TOP_CENTER}):!Number.isInteger(Number(C))||parseInt(C)<=0||parseInt(C)>=100?(document.querySelector('input[name="quantity"]').classList.add("border-red"),Be.c.error("Debes de elegir como m\xednimo 1 unidad y m\xe1ximo 100",{position:Be.c.POSITION.TOP_CENTER})):(document.querySelector('input[name="quantity"]').classList.remove("border-red"),a(Object(Pe.a)(Object(Pe.a)({},t),{},{materials:[].concat(Object(Fa.a)(l),[j])})),void T())},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Buscar: "}),Object(_e.jsxs)("div",{className:"custom-input-searcher",children:[Object(_e.jsx)("input",{placeholder:"Buscar Material",name:"search",onChange:function(e){var t=e.target;g(t.value)},value:v,autoComplete:"off"}),O&&Object(_e.jsx)("ul",{onChange:I,className:"".concat(O.length>0?"go":""),children:O.map((function(e){return Object(_e.jsx)("li",{onClick:function(){return I(e.code,e.description)},children:e.description},e.code)}))})]})]}),w&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Material: "}),Object(_e.jsx)("input",{value:S,type:"text",name:"item",disabled:!0})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Cantidad: "}),Object(_e.jsx)("input",{value:C,type:"number",name:"quantity",min:"1",step:"1",onChange:function(e){var t=e.target;b(Object(Pe.a)(Object(Pe.a)({},j),{},Object(De.a)({},t.name,t.value)))},autoComplete:"off"})]})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Agregar"})})]})]}),Object(_e.jsx)(Be.b,{})]})},tn=function(e){var t=e.index,a=e.setIndex,c=e.formValues,r=e.setFormValues,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(s.c)((function(e){return e.warehouse})).items,d=c.materials,u=Object(n.useState)({code:"",description:"",quantity:"1"}),j=Object(Fe.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)([]),O=Object(Fe.a)(p,2),f=O[0],h=O[1],x=Object(n.useState)(""),v=Object(Fe.a)(x,2),g=v[0],y=v[1],N=Object(n.useState)(!1),w=Object(Fe.a)(N,2),k=w[0],S=w[1],C=b.description,T=b.quantity;Object(n.useEffect)((function(){i(tt())}),[i]),Object(n.useEffect)((function(){null!=t&&d.length>=t&&(m(d[t]),S(!0))}),[t,d]),Object(n.useEffect)((function(){if(g){var e=l.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(g.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(g.toLowerCase()))&&e}));h(e)}else h([])}),[g,l]);var I=function(){ja(),a(null),i(ra())},E=function(e,t){S(!0),y(""),m(Object(Pe.a)(Object(Pe.a)({},b),{},{code:e,description:t}))};return Object(_e.jsxs)(ga.a,{isOpen:o,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:I,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:"Editar Material"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:I,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),0===C.trim().length||""===C?Be.c.error("Debes elegir un material",{position:Be.c.POSITION.TOP_CENTER}):!Number.isInteger(Number(T))||parseInt(T)<=0||parseInt(T)>=100?(document.querySelector('input[name="quantity"]').classList.add("border-red"),Be.c.error("Debes de elegir como m\xednimo 1 unidad y m\xe1ximo 100",{position:Be.c.POSITION.TOP_CENTER})):(document.querySelector('input[name="quantity"]').classList.remove("border-red"),r(Object(Pe.a)(Object(Pe.a)({},c),{},{materials:d.map((function(e,a){return a===t?b:e}))})),void I())},children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Buscar: "}),Object(_e.jsxs)("div",{className:"custom-input-searcher",children:[Object(_e.jsx)("input",{placeholder:"Buscar Material",name:"search",onChange:function(e){var t=e.target;y(t.value)},value:g,autoComplete:"off"}),f&&Object(_e.jsx)("ul",{onChange:E,className:"".concat(f.length>0?"go":""),children:f.map((function(e){return Object(_e.jsx)("li",{onClick:function(){return E(e.code,e.description)},children:e.description},e.code)}))})]})]}),k&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Material: "}),Object(_e.jsx)("input",{value:C,type:"text",name:"item",disabled:!0})]}),Object(_e.jsxs)("div",{className:"grid-date",children:[Object(_e.jsx)("label",{children:"Cantidad: "}),Object(_e.jsx)("input",{value:T,type:"number",name:"quantity",min:"1",step:"1",onChange:function(e){var t=e.target;m(Object(Pe.a)(Object(Pe.a)({},b),{},Object(De.a)({},t.name,t.value)))},autoComplete:"off"})]})]}),Object(_e.jsx)("div",{className:"button-wrapper",children:Object(_e.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Agregar"})})]})]}),Object(_e.jsx)(Be.b,{})]})},an=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=t.materials,o=Object(n.useState)(!1),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Fe.a)(j,2),m=b[0],p=b[1],O=function(e){var n=i.filter((function(t,a){return a!==e&&t}));a(Object(Pe.a)(Object(Pe.a)({},t),{},{materials:n}))};return Object(_e.jsxs)("div",{className:"tab-table-wrapper",children:[Object(_e.jsxs)("div",{children:[Object(_e.jsxs)("div",{className:"header-tab-table header-tab-table3",children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"C\xf3digo"})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"Descripci\xf3n"})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:"Cantidad"})})]}),i&&i.length>0&&i.map((function(e,t){return Object(_e.jsxs)("div",{className:"header-tab-body header-tab-body3",children:[Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:e.code})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:e.description})}),Object(_e.jsx)("div",{children:Object(_e.jsx)("p",{children:e.quantity})}),Object(_e.jsx)("div",{className:"action-icons",children:!c&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return O(e)},code:i[e].description,message:"Est\xe1s seguro de borrar el item "}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(_e.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){p(e),r(ca()),ua()}(t)}})]})})]},t)})),d&&Object(_e.jsx)(en,{formValues:t,setFormValues:a,setShowAddModal:u}),m>=0&&!d&&Object(_e.jsx)(tn,{index:m,setIndex:p,formValues:t,setFormValues:a})]}),!c&&Object(_e.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){u(!0),r(ca()),ua()},children:[Object(_e.jsx)("i",{className:"fas fa-boxes"}),Object(_e.jsx)("span",{children:"Nuevo item"})]})]})},nn=function(e){var t=e.result,a=e.setShowModal,c=Object(s.b)(),r=Object(o.g)();Object(n.useEffect)((function(){if(Object.keys(t).length>0){var e=t.message;return t.ok?Be.c.success(Object(_e.jsx)(Ze,{text:e}),{autoClose:2e3,toastId:1,position:"top-center",onClose:function(){return l()}}):Be.c.error(Object(_e.jsx)(We,{text:e}),{autoClose:2e3,toastId:1,position:"top-center",onClose:function(){return i()}})}}),[t]);var i=function(){a(!1),ja()},l=function(){a(!1),ja(),c(lt());r.push("/calendar")};return Object(_e.jsx)("div",{className:"modal-advise animate__animated animate__fadeIn animate__fast",children:Object(_e.jsx)(Be.b,{transition:Be.a})})},cn={factory:"default",section:"default",machine:"default",number:"default",technician:"default",worker:"",orderType:"default",breakdown:"default",closed:!1,confirmed:!1,start:new Date,end:new Date,startFix:new Date,endFix:new Date,materials:[],operations:[],clocks:[],totalMins:0,description:""},rn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.factory})),a=t.factories,c=t.sections,r=t.machines,i=t.numbers,l=Object(s.c)((function(e){return e.calendar})),j=l.types,b=l.breakdowns,m=l.activeEvent,p=Object(s.c)((function(e){return e.crew})).technicians,O=Object(s.c)((function(e){return e.nav})).showResponsive,f=Object(s.c)((function(e){return e.auth})).admin,h=Object(n.useState)([]),x=Object(Fe.a)(h,2),v=x[0],g=x[1],y=Object(n.useState)([]),N=Object(Fe.a)(y,2),w=N[0],k=N[1],S=Object(n.useState)([]),C=Object(Fe.a)(S,2),T=C[0],I=C[1],E=Object(n.useState)(!1),_=Object(Fe.a)(E,2),L=_[0],q=_[1],D=Object(n.useState)({}),P=Object(Fe.a)(D,2),F=P[0],M=P[1],A=Object(n.useState)("*Selecciona una factor\xeda para para desbloquear el siguiente campo"),H=Object(Fe.a)(A,2),R=H[0],V=H[1],B=Object(n.useState)(cn),W=Object(Fe.a)(B,2),U=W[0],G=W[1],z=U.factory,Y=U.section,J=U.machine,X=U.number,$=U.technician,K=U.worker,Q=U.orderType,Z=U.breakdown,ee=U.closed,te=U.confirmed,ae=U.start,ne=U.end,ce=U.startFix,re=U.endFix,se=U.description,ie=Object(o.g)();Object(n.useEffect)((function(){e(gt())}),[e]),Object(n.useEffect)((function(){if(m){V("Ok"),G(m);var e=m.factory,t=Wa(e,c);g(t);var a=m.section,n=m.number,s=Ua(a,i),o=Ba(n,r);k(s),I(o)}else G(cn),g([]),k([]),I([]),"/order"===ie.location.pathname&&ie.push("/neworder")}),[m,ie,r,i,c]),Object(n.useEffect)((function(){return function(){e(lt())}}),[e]);var oe=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,s,o,l,u,j,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,G(Object(Pe.a)(Object(Pe.a)({},U),{},Object(De.a)({},a.name,a.value))),"factory"===a.name&&(k([]),I([]),V("*Selecciona una secci\xf3n para desbloquear el siguiente campo"),G(Object(Pe.a)(Object(Pe.a)({},U),{},(n={},Object(De.a)(n,a.name,a.value),Object(De.a)(n,"section","default"),Object(De.a)(n,"number","default"),Object(De.a)(n,"machine","default"),n))),s=a.value,o=Wa(s,c),g(o)),"section"===a.name&&(I([]),V("*Selecciona el n\xfamero de secci\xf3n para desbloquear el resto de campos"),G(Object(Pe.a)(Object(Pe.a)({},U),{},(l={},Object(De.a)(l,a.name,a.value),Object(De.a)(l,"number","default"),Object(De.a)(l,"machine","default"),l))),u=a.value,j=Ua(u,i),k(j)),"number"===a.name&&(V("Ok"),G(Object(Pe.a)(Object(Pe.a)({},U),{},(b={},Object(De.a)(b,a.name,a.value),Object(De.a)(b,"machine","default"),b))),m=a.value,p=Ba(m,r),I(p));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){G(Object(Pe.a)(Object(Pe.a)({},U),{},{closed:!ee}))},de=function(){var t=Object(u.a)(d.a.mark((function t(){var a,n,c,r,s,i,o,l,u,j,b,p,O,f,h,x,v,g,y,N,w,k,S,C,T,I,E,_,L,D,P,F,A,H;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,n={},z&&"default"!==z&&""!==z?null===(r=document.querySelector('select[name="factory"]'))||void 0===r||r.classList.remove("border-red"):(null===(c=document.querySelector('select[name="factory"]'))||void 0===c||c.classList.add("border-red"),a=!1),Y&&"default"!==Y&&""!==Y?null===(i=document.querySelector('select[name="section"]'))||void 0===i||i.classList.remove("border-red"):(null===(s=document.querySelector('select[name="section"]'))||void 0===s||s.classList.add("border-red"),a=!1),X&&"default"!==X&&""!==X?null===(l=document.querySelector('select[name="number"]'))||void 0===l||l.classList.remove("border-red"):(null===(o=document.querySelector('select[name="number"]'))||void 0===o||o.classList.add("border-red"),a=!1),J&&"default"!==J&&""!==J?null===(j=document.querySelector('select[name="machine"]'))||void 0===j||j.classList.remove("border-red"):(null===(u=document.querySelector('select[name="machine"]'))||void 0===u||u.classList.add("border-red"),a=!1),Q&&"default"!==Q&&""!==Q?null===(p=document.querySelector('select[name="orderType"]'))||void 0===p||p.classList.remove("border-red"):(null===(b=document.querySelector('select[name="orderType"]'))||void 0===b||b.classList.add("border-red"),a=!1),Z&&"default"!==Z&&""!==Z?null===(f=document.querySelector('select[name="breakdown"]'))||void 0===f||f.classList.remove("border-red"):(null===(O=document.querySelector('select[name="breakdown"]'))||void 0===O||O.classList.add("border-red"),a=!1),$&&"default"!==$&&""!==$?null===(x=document.querySelector('select[name="technician"]'))||void 0===x||x.classList.remove("border-red"):(null===(h=document.querySelector('select[name="technician"]'))||void 0===h||h.classList.add("border-red"),a=!1),!K||K.trim().length<=2?(null===(v=document.querySelector('input[name="worker"]'))||void 0===v||v.classList.add("border-red"),a=!1):null===(g=document.querySelector('input[name="worker"]'))||void 0===g||g.classList.remove("border-red"),la()(ae).isSameOrAfter(ne)?(null===(y=document.querySelector('input[name="start"]'))||void 0===y||y.classList.add("border-red"),a=!1):null===(N=document.querySelector('input[name="start"]'))||void 0===N||N.classList.remove("border-red"),la()(ne).isBefore(re)||la()(ne).isBefore(ae)?(null===(w=document.querySelector('input[name="end"]'))||void 0===w||w.classList.add("border-red"),a=!1,la()(ne).isBefore(re)&&(null===(k=document.querySelector('input[name="endFix"]'))||void 0===k||k.classList.add("border-red")),la()(ne).isBefore(ae)&&(null===(S=document.querySelector('input[name="start"]'))||void 0===S||S.classList.add("border-red"))):null===(C=document.querySelector('input[name="end"]'))||void 0===C||C.classList.remove("border-red"),la()(ce).isBefore(ae)||la()(ce).isSameOrAfter(re)?(null===(T=document.querySelector('input[name="startFix"]'))||void 0===T||T.classList.add("border-red"),a=!1,la()(ce).isBefore(ae)&&(null===(I=document.querySelector('input[name="start"]'))||void 0===I||I.classList.add("border-red")),la()(ce).isSameOrAfter(re)&&(null===(E=document.querySelector('input[name="endFix"]'))||void 0===E||E.classList.add("border-red"))):null===(_=document.querySelector('input[name="startFix"]'))||void 0===_||_.classList.remove("border-red"),la()(re).isBefore(ce)||la()(re).isAfter(ne)||la()(re).isAfter(ne)||la()(re).isSameOrBefore(ce)?(null===(L=document.querySelector('input[name="endFix"]'))||void 0===L||L.classList.add("border-red"),a=!1,la()(re).isBefore(ce)&&(null===(D=document.querySelector('input[name="startFix"]'))||void 0===D||D.classList.add("border-red")),la()(re).isAfter(ne)&&(null===(P=document.querySelector('input[name="end"]'))||void 0===P||P.classList.add("border-red"))):null===(F=document.querySelector('input[name="endFix"]'))||void 0===F||F.classList.remove("border-red"),se.length<=0||""===se.length?(a=!1,null===(A=document.querySelector(".description-textarea"))||void 0===A||A.classList.add("border-red")):null===(H=document.querySelector(".description-textarea"))||void 0===H||H.classList.remove("border-red"),a){t.next=17;break}return t.abrupt("return",Be.c.error("Revise los campos marcados en rojo y revise las fechas deb\xeddamente!",{position:"top-center"}));case 17:if(!m){t.next=23;break}return t.next=20,e(bt(U));case 20:n=t.sent,t.next=26;break;case 23:return t.next=25,e(ut(U));case 25:n=t.sent;case 26:q(!0),M(n);case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(_e.jsxs)(_e.Fragment,{children:[L&&Object(_e.jsx)(nn,{result:F,setShowModal:q}),Object(_e.jsxs)("div",{className:"animate__animated animate__fadeIn animated__fast",children:[m?te?Object(_e.jsx)("h1",{className:"h1-order",children:"Ver Orden Cerrada"}):Object(_e.jsx)("h1",{className:"h1-order",children:"Editar Orden"}):Object(_e.jsx)("h1",{className:"h1-order",children:"Nueva Orden"}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),ee?Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:function(){return de(e)},message:"El proceso es irreversible, est\xe1s seguro de cerrar la orden"}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"}):de(e)},children:[!L&&Object(_e.jsx)(Be.b,{}),Object(_e.jsx)("h3",{className:"h3-order ".concat("Ok"===R?"mb-4":""),children:"Datos Orden"}),Object(_e.jsxs)("div",{className:"icon-lock-unlock-wrapper",children:[!m&&Object(_e.jsx)("i",{className:"fas fa-lock-open disabled"}),1===te&&Object(_e.jsx)("i",{className:"fas fa-lock disabled"}),te&&0!==te||!m||!ee&&1!==ee||!f?(!te||0===te)&&m&&(ee||1===ee)&&!f&&Object(_e.jsx)("i",{className:"fas fa-lock disabled"}):Object(_e.jsx)("i",{className:"fas fa-lock",onClick:le}),te&&0!==te||!m||ee&&0!==ee||!f?(!te||0===te)&&m&&(!ee||0===ee)&&!f&&Object(_e.jsx)("i",{className:"fas fa-lock-open disabled"}):Object(_e.jsx)("i",{className:"fas fa-lock-open",onClick:le})]}),Object(_e.jsx)("span",{className:"advise-factory animate__animated animate__fadeIn",children:"Ok"!==R&&"".concat(R)}),Object(_e.jsxs)("div",{className:"order-form",children:[Object(_e.jsxs)("div",{className:"factory-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"Factor\xeda: "}),Object(_e.jsxs)("select",{name:"factory",value:z,onChange:oe,disabled:ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Factor\xeda"}),a.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"section-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"Secci\xf3n: "}),Object(_e.jsxs)("select",{name:"section",value:Y,onChange:oe,disabled:0===v.length||ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Secci\xf3n"}),v.length>0&&v.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"number-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"N\xfamero: "}),Object(_e.jsxs)("select",{name:"number",value:X,onChange:oe,disabled:0===w.length||ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige N\xfamero"}),w.length>0&&w.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.number},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"machine-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"M\xe1quina: "}),Object(_e.jsxs)("select",{name:"machine",value:J,onChange:oe,disabled:0===T.length||ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige M\xe1quina"}),T.length>0&&T.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"order-type-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"Tipo orden: "}),Object(_e.jsxs)("select",{name:"orderType",value:Q,onChange:oe,disabled:ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Tipo"}),j.length>0&&j.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"breakdown-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"Tipo aver\xeda: "}),Object(_e.jsxs)("select",{name:"breakdown",value:Z,onChange:oe,disabled:ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige Aver\xeda"}),b.length>0&&b.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"technician-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"T\xe9cnico: "}),Object(_e.jsxs)("select",{name:"technician",value:$,onChange:oe,disabled:ee,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),p.length>0&&p.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"worker-wrapper form-grid",children:[Object(_e.jsx)("label",{children:"Avisado por: "}),Object(_e.jsx)("input",{type:"text",name:"worker",value:K,onChange:oe,disabled:ee,autoComplete:"off"})]})]}),Object(_e.jsx)("h3",{className:"h3-order",children:"Fechas Orden"}),Object(_e.jsxs)("div",{className:"order-form2",children:[Object(_e.jsxs)("div",{className:"grid-dates",children:[Object(_e.jsxs)("div",{className:"start-work-wrapper form-grid limit",children:[Object(_e.jsx)("label",{children:"Fecha aviso: "}),!O&&Object(_e.jsx)(Na.a,{selected:ae,onChange:function(e){G(Object(Pe.a)(Object(Pe.a)({},U),{},{start:e})),document.querySelector('input[name="start"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ga.a,showTimeInput:!0,name:"start",disabled:ee})]}),Object(_e.jsxs)("div",{className:"end-work-wrapper form-grid limit",children:[Object(_e.jsx)("label",{children:"Fecha fin: "}),!O&&Object(_e.jsx)(Na.a,{selected:ne,onChange:function(e){G(Object(Pe.a)(Object(Pe.a)({},U),{},{end:e})),document.querySelector('input[name="end"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,locale:Ga.a,minDate:ae,name:"end",disabled:ee})]})]}),Object(_e.jsxs)("div",{className:"grid-dates",children:[Object(_e.jsxs)("div",{className:"start-fix-wrapper form-grid limit",children:[Object(_e.jsx)("label",{children:"Inicio trabajo: "}),!O&&Object(_e.jsx)(Na.a,{selected:ce,onChange:function(e){G(Object(Pe.a)(Object(Pe.a)({},U),{},{startFix:e})),document.querySelector('input[name="startFix"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ga.a,showTimeInput:!0,minDate:ae,name:"startFix",disabled:ee})]}),Object(_e.jsxs)("div",{className:"end-fix-wrapper form-grid limit",children:[Object(_e.jsx)("label",{children:"Fin trabajo: "}),!O&&Object(_e.jsx)(Na.a,{selected:re,onChange:function(e){G(Object(Pe.a)(Object(Pe.a)({},U),{},{endFix:e})),document.querySelector('input[name="endFix"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ga.a,showTimeInput:!0,minDate:ce,name:"endFix",disabled:ee})]})]})]}),Object(_e.jsx)("h3",{className:"h3-order",children:"Informaci\xf3n Adicional"}),Object(_e.jsxs)(za.d,{children:[Object(_e.jsxs)(za.b,{children:[Object(_e.jsx)(za.a,{children:"Informaci\xf3n"}),Object(_e.jsx)(za.a,{children:"Operaciones"}),Object(_e.jsx)(za.a,{children:"Fichajes"}),Object(_e.jsx)(za.a,{children:"Materiales"})]}),Object(_e.jsx)(za.c,{children:Object(_e.jsx)("div",{className:"tab-table-wrapper",children:Object(_e.jsxs)("div",{className:"tab-table-textarea",children:[Object(_e.jsx)("label",{children:"Descripci\xf3n incidencia: "}),Object(_e.jsx)("textarea",{className:"description-textarea",name:"description",value:se,onChange:oe,disabled:ee})]})})}),Object(_e.jsx)(za.c,{children:Object(_e.jsx)(Xa,{formValues:U,setFormValues:G,disabled:ee})}),Object(_e.jsx)(za.c,{children:Object(_e.jsx)(Za,{formValues:U,setFormValues:G,disabled:ee})}),Object(_e.jsx)(za.c,{children:Object(_e.jsx)(an,{formValues:U,setFormValues:G,disabled:ee})})]}),Object(_e.jsxs)("div",{className:"button-wrapper",children:[Object(_e.jsx)("button",{className:"btn btn-order-cancel",onClick:function(){return ie.goBack()},children:"Volver"}),!te&&Object(_e.jsx)("button",{className:"btn btn-order",type:"submit",children:m?"Guardar":"Crear Orden"})]})]})]})]})},sn=function(){var e=Object(n.useState)(!0),t=Object(Fe.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){r()}),[]);var r=function(){setTimeout((function(){c(!1)}),300)};return Object(_e.jsx)("div",{className:"order-wrapper",children:a?Object(_e.jsx)(Ve,{type:"no-animation"}):Object(_e.jsx)(rn,{})})},on=a(109),ln=(a(318),{allDay:"Todo el d\xeda",previous:"<",next:">",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:function(e){return"+ Ver m\xe1s (".concat(e,")")}}),dn=(a(319),function(e){var t=e.event,a=Object(s.c)((function(e){return e.factory})),c=a.factories,r=a.sections,i=a.machines,o=Object(n.useState)({factoryComponent:"",sectionComponent:"",machineComponent:""}),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=d.factoryComponent,b=d.sectionComponent,m=d.machineComponent;return Object(n.useEffect)((function(){var e,a,n;t&&c.length>0&&r.length>0&&i.length>0&&u({factoryComponent:null===(e=Oa(t.factory,c))||void 0===e?void 0:e.name,sectionComponent:null===(a=fa(t.section,r))||void 0===a?void 0:a.name,machineComponent:null===(n=xa(t.machine,i))||void 0===n?void 0:n.name})}),[t,c,i,r]),Object(_e.jsxs)("div",{children:[Object(_e.jsxs)("strong",{children:["F",j," - ",b," -"]}),Object(_e.jsxs)("span",{children:[" ",m]})]})});la.a.locale("es");var un=Object(on.b)(la.a),jn=function(){var e=Object(s.c)((function(e){return e.calendar})).events,t=Object(s.c)((function(e){return e.calendar})).types,a=Object(s.b)(),c=Object(n.useState)(localStorage.getItem("lastView")||"month"),r=Object(Fe.a)(c,2),i=r[0],o=r[1];return Object(_e.jsxs)("div",{className:"calendar-screen animate__animated animate__fadeIn",children:[Object(_e.jsx)("h1",{children:"Calendario"}),Object(_e.jsx)(on.a,{defaultDate:la()().toDate(),defaultView:"month",events:e,localizer:un,eventPropGetter:function(e,a,n,c){var r=function(e,t){var a={backgroundColor:"#0E377F",textColor:"white"};if(t&&t.length>0){var n=e.orderType,c=t.find((function(e){return e.id===n}));if(c)switch(c.name){case"Directiva":a.backgroundColor="#FACC2E";break;case"Planificada":a.backgroundColor="#0E377F";break;case"Preventiva":a.backgroundColor="#31B404";break;case"Correctiva":a.backgroundColor="#FF4000";break;case"Otros":a.backgroundColor="#04B4AE";break;default:a.backgroundColor="#000"}}return a}(e,t);return{style:{backgroundColor:r.backgroundColor,borderRadius:"5px",opacity:.8,display:"block",color:r.textColor}}},messages:ln,components:{event:dn},onSelectEvent:function(e){ua(),a(ot(e)),a(ca())},onView:function(e){o(e),localStorage.setItem("lastView",e)},view:i,startAccessor:"start",endAccessor:"end"}),Object(_e.jsx)(ka,{})]})},bn=function(e){var t=e.iconData,a=Object(s.b)();return Object(_e.jsx)("div",{className:t.className,onClick:function(){a(Dt()),a(ca())},children:t.icon})},mn=a(145),pn=a.n(mn),On=(a(320),function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fn(t.type)){e.next=10;break}if(!hn(t.size)){e.next=7;break}return a=URL.createObjectURL(t),document.querySelector(".technician-img").src="".concat("","/assets/images/loader.gif"),e.abrupt("return",new Promise((function(e){return setTimeout((function(){document.querySelector(".technician-img").src=a,e({ok:!0})}),400)})));case 7:return e.abrupt("return",{ok:!1,error:"Error, el tama\xf1o m\xe1ximo de imagen es de 2.0MB"});case 8:e.next=11;break;case 10:return e.abrupt("return",{res:!1,error:"Error, extensiones soportadas .jpg, .png y .jpeg"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fn=function(e){return"image/png"===e||"image/jpg"===e||"image/jpeg"===e},hn=function(e){return e<=2e6&&e>0},xn={name:"",surname:"",birthDate:new Date,identityDocument:"",phoneNumber:"",email:"",city:"",address:"",image:null,notes:"",schedule:"default",factory:"default"},vn=function(){var e=Object(n.useState)(xn),t=Object(Fe.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(Fe.a)(r,2),o=i[0],l=i[1],j=a.name,b=a.surname,m=a.birthDate,f=a.identityDocument,h=a.phoneNumber,x=a.email,v=a.city,g=a.address,y=a.image,N=a.notes,w=a.schedule,k=a.factory,S=Object(s.c)((function(e){return e.ui})).modalOpen,C=Object(s.c)((function(e){return e.crew})).activeTechnician,T=Object(s.b)();Object(n.useEffect)((function(){c(C||xn)}),[C]);var I=function(e){var t=e.target;c(Object(Pe.a)(Object(Pe.a)({},a),{},Object(De.a)({},t.name,t.value)))},E=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target).files.length>0)){e.next=9;break}return n=a.files[0],e.next=5,On(n);case 5:if((c=e.sent).ok){e.next=8;break}return e.abrupt("return",Be.c.error(c.error,{position:Be.c.POSITION.TOP_CENTER}));case 8:l(a.files[0]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){ja(),T(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a(),c=n.crew,!(r=c.activeTechnician.id)){e.next=14;break}return e.next=6,p("crew/".concat(r),void 0,"DELETE");case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent.technician&&(t(At()),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"T\xe9cnico eliminado con \xe9xito!"}))}),200)),e.next=15;break;case 14:console.log("Error, There is no id");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error while deleting",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}()),T(ra())},L=function(){ja(),T(ra()),setTimeout((function(){c(xn),T(Dt())}),150)};return Object(_e.jsxs)("div",{children:[Object(_e.jsxs)(ga.a,{isOpen:S,className:"modal animate__animated animate__fadeIn animate__faster",onRequestClose:L,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("h1",{className:"h1-modal",children:C?"Editar T\xe9cnico":"Nuevo t\xe9cnico"}),Object(_e.jsx)("span",{className:"close-event-modal",onClick:L,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsxs)("form",{className:"crew-form",onSubmit:function(e){e.preventDefault();var t=!1;if(la()(m).isValid()?document.querySelector(".datetime-technician").classList.remove("border-red"):(document.querySelector(".datetime-technician").classList.add("border-red"),t=!0),j.trim().length<=2?(document.querySelector('input[name="name"]').classList.add("border-red"),t=!0):document.querySelector('input[name="name"]').classList.remove("border-red"),b.trim().length<=2?(document.querySelector('input[name="surname"]').classList.add("border-red"),t=!0):document.querySelector('input[name="surname"]').classList.remove("border-red"),h.trim().length<=6?(document.querySelector('input[name="surname"]').classList.add("border-red"),t=!0):document.querySelector('input[name="surname"]').classList.remove("border-red"),Aa.a.isEmail(x)?document.querySelector('input[name="email"]').classList.remove("border-red"):(document.querySelector('input[name="email"]').classList.add("border-red"),t=!0),Aa.a.isMobilePhone(h,"es-ES")?document.querySelector('input[name="phoneNumber"]').classList.remove("border-red"):(document.querySelector('input[name="phoneNumber"]').classList.add("border-red"),t=!0),Aa.a.isIdentityCard(f,"ES")?document.querySelector('input[name="identityDocument"]').classList.remove("border-red"):(document.querySelector('input[name="identityDocument"]').classList.add("border-red"),t=!0),["1","2","3"].indexOf(k.toString())<0?(document.querySelector('select[name="factory"]').classList.add("border-red"),t=!0):document.querySelector('select[name="factory"]').classList.remove("border-red"),["L-D M-T-N","L-V JP","L-V M-T-N"].indexOf(w)<0?(t=!0,document.querySelector('select[name="schedule"]').classList.add("border-red")):document.querySelector('select[name="schedule"]').classList.remove("border-red"),t)return Be.c.error("Revise los campos se\xf1alados en rojo",{position:Be.c.POSITION.TOP_CENTER});T(C?function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=e.id,r=null,!t){a.next=17;break}return a.prev=3,(s=new FormData).append("file",t),a.next=8,O("uploads/technician/",s);case 8:return i=a.sent,a.next=11,i.json();case 11:r=a.sent,a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),console.log("Error uploading image",a.t0);case 17:return r&&(e.image=r.name),a.prev=18,a.next=21,p("crew/".concat(c),e,"PUT");case 21:return o=a.sent,a.next=24,o.json();case 24:l=a.sent,(u=l.technician)?(n(Mt(u)),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"T\xe9cnico actualizado con \xe9xito!"}))}),200)):console.log("Tthe technician was not saved"),a.next=32;break;case 29:a.prev=29,a.t1=a.catch(18),console.log("Error while updating the technician");case 32:case"end":return a.stop()}}),a,null,[[3,14],[18,29]])})));return function(e){return a.apply(this,arguments)}}()}(a,o):function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=null,!t){a.next=16;break}return a.prev=2,(r=new FormData).append("file",t),a.next=7,O("uploads/technician/",r);case 7:return s=a.sent,a.next=10,s.json();case 10:c=a.sent,a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),console.log("Error uploading image",a.t0);case 16:return c&&(e.image=c.name),a.prev=17,a.next=20,p("crew/",e,"POST");case 20:return i=a.sent,a.next=23,i.json();case 23:o=a.sent,(l=o.technician)?(n(Ft(l)),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"T\xe9cnico agregado con \xe9xito!"}))}),200)):console.log("Error the technician was not saved"),a.next=31;break;case 28:a.prev=28,a.t1=a.catch(17),console.log("Error while saving the technician",a.t1);case 31:case"end":return a.stop()}}),a,null,[[2,13],[17,28]])})));return function(e){return a.apply(this,arguments)}}()}(a,o)),l(null),ja(),T(ra()),setTimeout((function(){c(xn)}),150)},children:[Object(_e.jsxs)("div",{className:"form-wrapper-1",children:[Object(_e.jsx)("div",{className:"img-wrapper",children:Object(_e.jsx)("img",{className:"technician-img",src:null===y?"".concat("","/assets/images/user-default.png"):"".concat("","/assets/images/").concat(y),alt:"mtile-technician",onChange:I})}),Object(_e.jsxs)("div",{className:"form-wrapper-data",children:[Object(_e.jsxs)("div",{className:"form-wrapper-name",children:[Object(_e.jsx)("label",{children:"Nombre: "}),Object(_e.jsx)("input",{type:"text",name:"name",autoComplete:"off",value:j,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-surname",children:[Object(_e.jsx)("label",{children:"Apellidos: "}),Object(_e.jsx)("input",{type:"text",name:"surname",autoComplete:"off",value:b,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-birthdate",children:[Object(_e.jsx)("label",{children:"Fecha Nac.: "}),Object(_e.jsx)(pn.a,{className:"datetime-technician",value:la()(m).format("DD-MM-yyyy"),dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:function(e){c(Object(Pe.a)(Object(Pe.a)({},a),{},{birthDate:new Date(e)}))},closeOnSelect:!0})]}),Object(_e.jsxs)("div",{className:"form-wrapper-identitydocument",children:[Object(_e.jsx)("label",{children:"DNI: "}),Object(_e.jsx)("input",{type:"text",name:"identityDocument",autoComplete:"off",value:f,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-phone",children:[Object(_e.jsx)("label",{children:"Tel. M\xf3vil: "}),Object(_e.jsx)("input",{type:"text",name:"phoneNumber",autoComplete:"off",value:h,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-mail",children:[Object(_e.jsx)("label",{children:"Email: "}),Object(_e.jsx)("input",{type:"email",name:"email",autoComplete:"off",value:x,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-city",children:[Object(_e.jsx)("label",{children:"Localidad: "}),Object(_e.jsx)("input",{type:"text",name:"city",autoComplete:"off",value:v,onChange:I})]})]})]}),Object(_e.jsxs)("div",{className:"form-wrapper-2",children:[Object(_e.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(_e.jsx)("label",{children:"Direcci\xf3n: "}),Object(_e.jsx)("input",{type:"text",name:"address",autoComplete:"off",value:g,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(_e.jsx)("label",{children:"Horario: "}),Object(_e.jsxs)("select",{name:"schedule",value:w,onChange:I,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Seleccione Horario"}),Object(_e.jsx)("option",{value:"L-V M-T-N",children:"L-V M-T-N"}),Object(_e.jsx)("option",{value:"L-V JP",children:"L-V JP"}),Object(_e.jsx)("option",{value:"L-D M-T-N",children:"L-D M-T-N"})]})]}),Object(_e.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(_e.jsx)("label",{children:"Factor\xeda: "}),Object(_e.jsxs)("select",{name:"factory",value:k,onChange:I,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Seleccione Factor\xeda"}),Object(_e.jsx)("option",{value:"1",children:"Factor\xeda 1"}),Object(_e.jsx)("option",{value:"2",children:"Factor\xeda 2"}),Object(_e.jsx)("option",{value:"3",children:"Factor\xeda 3"})]})]}),Object(_e.jsxs)("div",{className:"form-wrapper-textarea",children:[Object(_e.jsx)("label",{children:"Observaciones: "}),Object(_e.jsx)("textarea",{name:"notes",value:N,onChange:I})]}),Object(_e.jsxs)("div",{className:"form-wrapper-submit ".concat(C?"wrapper-flex-between":"wrapper-flex-end"),children:[C&&Object(_e.jsx)("p",{className:"btn btn-form-cancel",onClick:function(){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:_,code:"".concat(C.name," ").concat(C.surname),message:"Est\xe1s seguro de borrar el t\xe9cnico con el nombre"}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:"Borrar"}),Object(_e.jsxs)("div",{className:"form-wrapper-file",children:[Object(_e.jsxs)("label",{className:"btn-label-file",children:[Object(_e.jsx)("input",{type:"file",name:"img",onChange:E,accept:".jpg, .jpeg, .png"}),Object(_e.jsx)("i",{className:"fas fa-cloud-upload-alt"})," Subir imagen"]}),Object(_e.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:C?"Actualizar":"Crear"})]})]})]})]})]}),S&&Object(_e.jsx)(Be.b,{})]}),!S&&Object(_e.jsx)(Be.b,{})]})},gn=function(){var e=Object(s.c)((function(e){return e.crew})).technicians,t=Object(s.c)((function(e){return e.auth})).admin,a=Object(s.b)(),n=function(t){var n=t.target.attributes[1].value,c=e.find((function(e){return e.id.toString()===n}));a({type:H,payload:c}),a(ca()),ua()},c={icon:Object(_e.jsx)("i",{className:"fas fa-user-plus"}),className:"button-new technician"};return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("h1",{className:"technician-h1",children:"T\xe9cnicos"}),Object(_e.jsx)("div",{className:"crew-wrapper animate__animated animate__fadeIn",children:e.map((function(e){return Object(_e.jsxs)("div",{className:"technician-wrapper",children:[Object(_e.jsxs)("div",{className:"technician-name-surname",children:[Object(_e.jsxs)("span",{children:[e.surname,","]}),Object(_e.jsx)("span",{children:e.name}),Object(_e.jsx)("span",{})]}),Object(_e.jsx)("img",{src:null===e.image?"".concat("","/assets/images/user-default.png"):"".concat("","/assets/images/").concat(e.image),alt:"".concat(e.name)}),t&&Object(_e.jsx)("div",{className:"wrapper-technician-button",children:Object(_e.jsx)("button",{className:"btn btn-detail-crew","data-id":e.id,onClick:n,children:"Ver m\xe1s"})})]},e.id)}))}),t&&Object(_e.jsx)(bn,{iconData:c,page:"crew"}),Object(_e.jsx)(vn,{})]})},yn=function(e){var t=e.columns,a=e.data,n=Object(s.c)((function(e){return e.warehouse})).items,c=Object(s.b)(),r=Object(da.useTable)({columns:t,data:a},da.usePagination),i=r.getTableProps,o=r.getTableBodyProps,l=r.headerGroups,d=r.prepareRow,u=r.pageOptions,j=r.page,b=r.state.pageIndex,m=r.previousPage,p=r.nextPage,O=r.canPreviousPage,f=r.canNextPage,h=function(e){var t=e.target.parentNode.childNodes[0].innerText,a=n.find((function(e){return e.code===t}));c(function(e){return{type:X,payload:e}}(a)),c(ca())};return Object(_e.jsxs)("div",{className:"table-wrapper",children:[Object(_e.jsxs)("table",Object(Pe.a)(Object(Pe.a)({},i()),{},{children:[Object(_e.jsx)("thead",{children:l.map((function(e){return Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(_e.jsx)("th",Object(Pe.a)(Object(Pe.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(_e.jsx)("tbody",Object(Pe.a)(Object(Pe.a)({},o()),{},{children:j.map((function(e){return d(e),Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getRowProps()),{},{onClick:h,children:e.cells.map((function(e){return Object(_e.jsx)("td",Object(Pe.a)(Object(Pe.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(_e.jsxs)("div",{className:"table-page-controls",children:[Object(_e.jsxs)("div",{className:"table-buttons-wrapper",children:[Object(_e.jsx)("button",{className:"btn btn-table",onClick:function(){return m()},disabled:!O,children:Object(_e.jsx)("i",{className:"fas fa-chevron-left"})}),Object(_e.jsx)("button",{className:"btn btn-table",onClick:function(){return p()},disabled:!f,children:Object(_e.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(_e.jsxs)("div",{className:"table-page",children:["P\xe1gina ",b+1," de ",u.length]})]})]})},Nn={id:"",code:"",description:"",quantity:"",minStock:"",place:""},wn=function(e){var t=e.setSearch,a=Object(s.c)((function(e){return e.warehouse})).activeItem,c=Object(s.c)((function(e){return e.ui})).modalOpen,r=Object(s.c)((function(e){return e.auth})).admin,i=Object(s.b)(),o=Ca,l=Object(n.useState)(Nn),j=Object(Fe.a)(l,2),b=j[0],m=j[1],O=b.code,f=b.description,h=b.quantity,x=b.minStock,v=b.place;Object(n.useEffect)((function(){a&&m(a)}),[a]);var g=function(){i(ra()),ja(),setTimeout((function(){i(ct()),N()}),200)},y=function(){a&&i(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=null===(n=a())||void 0===n?void 0:n.warehouse,r=c.activeItem,!(s=null===r||void 0===r?void 0:r.id)){e.next=11;break}return e.next=6,p("warehouse/".concat(s),{},"DELETE");case 6:return i=e.sent,e.next=9,i.json();case 9:e.sent?(t(it()),Be.c.success(Object(_e.jsx)(Ze,{text:"Item eliminado con \xe9xito!"}))):Be.c.error(Object(_e.jsx)(We,{text:"Error al eliminar el item! !"}));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),Be.c.error(Object(_e.jsx)(We,{text:"Error al conectar, contacte con el administrador!"}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()),i(ra()),ja(),N(),t("")},N=function(){m(Nn)},w=function(e){var t=e.target;m(Object(Pe.a)(Object(Pe.a)({},b),{},Object(De.a)({},t.name,t.value)))};return Object(_e.jsxs)("div",{children:[Object(_e.jsxs)(ga.a,{isOpen:c,className:"modal-warehouse animate__animated animate__fadeIn animate__fast",onRequestClose:g,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("span",{className:"close-event-modal",onClick:g,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsx)("h1",{className:"h1-modal",children:a?r?"Editar Item":"Ver Item":"Agregar Item"}),Object(_e.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=!0;if(O.length<=2?(n=!1,document.querySelector('input[name="code"]').classList.add("border-red")):document.querySelector('input[name="code"]').classList.remove("border-red"),f.length<=2?(n=!1,document.querySelector('input[name="description"]').classList.add("border-red")):document.querySelector('input[name="description"]').classList.remove("border-red"),0!==h.length||isNaN(parseInt(h))?document.querySelector('input[name="quantity"]').classList.remove("border-red"):(n=!1,document.querySelector('input[name="quantity"]').classList.add("border-red")),0!==x.length||isNaN(parseInt(x))?document.querySelector('input[name="minStock"]').classList.remove("border-red"):(n=!1,document.querySelector('input[name="minStock"]').classList.add("border-red")),v.length<=0?(n=!1,document.querySelector('input[name="place"]').classList.add("border-red")):document.querySelector('input[name="place"]').classList.remove("border-red"),!n)return Be.c.error("Revise los campos se\xf1alados en rojo",{position:Be.c.POSITION.TOP_CENTER});i(a?(t=b,function(){var e=Object(u.a)(d.a.mark((function e(a){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id,c=Object(Ke.a)(t,["id"]),e.next=4,p("warehouse/".concat(n),Object(Pe.a)({},c),"PUT");case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,(i=s.newItem)&&(a(rt(i)),a(tt()),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"Item actualizado con \xe9xito!"}))}),200)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("warehouse/",Object(Pe.a)({},e),"POST");case 3:return n=t.sent,t.next=6,n.json();case 6:t.sent.savedItem?(a(st(e)),a(tt()),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"Item actualizado con \xe9xito!"}))}),200)):Be.c.error(Object(_e.jsx)(We,{text:"Error al guardar el item!"})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),Be.c.error(Object(_e.jsx)(We,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(b)),i(ra()),i(ct()),setTimeout((function(){N()}),300)},children:[Object(_e.jsxs)("div",{className:"thead-modal",children:[Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsxs)("label",{children:[o[0].Header,":"]}),Object(_e.jsx)("input",{type:"text",value:O,name:"code",disabled:a,onChange:w})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsxs)("label",{children:[o[1].Header,":"]}),Object(_e.jsx)("input",{type:"text",value:f,disabled:!r,name:"description",onChange:w})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsxs)("label",{children:[o[2].Header,":"]}),Object(_e.jsx)("input",{type:"number",value:h,disabled:!r,name:"quantity",onChange:w})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsxs)("label",{children:[o[3].Header,":"]}),Object(_e.jsx)("input",{type:"number",value:x,disabled:!r,name:"minStock",onChange:w})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsxs)("label",{children:[o[4].Header,":"]}),Object(_e.jsx)("input",{type:"text",value:v,disabled:!r,name:"place",onChange:w})]})]}),Object(_e.jsxs)("div",{className:"wrapper-buttons-warehouse ".concat(a?"":"alone"),children:[a&&r&&Object(_e.jsx)("span",{className:"btn btn-form-cancel",onClick:function(){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:y,code:a.code,message:"Est\xe1s seguro de borrar el Item con el c\xf3digo"}),{position:Be.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:"Eliminar"}),r&&Object(_e.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:a?"Actualizar":"Guardar"})]})]})]}),c&&Object(_e.jsx)(Be.b,{})]}),!c&&Object(_e.jsx)(Be.b,{})]})},kn=function(){var e=Ca,t=Object(n.useState)([]),a=Object(Fe.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),o=Object(Fe.a)(i,2),l=o[0],d=o[1],u=Object(s.b)(),j=Object(s.c)((function(e){return e.warehouse})).items,b=Object(s.c)((function(e){return e.ui})).modalOpen,m=Object(s.c)((function(e){return e.warehouse})).activeItem,p=Object(s.c)((function(e){return e.auth})).admin;Object(n.useEffect)((function(){u(tt())}),[u]),Object(n.useEffect)((function(){if(l){var e=j.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(l.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(l.toLowerCase()))&&e}));r(e)}else r([])}),[l,j]);var O=Object(n.useState)(!1),f=Object(Fe.a)(O,2),h=f[0],x=f[1],v={icon:Object(_e.jsx)("i",{className:"far fa-plus-square"}),className:"button-new new"};return Object(_e.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(_e.jsx)("h1",{className:"h1-warehouse",children:"Almac\xe9n"}),Object(_e.jsxs)("div",{className:"wrapper-stock-finder",children:[Object(_e.jsx)("input",{type:"search",name:"search",className:"finder ".concat(h&&"showw"),onBlur:function(){0===l.length&&x(!1)},value:l,onChange:function(e){var t=e.target;d(t.value)},autoComplete:"off"}),Object(_e.jsx)("i",{className:"fas fa-search ".concat(h&&"hidee"),onClick:function(){x(!0),b||document.querySelector(".finder").focus()}})]}),Object(_e.jsx)("div",{className:"separator"}),c.length>0&&e.length>0?Object(_e.jsx)(yn,{columns:e,data:c}):Object(_e.jsx)("h3",{className:"h3-warehouse animate__animated animate__fadeInUpBig animate__faster",children:0===l.length?"Pulsa la lupa para comenzar la b\xfasqueda":"No se han encontrado coincidencias"}),!m&&p&&Object(_e.jsx)(bn,{iconData:v}),Object(_e.jsx)(wn,{setSearch:d})]})},Sn=function(e){var t=e.columns,a=e.data,n=Object(s.c)((function(e){return e.calendar})).events,c=Object(s.c)((function(e){return e.calendar})).types,r=Object(s.c)((function(e){return e.calendar})).breakdowns,i=Object(s.c)((function(e){return e.factory})).factories,o=Object(s.c)((function(e){return e.factory})).sections,l=Object(s.c)((function(e){return e.factory})).numbers,d=Object(s.c)((function(e){return e.factory})).machines,u=Object(s.b)(),j=Object(da.useTable)({columns:t,data:a,initialState:{pageSize:15}},da.useSortBy,da.usePagination),b=j.getTableProps,m=j.getTableBodyProps,p=j.headerGroups,O=j.prepareRow,f=j.pageOptions,h=j.page,x=j.state.pageIndex,v=j.previousPage,g=j.nextPage,y=j.canPreviousPage,N=j.canNextPage,w=function(e){var t=e.target.attributes[0].nodeValue;if(t&&n&&!(n.length<1)&&void 0!==n){var a=ba(t,n);u(ot(a)),u(ca()),ua()}};return Object(_e.jsxs)("div",{className:"table-wrapper",children:[Object(_e.jsx)(ka,{}),Object(_e.jsxs)("table",Object(Pe.a)(Object(Pe.a)({},b()),{},{children:[Object(_e.jsx)("thead",{children:p.map((function(e){return Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(_e.jsx)("th",Object(Pe.a)(Object(Pe.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.render("Header")}))}))}))}))}),c&&r&&i&&o&&l&&d&&Object(_e.jsx)("tbody",Object(Pe.a)(Object(Pe.a)({},m()),{},{children:h.map((function(e){return O(e),Object(_e.jsx)("tr",Object(Pe.a)(Object(Pe.a)({},e.getRowProps()),{},{onClick:w,children:e.cells.map((function(e,t){switch(e.column.id){case"start":return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:la()(e.value).format("DD-MM-YYYY HH:mm").toString()},t);case"orderType":var a=ma(e.value,c).name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:a},t);case"breakdown":var n=pa(e.value,r).name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:n},t);case"factory":var s=Oa(e.value,i).name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,className:"text-center",children:s},t);case"section":var u=fa(e.value,o).name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:u},t);case"number":var j=ha(e.value,l).number;return Object(_e.jsx)("td",{"data-id":e.row.original.id,className:"text-center",children:j},t);case"machine":var b=ha(e.value,d).name;return Object(_e.jsx)("td",{"data-id":e.row.original.id,children:b},t);case"totalMins":return Object(_e.jsxs)("td",{"data-id":e.row.original.id,className:"text-right",children:[e.value," min."]},t);case"closed":return Object(_e.jsx)("td",{"data-id":e.row.original.id,className:"text-center padlocks-history",children:e.value?Object(_e.jsx)("i",{"data-id":e.row.original.id,className:"fas fa-lock"}):Object(_e.jsx)("i",{"data-id":e.row.original.id,className:"fas fa-lock-open"})},t);default:return Object(_e.jsx)("td",Object(Pe.a)(Object(Pe.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}}))}))}))}))]})),Object(_e.jsxs)("div",{className:"table-page-controls",children:[Object(_e.jsxs)("div",{className:"table-buttons-wrapper",children:[Object(_e.jsx)("button",{className:"btn btn-table",onClick:function(){return v()},disabled:!y,children:Object(_e.jsx)("i",{className:"fas fa-chevron-left"})}),Object(_e.jsx)("button",{className:"btn btn-table",onClick:function(){return g()},disabled:!N,children:Object(_e.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(_e.jsxs)("div",{className:"table-page",children:["P\xe1gina ",x+1," de ",f.length]})]})]})},Cn=function(){var e=Ta,t=Object(s.c)((function(e){return e.calendar})).events;return Object(_e.jsxs)("div",{className:"historical-main-container animate__animated animate__fadeIn",children:[Object(_e.jsx)("h1",{className:"h1-historical",children:"Hist\xf3rico de \xf3rdenes"}),t.length>0&&Object(_e.jsx)(Sn,{columns:e,data:t})]})},Tn=function(){var e,t,a,c=Object(s.b)(),r=Object(s.c)((function(e){return e.statistics})),i=r.weeks,o=r.threeWeekSections,l=r.lastWeekByOrderType,d=r.interventionsWeeks,u=r.totalTimeByWeek,j=r.lastWeekByBreakdown,b=r.lastWeekByTechnician,m=d.weeksIntervetions,p=d.weeksInterventionsCounts,O=u.weeksTime,f=u.weeksTotalTime,h=Object(n.useState)(!0),x=Object(Fe.a)(h,2),v=x[0],g=x[1];Object(n.useEffect)((function(){c(Wt())}),[c]),Object(n.useEffect)((function(){window.innerWidth<500&&g(!1)}),[]);var y={title:{text:"Intervenciones",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},labels:l.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}},legend:{show:v}},N={title:{text:"Aver\xedas",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},labels:j.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}},legend:{show:v}},w={series:b.quantities,options:{title:{text:"Intervenciones",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},legend:{show:v},chart:{type:"polarArea",toolbar:{show:!0,offsetX:0,offsetY:0}},stroke:{colors:["#fff"]},fill:{opacity:.8},labels:b.names,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}},k={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:i,title:{text:"Semana"}},yaxis:{title:{text:"Intervenciones"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" intervenciones"}}},legend:{show:v,position:"bottom",containerMargin:{top:30}},responsive:[{breakpoint:500,options:{legend:{fontSize:"8px"}}}]},S={series:[{data:p}],options:{chart:{height:350,type:"bar",events:{click:function(e,t,a){}}},colors:["#028ffb","#ff4560","#feb019","#01e396"],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},yaxis:{title:{text:"Intervenciones"}},xaxis:{categories:m,labels:{style:{colors:["#028ffb","#ff4560","#feb019","#01e396"],fontSize:"12px"}},title:{text:"Semana"}}}},C={series:[{name:"Horas",data:f}],options:{chart:{height:350,type:"line",zoom:{enabled:!1}},plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},yaxis:{title:{text:"Horas"}},xaxis:{categories:O,title:{text:"Semana"}}}};return Object(_e.jsxs)("div",{className:"animate__animated animate__fadeIn dashboard-screen",children:[Object(_e.jsx)("h1",{children:"Estad\xedsticas"}),Object(_e.jsxs)("div",{className:"main-content_dashboard",children:[Object(_e.jsxs)("div",{className:"charts",children:[Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por secci\xf3n/semana"}),o.length>0&&i.length>0&&Object(_e.jsx)(_a.a,{options:k,series:o,type:"bar",width:"100%"})]}),Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones semana previa"}),l&&(null===l||void 0===l||null===(e=l.quantities)||void 0===e?void 0:e.length)>0&&l.names.length>0&&Object(_e.jsx)(_a.a,{className:"chart-pie",options:y,series:l.quantities,type:"donut",width:"100%"})]})]}),Object(_e.jsxs)("div",{className:"charts2 mt-3",children:[Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Total intervenciones/semana"}),d&&(null===m||void 0===m?void 0:m.length)>0&&(null===p||void 0===p?void 0:p.length)>0&&Object(_e.jsx)(_a.a,{options:S.options,series:S.series,type:"bar",width:"100%"})]}),Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Total horas/semana intervenciones"}),u&&(null===O||void 0===O?void 0:O.length)>0&&f.length>0&&Object(_e.jsx)(_a.a,{options:C.options,series:C.series,type:"line",width:"100%"})]})]}),Object(_e.jsxs)("div",{className:"charts2 mt-3",children:[Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por t\xe9cnico semana previa"}),b&&(null===b||void 0===b||null===(t=b.quantities)||void 0===t?void 0:t.length)>0&&b.names.length>0&&Object(_e.jsx)(_a.a,{className:"chart-pie",options:w.options,series:w.series,type:"polarArea",width:"100%"})]}),Object(_e.jsxs)("div",{className:"chart-wrapper",children:[Object(_e.jsx)("h3",{className:"h3-dashboard charts-header",children:"Tipo aver\xedas semana previa"}),j&&(null===j||void 0===j||null===(a=j.quantities)||void 0===a?void 0:a.length)>0&&j.names.length>0&&Object(_e.jsx)(_a.a,{className:"chart-pie",options:N,series:j.quantities,type:"donut",width:"100%"})]})]})]})]})},In=function(){var e=Object(o.g)();return Object(_e.jsx)("div",{className:"screen-404 animate__animated animate__fadeIn",children:Object(_e.jsxs)("div",{className:"bg-black",children:[Object(_e.jsx)("img",{className:"bg-404",src:"".concat("","/assets/images/404.jpg"),alt:"bg"}),Object(_e.jsxs)("div",{className:"info-404",children:[Object(_e.jsx)("h1",{children:"404"}),Object(_e.jsx)("p",{className:"text-info",children:"P\xe1gina no encontrada"}),Object(_e.jsxs)("div",{className:"buttons-404",children:[Object(_e.jsx)(i.b,{to:"/",children:"Volver al Dashboard"}),Object(_e.jsx)("p",{onClick:function(){e.goBack()},children:"Volver atr\xe1s"})]})]})]})})},En=a(46),_n=a.e(0).then(a.t.bind(null,348,7));En.c.GlobalWorkerOptions.workerSrc=_n;var Ln=function(e){var t=e.pdf,a=Object(n.useState)(null),c=Object(Fe.a)(a,2),r=(c[0],c[1]),s=Object(n.useState)(1),i=Object(Fe.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){l(1)}),[t]),Object(_e.jsx)(_e.Fragment,{children:Object(_e.jsxs)(En.a,{file:"".concat("","/assets/docs/").concat(t.name),loading:Object(_e.jsx)("img",{src:"".concat("","/assets/images/loader.gif"),alt:"loading"}),onLoadSuccess:function(e){var t=e.numPages;r(t),l(1)},error:Object(_e.jsx)("p",{children:"Error al cargar el archivo"}),renderMode:"svg",children:[Object(_e.jsx)(En.b,{pageNumber:o}),Object(_e.jsx)("span",{className:"pdf-title",children:t.info})]})})},qn=a.e(0).then(a.t.bind(null,348,7));En.c.GlobalWorkerOptions.workerSrc=qn;var Dn=function(e){var t=e.file,a=Object(n.useState)(null),c=Object(Fe.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(1),l=Object(Fe.a)(o,2),d=l[0],u=l[1],j=Object(s.c)((function(e){return e.ui})).modalOpen;function b(e){u((function(t){return t+e}))}return Object(n.useEffect)((function(){u(1)}),[t]),Object(_e.jsx)(_e.Fragment,{children:Object(_e.jsx)(En.a,{file:"".concat("","/assets/docs/").concat(t),loading:Object(_e.jsx)("img",{src:"".concat("","/assets/images/loader.gif"),alt:"loading"}),onLoadSuccess:function(e){var t=e.numPages;i(t),u(1)},error:Object(_e.jsx)("p",{children:"Error al cargar el archivo"}),renderMode:"canvas",children:Object(_e.jsx)(En.b,{pageNumber:d,children:j&&Object(_e.jsxs)("div",{className:"pdf-page-buttons",children:[Object(_e.jsx)("button",{className:"left-arrow",disabled:d<=1,onClick:function(){b(-1)},children:Object(_e.jsx)("i",{className:"fas fa-chevron-left"})}),Object(_e.jsxs)("span",{className:"info-pages",children:[d||(r?1:"--")," de ",r||"--"]}),Object(_e.jsx)("button",{className:"right-arrow",disabled:d>=r,onClick:function(){b(1)},children:Object(_e.jsx)("i",{className:"fas fa-chevron-right"})})]})})})})},Pn=function(e){var t=e.setShowModalDoc,a=e.resetData,n=Object(s.b)(),c=Object(s.c)((function(e){return e.ui})).modalOpen,r=Object(s.c)((function(e){return e.factory})).activeDoc,i=Object(s.c)((function(e){return e.auth})).admin,o=function(){ja(),n(ra()),n({type:re}),t(!1)},l=function(){n(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),c=n.factory,!(r=c.activeDoc.id)){e.next=16;break}return e.prev=3,e.next=6,p("uploads/doc/".concat(r),void 0,"DELETE");case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent&&(t(qt()),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"Documento eliminado con \xe9xito!"}))}),600)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ja(),n(ra()),t(!1),a()};return Object(_e.jsxs)("div",{className:"pdf-modal",children:[r&&c&&Object(_e.jsxs)("div",{className:"info-wrapper",children:[Object(_e.jsxs)("div",{className:"pdf-header",children:[Object(_e.jsx)("i",{className:"fas fa-arrow-left",onClick:o}),Object(_e.jsx)("img",{src:"".concat("","/assets/images/pdf.png"),alt:"pdf-icon"}),Object(_e.jsx)("span",{children:r.info})]}),i&&Object(_e.jsx)("div",{className:"pdf-delete",onClick:function(){Be.c.warn(Object(_e.jsx)(La,{handleDeleteItem:l,code:"".concat(r.name," ").concat(r.info),message:"Est\xe1s seguro de borrar el documento"}),{position:"top-center",closeOnClick:!1,autoClose:!1,toastId:"1"})},children:Object(_e.jsx)("i",{className:"far fa-trash-alt"})})]}),Object(_e.jsxs)(ga.a,{isOpen:c,className:"modal-docs animate__animated animate__fadeIn animate__fast",onRequestClose:o,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[r&&Object(_e.jsx)(Dn,{file:r.name}),c&&Object(_e.jsx)(Be.b,{})]}),!c&&Object(_e.jsx)(Be.b,{})]})},Fn=function(e){return"application/pdf"===e},Mn=function(e){return e<=15e7&&e>0},An={factory:"default",section:"default",info:""},Hn=function(e){var t=e.resetData,a=Object(s.c)((function(e){return e.ui})).modalOpen,c=Object(s.b)(),r=Object(s.c)((function(e){return e.factory})).factories,i=Object(s.c)((function(e){return e.factory})).sections,o=Object(n.useState)(An),l=Object(Fe.a)(o,2),j=l[0],b=l[1],m=j.factory,p=j.section,O=j.info,f=Object(n.useState)(null),h=Object(Fe.a)(f,2),x=h[0],v=h[1],g=Object(n.useState)([]),y=Object(Fe.a)(g,2),N=y[0],w=y[1];Object(n.useEffect)((function(){c(gt())}),[c]);var k=function(e){var t=e.target;if(b(Object(Pe.a)(Object(Pe.a)({},j),{},Object(De.a)({},t.name,t.value))),"factory"===t.name){b(Object(Pe.a)(Object(Pe.a)({},j),{},{factory:t.value,section:"default"}));var a=t.value,n=Wa(a,i);w(n)}},S=function(){ja(),c(ra()),setTimeout((function(){b(An)}),200)};return Object(_e.jsxs)("div",{children:[Object(_e.jsxs)(ga.a,{isOpen:a,className:"add-modal animate__animated animate__fadeIn animate__fast",onRequestClose:S,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(_e.jsxs)("div",{className:"frame",children:[Object(_e.jsx)("span",{className:"close-event-modal",onClick:S,children:Object(_e.jsx)("i",{className:"fas fa-times"})}),Object(_e.jsx)("h1",{className:"h1-modal",children:"Agregar Documentaci\xf3n"}),Object(_e.jsxs)("form",{onSubmit:function(e){var a,n=!0;return e.preventDefault(),"default"===m||0===m.length?(n=!1,document.querySelector('select[name="factory"]').classList.add("border-red")):document.querySelector('select[name="factory"]').classList.remove("border-red"),"default"===p||0===p.length?(n=!1,document.querySelector('select[name="section"]').classList.add("border-red")):document.querySelector('select[name="section"]').classList.remove("border-red"),0===O.length?(n=!1,document.querySelector('input[name="info"]').classList.add("border-red")):document.querySelector('input[name="info"]').classList.remove("border-red"),!x&&n?Be.c.error("No se ha adjuntado ning\xfan documento",{position:Be.c.POSITION.TOP_CENTER}):n?(c((a=Object(Pe.a)(Object(Pe.a)({},j),{},{file:x}),function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token")||"",(c=new FormData).append("file",a.file),c.append("info",a.info),c.append("section",a.section),e.next=8,fetch("".concat("http://64.227.116.143:8088/api","/uploads/doc"),{method:"POST",headers:{"x-token":n},body:c});case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,(i=s.uploadedDoc)&&(t(Lt(i)),setTimeout((function(){Be.c.success(Object(_e.jsx)(Ze,{text:"Documento agregado con \xe9xito!"}))}),200)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}())),ja(),t(),b(An),void c(ra())):Be.c.error("Revise los campos resaltados en rojo",{position:Be.c.POSITION.TOP_CENTER})},children:[Object(_e.jsxs)("div",{className:"thead-modal",children:[Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Factor\xeda: "}),Object(_e.jsxs)("select",{name:"factory",value:m,onChange:k,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Seleccionar"}),r.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Secci\xf3n: "}),Object(_e.jsxs)("select",{name:"section",value:p,onChange:k,disabled:0===N.length,children:[Object(_e.jsx)("option",{value:"default",disabled:!0,children:"Seleccionar"}),N.length>0&&N.map((function(e){return Object(_e.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(_e.jsxs)("div",{className:"grid-items",children:[Object(_e.jsx)("label",{children:"Descripci\xf3n: "}),Object(_e.jsx)("input",{type:"text",name:"info",value:O,onChange:k,autoComplete:"off",placeholder:" Descripci\xf3n"})]}),Object(_e.jsxs)("div",{className:"grid-items file-name-wrapper",children:[Object(_e.jsx)("label",{children:"Archivo: "}),Object(_e.jsx)("input",{type:"text",defaultValue:null===x||void 0===x?void 0:x.name,disabled:!0})]})]}),Object(_e.jsxs)("div",{className:"form-wrapper-file",children:[Object(_e.jsxs)("label",{className:"btn-label-file",children:[Object(_e.jsx)("input",{type:"file",name:"img",onChange:function(e){var t=e.target;if(t.files.length>0){var a=function(e){return Fn(e.type)?Mn(e.size)?{ok:!0}:{ok:!1,error:"El archivo excede la capacidad m\xe1xima de 150MB"}:{ok:!1,error:"S\xf3lo archivos PDF son soportados"}}(t.files[0]);if(!a.ok)return Be.c.error(a.error,{position:Be.c.POSITION.TOP_CENTER});document.querySelector(".file-name-wrapper").classList.add("show-file-name"),v(t.files[0])}},accept:".pdf"}),Object(_e.jsx)("i",{className:"fas fa-cloud-upload-alt"})," Cargar PDF"]}),Object(_e.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:"Guardar"})]})]})]}),a&&Object(_e.jsx)(Be.b,{})]}),!a&&Object(_e.jsx)(Be.b,{})]})},Rn=function(){var e=Object(s.c)((function(e){return e.factory})).factories,t=Object(s.c)((function(e){return e.factory})).sections,a=Object(s.c)((function(e){return e.factory})).docs,c=Object(s.c)((function(e){return e.auth})).admin,r=Object(s.b)(),i=Object(n.useState)([]),o=Object(Fe.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)([]),j=Object(Fe.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(!1),O=Object(Fe.a)(p,2),f=O[0],h=O[1],x=Object(n.useState)(!1),v=Object(Fe.a)(x,2),g=v[0],y=v[1],N=Object(n.useState)({factory:"",section:""}),w=Object(Fe.a)(N,2),k=w[0],S=w[1],C=Object(n.useState)(!1),T=Object(Fe.a)(C,2),I=T[0],E=T[1],_=function(){f&&D(),g&&P()};Object(n.useEffect)((function(){r(gt())}),[r]);var L=function(){S({factory:"",section:""}),d([]),m([])},q=function(e){var t=function(e,t){return t.find((function(t){return t.id===e}))}(e,a);ua(),E(!0),r({type:ce,payload:t}),r(ca())},D=function(){var e=document.querySelector(".clicker"),t=document.querySelector(".factory-selector");e&&t&&(f?(e.classList.remove("rotate"),t.classList.remove("showlist")):(e.classList.add("rotate"),t.classList.add("showlist")),h(!f))},P=function(){g?(document.querySelector(".clicker-2").classList.remove("rotate"),document.querySelector(".section-selector").classList.remove("showlist")):(document.querySelector(".clicker-2").classList.add("rotate"),document.querySelector(".section-selector").classList.add("showlist")),y(!g)},F={icon:Object(_e.jsx)("i",{className:"fas fa-file-upload"}),className:"button-new doc"};return Object(_e.jsxs)("div",{className:"docs-main-container",children:[Object(_e.jsx)("h1",{className:"h1-docs",children:"Documentaciones"}),Object(_e.jsxs)("p",{className:"doc-breadcrumb ".concat(k.factory?"show-bread animate__animated animate__fadeIn animate__fast":""),children:["Factor\xeda ",k.factory&&"".concat(k.factory),k.factory&&Object(_e.jsx)("i",{className:"fas fa-caret-right bread-arrow"}),k.section&&"".concat(k.section)]}),Object(_e.jsxs)("div",{className:"doc-selectors",children:[Object(_e.jsxs)("div",{className:"factory-header-selects animate__animated animate__fadeIn animate__fast",children:[Object(_e.jsx)(Ye.a,{onClickAway:_,children:Object(_e.jsxs)("div",{className:"factory-header",onClick:D,children:[Object(_e.jsxs)("div",{className:"grid-name",children:[Object(_e.jsx)("i",{className:"fas fa-industry"}),Object(_e.jsx)("h4",{children:"Factor\xedas"})]}),Object(_e.jsx)("i",{className:"fas fa-sort-down clicker",onClick:D})]})}),Object(_e.jsx)("div",{className:"factory-selector",children:Object(_e.jsx)("ul",{onClick:function(e){var a=e.target;S({factory:a.innerText,section:""});var n=a.attributes[0].value,c=Wa(n,t);d(c),m([])},children:e.map((function(e){return Object(_e.jsx)("li",{value:e.id,children:e.name},e.id)}))})})]}),l.length>0&&Object(_e.jsxs)("div",{className:"section-header-selects animate__animated animate__fadeIn animate__fast",children:[Object(_e.jsx)(Ye.a,{onClickAway:_,children:Object(_e.jsxs)("div",{className:"section-header",onClick:P,children:[Object(_e.jsxs)("div",{className:"grid-name",children:[Object(_e.jsx)("i",{className:"fas fa-project-diagram"}),Object(_e.jsx)("h4",{children:"Secciones"})]}),Object(_e.jsx)("i",{className:"fas fa-sort-down clicker-2",onClick:P})]})}),Object(_e.jsx)("div",{className:"section-selector",children:Object(_e.jsx)("ul",{onClick:function(e){var t=e.target;S(Object(Pe.a)(Object(Pe.a)({},k),{},{section:t.innerText}));var n=function(e,t){return!(!e||e.length<1)&&t.filter((function(t){return t.sectionId.toString()===e.toString()}))}(t.attributes[0].value,a);m(n)},children:l.length>0&&l.map((function(e){return Object(_e.jsx)("li",{value:e.id,children:e.name},e.id)}))})})]})]}),b.length>0?Object(_e.jsx)("div",{className:"pdf-wrapper",children:b.map((function(e){return Object(_e.jsx)("div",{className:"single-pdf-wrapper animate__animated animate__fadeIn",onClick:function(){q(e.id)},children:Object(_e.jsx)(Ln,{pdf:e})},e.id)}))}):k.section&&0===b.length&&Object(_e.jsx)("h3",{className:"h3-docs animate__animated animate__zoomIn",children:"No se ha encontrado documentaci\xf3n"}),I&&Object(_e.jsx)(Pn,{setShowModalDoc:E,resetData:L}),!I&&Object(_e.jsx)(Hn,{resetData:L}),c&&Object(_e.jsx)(bn,{iconData:F})]})},Vn=function(){return Object(_e.jsx)("div",{className:"order-wrapper",children:Object(_e.jsx)(rn,{})})},Bn=function(){var e=Object(s.b)(),t=Object(o.g)(),a=Object(s.c)((function(e){return e.nav})).showResponsive;return Object(n.useEffect)((function(){var a=localStorage.getItem("token"),n=localStorage.getItem("token-init-date");a&&n?function(){var e=0;return e=((new Date).getTime()-(parseInt(localStorage.getItem("token-init-date"))||0))/1e3,e/=3600,Math.abs(Math.round(e))}()>=2&&e(Se()):(e(Ne()),t.push("/login"))}),[e,t]),Object(n.useEffect)((function(){e(Wt()),e(gt()),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("crew/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.technicians)&&t(Pt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ft()),t(xt()),e.prev=2,e.next=5,p("events/events");case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,c=n.eventsWithData){r=Object(j.a)(c);try{for(r.s();!(s=r.n()).done;){(i=s.value).end=new Date(i.end),i.endFix=new Date(i.endFix),i.start=new Date(i.start),i.startFix=new Date(i.startFix),o=Object(j.a)(i.clocks);try{for(o.s();!(l=o.n()).done;)(u=l.value).start=new Date(u.start),u.end=new Date(u.end)}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}t(dt(c))}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()),e(tt())}),[e]),Object(n.useEffect)((function(){a&&e(Xe())}),[]),Object(_e.jsxs)("div",{className:"wrapper-nav-main",children:[Object(_e.jsx)(ia,{}),Object(_e.jsx)($e,{}),Object(_e.jsxs)("main",{children:[Object(_e.jsx)(sa,{}),Object(_e.jsx)("div",{className:"container main-container",children:Object(_e.jsxs)(o.d,{children:[Object(_e.jsx)(o.b,{exact:!0,path:"/",component:Pa}),Object(_e.jsx)(o.b,{exact:!0,path:"/admin",component:Va}),Object(_e.jsx)(o.b,{exact:!0,path:"/neworder",component:Vn}),Object(_e.jsx)(o.b,{exact:!0,path:"/order",component:sn}),Object(_e.jsx)(o.b,{exact:!0,path:"/calendar",component:jn}),Object(_e.jsx)(o.b,{exact:!0,path:"/crew",component:gn}),Object(_e.jsx)(o.b,{exact:!0,path:"/docs",component:Rn}),Object(_e.jsx)(o.b,{exact:!0,path:"/warehouse",component:kn}),Object(_e.jsx)(o.b,{exact:!0,path:"/statistics",component:Tn}),Object(_e.jsx)(o.b,{exact:!0,path:"/history",component:Cn}),Object(_e.jsx)(o.b,{path:"*",component:In})]})})]})]})},Wn=function(e){var t=e.isAuthenticated,a=e.component,n=Object(Ke.a)(e,["isAuthenticated","component"]);return Object(_e.jsx)("div",{children:Object(_e.jsx)(o.b,Object(Pe.a)(Object(Pe.a)({},n),{},{component:function(e){return t?Object(_e.jsx)(a,Object(Pe.a)({},e)):Object(_e.jsx)(o.a,{to:"/login"})}}))})},Un=function(e){var t=e.isAuthenticated,a=e.component,n=Object(Ke.a)(e,["isAuthenticated","component"]);return Object(_e.jsx)("div",{children:Object(_e.jsx)(o.b,Object(Pe.a)(Object(Pe.a)({},n),{},{component:function(e){return t?Object(_e.jsx)(o.a,{to:"/"}):Object(_e.jsx)(a,Object(Pe.a)({},e))}}))})},Gn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),a=t.checking,c=t.uid;return Object(n.useEffect)((function(){var t=localStorage.getItem("token");e(t?Se():Ce())}),[e]),a?Object(_e.jsx)(qe,{}):Object(_e.jsx)(i.a,{basename:"/",children:Object(_e.jsx)("div",{children:Object(_e.jsxs)(o.d,{children:[Object(_e.jsx)(Un,{exact:!0,path:"/login",isAuthenticated:!!c,component:ze}),Object(_e.jsx)(Wn,{path:"/",isAuthenticated:!!c,component:Bn})]})})})},zn=a(67),Yn=a(147),Jn={checking:!0,loadingLogin:!1,uid:null,name:null,admin:!1},Xn={events:[],types:[],breakdowns:[],activeEvent:null},$n={navExtended:!1,showResponsive:!1},Kn={technicians:[],activeTechnician:null},Qn={modalOpen:!1,modalAlert:!1},Zn={items:[],activeItem:null,itemsToOrder:[]},ec={factories:[],sections:[],machines:[],numbers:[],docs:[],activeDoc:null},tc={warnings:[]},ac={weeks:[],threeWeekSections:[],lastWeekByOrderType:{},lastWeekByBreakdown:{},lastWeekByTechnician:{},interventionsWeeks:{},totalTimeByWeek:{}},nc=Object(zn.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(Pe.a)(Object(Pe.a)({},e),{},{checking:!1},t.payload);case v:return Object(Pe.a)(Object(Pe.a)({},Jn),{},{checking:!1});case g:return Object(Pe.a)(Object(Pe.a)({},e),{},{checking:!1});case y:return Object(Pe.a)(Object(Pe.a)({},e),{},{loadingLogin:!0});case N:return Object(Pe.a)(Object(Pe.a)({},e),{},{loadingLogin:!1});default:return e}},nav:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(Pe.a)(Object(Pe.a)({},e),{},{navExtended:!e.navExtended});case k:return Object(Pe.a)(Object(Pe.a)({},e),{},{showResponsive:!e.showResponsive});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Pe.a)(Object(Pe.a)({},e),{},{events:Object(Fa.a)(t.payload)});case q:return Object(Pe.a)(Object(Pe.a)({},e),{},{types:Object(Fa.a)(t.payload)});case D:return Object(Pe.a)(Object(Pe.a)({},e),{},{breakdowns:Object(Fa.a)(t.payload)});case I:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeEvent:t.payload});case P:return Object(Pe.a)(Object(Pe.a)({},e),{},{events:[].concat(Object(Fa.a)(e.events),[t.payload])});case F:return Object(Pe.a)(Object(Pe.a)({},e),{},{events:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case M:return Object(Pe.a)(Object(Pe.a)({},e),{},{events:e.events.filter((function(e){return e.id.toString()!==t.payload})),activeEvent:null});case E:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeEvent:null});case _:return Object(Pe.a)({},Xn);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(Pe.a)(Object(Pe.a)({},e),{},{modalOpen:!0});case C:return Object(Pe.a)(Object(Pe.a)({},e),{},{modalOpen:!1});case T:return Object(Pe.a)(Object(Pe.a)({},e),{},{modalAlert:!e.modalAlert});default:return e}},crew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(Pe.a)(Object(Pe.a)({},e),{},{technicians:t.payload});case H:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeTechnician:t.payload});case R:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeTechnician:null});case V:return Object(Pe.a)(Object(Pe.a)({},e),{},{technicians:[].concat(Object(Fa.a)(e.technicians),[t.payload])});case W:return Object(Pe.a)(Object(Pe.a)({},e),{},{technicians:e.technicians.filter((function(t){return t.id!==e.activeTechnician.id}))});case B:return Object(Pe.a)(Object(Pe.a)({},e),{},{technicians:e.technicians.map((function(a){return a.id===e.activeTechnician.id?t.payload:a}))});case U:return Object(Pe.a)({},Kn);default:return e}},warehouse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(Pe.a)(Object(Pe.a)({},e),{},{items:Object(Fa.a)(t.payload)});case Y:return Object(Pe.a)(Object(Pe.a)({},e),{},{items:[].concat(Object(Fa.a)(e.items),[t.payload]),activeItem:null});case J:return Object(Pe.a)(Object(Pe.a)({},e),{},{items:e.items.map((function(e){return e.code===t.payload.code?t.payload:e}))});case z:return Object(Pe.a)(Object(Pe.a)({},e),{},{items:e.items.filter((function(t){return t.code!==e.activeItem.code})),activeItem:null});case X:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeItem:t.payload});case $:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeItem:null});case Q:return Object(Pe.a)(Object(Pe.a)({},e),{},{itemsToOrder:t.payload});case K:return Object(Pe.a)({},Zn);default:return e}},factory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(Pe.a)(Object(Pe.a)({},e),{},{factories:t.payload});case ee:return Object(Pe.a)(Object(Pe.a)({},e),{},{sections:t.payload});case te:return Object(Pe.a)(Object(Pe.a)({},e),{},{machines:t.payload});case ae:return Object(Pe.a)(Object(Pe.a)({},e),{},{numbers:t.payload});case ne:return Object(Pe.a)(Object(Pe.a)({},e),{},{docs:t.payload});case ce:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeDoc:t.payload});case re:return Object(Pe.a)(Object(Pe.a)({},e),{},{activeDoc:null});case se:return Object(Pe.a)(Object(Pe.a)({},e),{},{docs:[].concat(Object(Fa.a)(e.docs),[t.payload])});case ie:return Object(Pe.a)(Object(Pe.a)({},e),{},{docs:e.docs.filter((function(t){return t.id!==e.activeDoc.id})),activeDoc:null});case oe:return Object(Pe.a)({},ec);default:return e}},warning:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(Pe.a)(Object(Pe.a)({},e),{},{warnings:Object(Fa.a)(t.payload)});case de:return Object(Pe.a)(Object(Pe.a)({},e),{},{warnings:[t.payload].concat(Object(Fa.a)(e.warnings))});case ue:return Object(Pe.a)(Object(Pe.a)({},e),{},{warnings:e.warnings.filter((function(e){return e.id!==t.payload}))});case je:return Object(Pe.a)({},tc);default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ac,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(Pe.a)(Object(Pe.a)({},e),{},{weeks:Object(Fa.a)(t.payload)});case me:return Object(Pe.a)(Object(Pe.a)({},e),{},{threeWeekSections:Object(Fa.a)(t.payload)});case pe:return Object(Pe.a)(Object(Pe.a)({},e),{},{lastWeekByOrderType:Object(Pe.a)({},t.payload)});case Oe:return Object(Pe.a)(Object(Pe.a)({},e),{},{lastWeekByBreakdown:Object(Pe.a)({},t.payload)});case fe:return Object(Pe.a)(Object(Pe.a)({},e),{},{lastWeekByTechnician:Object(Pe.a)({},t.payload)});case he:return Object(Pe.a)(Object(Pe.a)({},e),{},{interventionsWeeks:Object(Pe.a)({},t.payload)});case xe:return Object(Pe.a)(Object(Pe.a)({},e),{},{totalTimeByWeek:Object(Pe.a)({},t.payload)});case ve:return Object(Pe.a)({},ac);default:return e}}}),cc="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||zn.c,rc=Object(zn.d)(nc,cc(Object(zn.a)(Yn.a))),sc=(a(337),function(){return Object(_e.jsx)(s.a,{store:rc,children:Object(_e.jsx)(Gn,{})})});r.a.render(Object(_e.jsx)(sc,{}),document.getElementById("root"))}},[[338,2,3]]]);
//# sourceMappingURL=main.b24b49ee.chunk.js.map