(this["webpackJsonpm-tile"]=this["webpackJsonpm-tile"]||[]).push([[1],{337:function(e,t){},338:function(e,t){},339:function(e,t){},340:function(e,t){},341:function(e,t){},342:function(e,t,a){},343:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(24),r=a.n(c),s=a(4),i=a(23),o=a(17),l=a(7),d=a.n(l),u=a(14),j=a(31),b="http://localhost:8088/api",m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e);return"GET"===a?fetch(n):fetch(n,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n="".concat(b,"/").concat(e),c=localStorage.getItem("token")||"";switch(a){case"GET":return fetch(n,{method:a,headers:{"x-token":c}});case"POST":return fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)});case"DELETE":return fetch(n,{method:a,headers:{"x-token":c}});case"PUT":return fetch(n,{method:a,headers:{"Content-Type":"application/json","x-token":c},body:JSON.stringify(t)});default:return!1}},O=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token")||"",c="".concat(b,"/").concat(t),e.abrupt("return",fetch(c,{method:"POST",headers:{"x-token":n},body:a}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t,a,n){var c,r,s,i,o,l,u,b,m=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=m.length>3&&void 0!==m[3]?m[3]:"POST",r=[],s=Object(j.a)(n),e.prev=3,s.s();case 5:if((i=s.n()).done){e.next=17;break}return o=i.value,e.next=9,p("events/".concat(a,"/").concat(t),o,c);case 9:return l=e.sent,e.next=12,l.json();case 12:u=e.sent,(b=u.new_operation)&&r.push(b);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[3,19,22,25]])})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={name:t,data:[]},c=Object(j.a)(a),e.prev=2,c.s();case 4:if((r=c.n()).done){e.next=16;break}return s=r.value,e.next=8,p("statistics/section/".concat(s),{section:t},"POST");case 8:return i=e.sent,e.next=11,i.json();case 11:o=e.sent,(l=o.data).length>0?n.data.push(l[0].total):n.data.push(Math.floor(10*(Math.random()+1)));case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})));return function(t,a){return e.apply(this,arguments)}}(),x="[auth] User Login",v="[auth] User Logout",g="[auth] Checking Finish",y="[auth] Loading Start",N="[auth] Loading Finish",w="[nav] Toggle Nav",k="[nav] Toggle Responsive",S="[UI] Open Modal",C="[UI] Close Modal",T="[UI] Open/Close Alerts",I="[event] Set Active",E="[event] Clear Active",_="[event] Clean events",L="[event] Load Order Events",q="[event] Load Order Types",D="[event] Load Breakdown Types",P="[event] Add Order Event",F="[event] Update Order Event",M="[event] delete Order Event",A="[crew] Load techinicians",H="[crew] Set active",R="[crew] Clear active",V="[crew] Add new technician",B="[crew] Update technician",W="[crew] Delete technician",U="[crew] Clear Technicians",G="[warehouse] Loaded Data",z="[warehouse] Remove Item",Y="[warehouse] Add Item",J="[warehouse] Update Item",X="[warehouse] Set Active Item",$="[warehouse] Remove Active Item",K="[warehouse] Clear All",Q="[warehouse] Items To Order Loaded",Z="[factories] Set Factories",ee="[factories] Set Sections",te="[factories] Set Machines",ae="[factories] Set Number Sections",ne="[factories] Set Docs",ce="[factories] Set Active Doc",re="[factories] Clear Active Doc",se="[factories] Add Doc",ie="[factories] Delete Doc",oe="[factories] Clear Factory",le="[warnings] Load warnings",de="[warnings] Add warning",ue="[warnings] Remove warning",je="[warnings] Clear All",be="[statistics] Load Weeks",me="[statistics] Load 3 Weeks Sections",pe="[statistics] Load Last Week by OrderType",Oe="[statistics] Load Last Week by Breakdown",fe="[statistics] Load Last Week by Technician",he="[statistics] Load Interventions by Week",xe="[statistics] Load Total Time by Week",ve="[statistics] Clear All",ge=function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Ne()),a.prev=1,a.next=4,m("users/",{email:e,password:t},"POST");case 4:return c=a.sent,a.next=7,c.json();case 7:if(!(r=a.sent).ok){a.next=13;break}s=r.name,i=r.uid,o=r.token,l=r.admin,setTimeout((function(){return n(we()),localStorage.setItem("token",o),n(ye({uid:i,name:s,admin:l})),{ok:!0}}),500),a.next=14;break;case 13:return a.abrupt("return",{ok:!1,msg:"Usuario y/o password incorrectos"});case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(1),console.log(a.t0),a.abrupt("return",{ok:!1,msg:"Error con la conexi\xf3n, contacte con el administrador"});case 20:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(e){return a.apply(this,arguments)}}()},ye=function(e){return{type:x,payload:e}},Ne=function(){return{type:y}},we=function(){return{type:N}},ke=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("users/renew");case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(n=e.sent).ok){e.next=14;break}return localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(Se()),e.abrupt("return",t(ye({uid:n.uid,name:n.name})));case 14:t(Se());case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),t(Se());case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},Se=function(){return{type:g}},Ce=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/new",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,c=null===n||void 0===n?void 0:n.msg,!(null===n||void 0===n?void 0:n.ok)){t.next=12;break}return t.abrupt("return",{user:n.user,ok:!0,msg:"Usuario creado correctamente"});case 12:return t.abrupt("return",{ok:!1,msg:c});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))},Te=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,!(c=n.user)){t.next=12;break}return t.abrupt("return",{ok:!0,msg:"Usuario editado correctamente",user:c});case 12:return t.abrupt("return",{ok:!1,msg:"Error al actualizar el usuario, int\xe9ntelo de nuevo m\xe1s tarde"});case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al conectar con la BBDD, contacte con el administrador"});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))},Ie=function(e){return Object(u.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("users/".concat(e),void 0,"DELETE");case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,!(c=n.user)||c.active){t.next=12;break}return t.abrupt("return",{ok:!0,msg:"Usuario desactivado correctamente",user:c});case 12:if(!c||!c.active){t.next=16;break}return t.abrupt("return",{ok:!0,msg:"Usuario activado correctamente",user:c});case 16:return t.abrupt("return",{ok:!1,msg:"Error al borrar el usuario, int\xe9ntelo de nuevo m\xe1s tarde",user:c});case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al borrar el usuario, int\xe9ntelo de nuevo m\xe1s tarde"});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})))},Ee=a(0),_e=function(){return Object(Ee.jsxs)("div",{className:"loading-component animate__animated animate__fadeIn",children:[Object(Ee.jsxs)("h1",{children:["Cargando",Object(Ee.jsx)("span",{className:"dot dot-1",children:" . "}),Object(Ee.jsx)("span",{className:"dot dot-2",children:". "}),Object(Ee.jsx)("span",{className:"dot dot-3",children:". "})]}),Object(Ee.jsxs)("div",{className:"loading-bar-wrapper",children:[Object(Ee.jsx)("div",{className:"loading-bar-1"}),Object(Ee.jsx)("div",{className:"loading-bar-2"}),Object(Ee.jsx)("div",{className:"loading-bar-3"}),Object(Ee.jsx)("div",{className:"loading-bar-4"}),Object(Ee.jsx)("div",{className:"loading-bar-5"}),Object(Ee.jsx)("div",{className:"loading-bar-6"}),Object(Ee.jsx)("div",{className:"loading-bar-7"}),Object(Ee.jsx)("div",{className:"loading-bar-8"}),Object(Ee.jsx)("div",{className:"loading-bar-9"}),Object(Ee.jsx)("div",{className:"loading-bar-10"}),Object(Ee.jsx)("div",{className:"loading-bar-11"}),Object(Ee.jsx)("div",{className:"loading-bar-12"}),Object(Ee.jsx)("div",{className:"loading-bar-13"}),Object(Ee.jsx)("div",{className:"loading-bar-14"}),Object(Ee.jsx)("div",{className:"loading-bar-15"}),Object(Ee.jsx)("div",{className:"loading-bar-16"}),Object(Ee.jsx)("div",{className:"loading-bar-17"}),Object(Ee.jsx)("div",{className:"loading-bar-18"})]})]})},Le=function(){return Object(Ee.jsx)("div",{className:"loading-screen-wrapper animate__animated animate__fadeIn animate__faster",children:Object(Ee.jsx)(_e,{})})},qe=a(18),De=a(2),Pe=a(10),Fe=function(){return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"}),Object(Ee.jsx)("div",{className:"firefly"})]})},Me=function(){var e=document.querySelector('input[name="password"]'),t=document.querySelector(".icon-pwd");"password"===e.type?e.type="text":e.type="password",t.classList.contains("fa-eye-slash")?(t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye")):(t.classList.remove("fa-eye"),t.classList.add("fa-eye-slash"))},Ae=function(e){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)?(document.querySelector('input[name="user"]').classList.remove("border-red"),document.querySelector(".message-error-login-user").classList.remove("show-error"),!0):(document.querySelector('input[name="user"]').classList.add("border-red"),document.querySelector(".message-error-login-user").classList.add("show-error"),!1)},He=function(e){return e.trim().length<4?(document.querySelector('input[name="password"]').classList.add("border-red"),document.querySelector(".message-error-login-password").classList.add("show-error"),!1):(document.querySelector('input[name="password"]').classList.remove("border-red"),document.querySelector(".message-error-login-password").classList.remove("show-error"),!0)},Re=function(e){var t=e.type,a=void 0===t?"default":t;return Object(Ee.jsx)(Ee.Fragment,{children:"default"===a?Object(Ee.jsx)("div",{className:"loading-wrapper animate__animated animate__fadeIn animate__faster",children:Object(Ee.jsx)(_e,{})}):Object(Ee.jsx)("div",{className:"loading-wrapper",children:Object(Ee.jsx)(_e,{})})})},Ve=a(6),Be=function(e){var t=e.text;return Object(Ee.jsxs)("div",{className:"toast-success-custom",children:[Object(Ee.jsx)("i",{className:"fas fa-exclamation-triangle"}),Object(Ee.jsx)("p",{children:t})]})},We=a(62),Ue=a.n(We),Ge=function(){var e=Object(n.useState)({user:"",password:""}),t=Object(Pe.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(Pe.a)(r,2),o=i[0],l=i[1],j=a.user,b=a.password,m=Object(s.c)((function(e){return e.auth})).loadingLogin,p=Object(s.b)();Object(n.useEffect)((function(){var e=localStorage.getItem("user_mail")||"";e&&(c({user:e,password:""}),l(!0))}),[]);var O=function(e){var t=e.target,n=null===t||void 0===t?void 0:t.name;document.querySelector('input[name="'.concat(n,'"]')).classList.remove("border-red"),document.querySelector(".message-error-login-".concat(n)).classList.remove("show-error"),c(Object(De.a)(Object(De.a)({},a),{},Object(qe.a)({},t.name,t.value)))},f=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,Ae(j)||(a=!1),He(b)||(a=!1),a){e.next=6;break}return e.abrupt("return");case 6:return o?localStorage.setItem("user_mail",j):localStorage.removeItem("user_mail"),e.next=9,p(ge(j,b));case 9:!1===(null===(n=e.sent)||void 0===n?void 0:n.ok)&&(p(we()),setTimeout((function(){return document.querySelector('input[name="user"]').classList.add("border-red"),document.querySelector('input[name="password"]').classList.add("border-red"),Ve.c.error(Object(Ee.jsx)(Be,{text:n.msg}))}),200));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ee.jsxs)("div",{className:"login-wrapper",children:[m&&Object(Ee.jsx)(Re,{}),Object(Ee.jsx)(Fe,{}),Object(Ee.jsx)(Ve.b,{}),Object(Ee.jsxs)("div",{className:"form-login-wrapper",children:[Object(Ee.jsx)("img",{src:"".concat("","/assets/images/mtile_login.png"),alt:"logo_mtile"}),Object(Ee.jsx)("form",{onSubmit:f,children:Object(Ee.jsxs)("div",{className:"data-form-login",children:[Object(Ee.jsxs)("div",{className:"login-grid",children:[Object(Ee.jsx)("label",{children:"Email:"}),Object(Ee.jsx)("input",{type:"text",name:"user",value:j,onChange:O,autoComplete:"off"})]}),Object(Ee.jsx)("span",{className:"message-error-login-user",children:"El email no es un email v\xe1lido."}),Object(Ee.jsxs)("div",{className:"login-grid",children:[Object(Ee.jsx)("label",{children:"Password:"}),Object(Ee.jsxs)("div",{className:"login-password-wrapper",children:[Object(Ee.jsx)("input",{type:"password",name:"password",value:b,onChange:O,autoComplete:"off"}),Object(Ee.jsx)("i",{className:"fas fa-eye-slash icon-pwd",onClick:Me})]})]}),Object(Ee.jsx)("span",{className:"message-error-login-password",children:"La contrase\xf1a es demasiado corta."}),Object(Ee.jsxs)("div",{className:"login-button-wrapper",children:[Object(Ee.jsxs)("div",{className:"remember-me-wrapper",children:[Object(Ee.jsx)(Ue.a,{onChange:function(){l(!o)},checked:o,onColor:"#ffa600",height:20,width:42}),Object(Ee.jsx)("label",{children:"Remember me?"})]}),Object(Ee.jsx)("button",{className:"btn btn-login",type:"submit",children:"Login"})]})]})})]})]})},ze=a(57),Ye=function(){return{type:w}},Je=function(){return{type:k}},Xe=function(){var e=Object(s.c)((function(e){return e.nav})).navExtended,t=Object(s.c)((function(e){return e.auth})).admin,a=Object(s.b)(),n=function(){a(Ye())};return Object(Ee.jsx)(ze.a,{onClickAway:function(){e&&a(Ye())},children:Object(Ee.jsx)("nav",{className:e?"nav-large":"",children:Object(Ee.jsxs)("div",{className:"nav-icons-wrapper",children:[Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsxs)(i.c,{exact:!0,to:"/",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"fas fa-home"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Dashboard"})]}),t&&Object(Ee.jsxs)(i.c,{to:"/admin",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"fas fa-user-shield"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Administrador"})]}),Object(Ee.jsxs)(i.c,{to:"/neworder",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"far fa-plus-square"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Nueva orden"})]}),Object(Ee.jsxs)(i.c,{to:"/crew",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"fas fa-users"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"T\xe9cnicos"})]}),Object(Ee.jsxs)(i.c,{to:"/calendar",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"far fa-calendar-alt"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Calendario"})]}),Object(Ee.jsxs)(i.c,{to:"/docs",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"far fa-file"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Documentaci\xf3n"})]}),Object(Ee.jsxs)(i.c,{to:"/warehouse",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"fas fa-boxes"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Almac\xe9n"})]}),Object(Ee.jsxs)(i.c,{to:"/statistics",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"far fa-chart-bar"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Estad\xedsticas"})]}),Object(Ee.jsxs)(i.c,{to:"/history",className:e?"nav-icon-wrapper":"nav-icon-wrapper nav-icon-wrapper-reset-grid",activeClassName:"active-link",children:[Object(Ee.jsx)("i",{className:"fas fa-history"}),Object(Ee.jsx)("span",{className:e?"nav-text show-text":"nav-text",children:"Hist\xf3rico"})]})]}),e?Object(Ee.jsx)("div",{className:"nav-icon-wrapper reduce-nav nav-icon-wrapper-reset-grid animate__animated animate__fadeIn animate__slow",onClick:n,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-left"})}):Object(Ee.jsx)("div",{className:"nav-icon-wrapper extend-nav",onClick:n,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-right animate__animated animate__fadeIn"})})]})})})},$e=a(50),Ke=function(e){var t=0;if(e.operations&&e.operations.length>0){var a,n=Object(j.a)(e.operations);try{for(n.s();!(a=n.n()).done;){var c=a.value;t+=parseFloat(60*c.time)}}catch(r){n.e(r)}finally{n.f()}}return t},Qe=function(e){var t=e.text,a=void 0===t?"":t;return Object(Ee.jsxs)("div",{className:"toast-success-custom",children:[Object(Ee.jsx)("i",{className:"far fa-check-circle icon-toast-success"}),Object(Ee.jsx)("p",{children:a})]})},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return e.quantity<=e.minStock}));return t},et=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warehouse/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,c=n.items,r=Ze(c),t(at(r)),c&&t(tt(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},tt=function(e){return{type:G,payload:e}},at=function(e){return{type:Q,payload:e}},nt=function(){return{type:$}},ct=function(e){return{type:J,payload:e}},rt=function(e){return{type:Y,payload:e}},st=function(){return{type:z}},it=function(e){return{type:I,payload:e}},ot=function(){return{type:E}},lt=function(e){return{type:L,payload:e}},dt=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,r,s,i,o,l,u,j,b,m,O;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Ke(e),e.totalMins=n,c=e.operations,r=e.materials,s=e.clocks,i=Object($e.a)(e,["operations","materials","clocks"]),t.next=6,p("events/events",i,"POST");case 6:return o=t.sent,t.next=9,o.json();case 9:if(l=t.sent,!(u=l.event)){t.next=29;break}return j=u.id,t.next=15,f(j,"operation",c);case 15:return b=t.sent,t.next=18,f(j,"clock",s);case 18:return m=t.sent,t.next=21,f(j,"item",r);case 21:return O=t.sent,u.operations=b,u.clocks=m,u.materials=O,a(ut(u)),t.abrupt("return",{ok:!0,message:"Orden creada correctamente!"});case 29:return t.abrupt("return",{ok:!1,message:"No se ha podido guardar la orden!"});case 30:t.next=36;break;case 32:return t.prev=32,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,message:"Error al guardar en la BBDD, contacte con el administrador!"});case 36:case"end":return t.stop()}}),t,null,[[0,32]])})));return function(e){return t.apply(this,arguments)}}()},ut=function(e){return{type:P,payload:e}},jt=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c,r,s,i,o,l,u,b,m,O,h,x,v,g,y,N,w;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,c=e.operations,r=e.materials,s=e.clocks,i=Object($e.a)(e,["id","operations","materials","clocks"]),o=Ke(e),i.totalMins=o,!0!==e.closed&&1!==e.closed||(i.confirmed=!0),t.prev=4,t.next=7,p("events/events/".concat(n),i,"PUT");case 7:return l=t.sent,t.next=10,l.json();case 10:if(u=t.sent,!(b=u.event)){t.next=65;break}return t.next=15,p("events/operation/".concat(n),void 0,"DELETE");case 15:return t.next=17,p("events/clock/".concat(n),void 0,"DELETE");case 17:return t.next=19,p("events/item/".concat(n),void 0,"DELETE");case 19:if(m=[],!(c.length>0)){t.next=24;break}return t.next=23,f(n,"operation",c);case 23:m=t.sent;case 24:if(b.operations=m,O=[],!(s.length>0)){t.next=30;break}return t.next=29,f(n,"clock",s);case 29:O=t.sent;case 30:if(b.clocks=O,h=[],!(r.length>0)){t.next=36;break}return t.next=35,f(n,"item",r);case 35:h=t.sent;case 36:if(b.materials=h,!b.confirmed){t.next=61;break}x=Object(j.a)(b.materials),t.prev=39,x.s();case 41:if((v=x.n()).done){t.next=53;break}return g=v.value,t.next=45,p("warehouse/subtract/".concat(g.code),{quantity:g.quantity},"PUT");case 45:return y=t.sent,t.next=48,y.json();case 48:N=t.sent,(w=N.newItem)&&a(ct(w));case 51:t.next=41;break;case 53:t.next=58;break;case 55:t.prev=55,t.t0=t.catch(39),x.e(t.t0);case 58:return t.prev=58,x.f(),t.finish(58);case 61:return a(bt(b)),t.abrupt("return",{ok:!0,message:"Orden creada correctamente!"});case 65:return t.abrupt("return",{ok:!1,message:"No se ha podido guardar la orden!"});case 66:t.next=72;break;case 68:return t.prev=68,t.t1=t.catch(4),console.log(t.t1),t.abrupt("return",{ok:!1,message:"Error al guardar en la BBDD, contacte con el administrador!"});case 72:case"end":return t.stop()}}),t,null,[[4,68],[39,55,58,61]])})));return function(e){return t.apply(this,arguments)}}()},bt=function(e){return{type:F,payload:e}},mt=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=15;break}return t.next=4,p("events/events/".concat(e),void 0,"DELETE");case 4:return n=t.sent,t.next=7,n.json();case 7:if(c=t.sent,0!==c.active){t.next=14;break}return a(pt(e)),t.abrupt("return",{ok:!0,msg:"Orden borrada correctamente"});case 14:return t.abrupt("return",{ok:!1,msg:"Error, la orden no existe"});case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",{ok:!1,msg:"Error al conectar con la BBDD, hable con su administrador"});case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},pt=function(e){return{type:M,payload:e}},Ot=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("events/types");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.types)&&t(ft(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},ft=function(e){return{type:q,payload:e}},ht=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("events/breakdowns");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.breakdowns)&&t(xt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},xt=function(e){return{type:D,payload:e}},vt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(gt()),t(Nt()),t(kt()),t(Ct()),t(It());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/factories");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.factories)&&t(yt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},yt=function(e){return{type:Z,payload:e}},Nt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/sections");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.sections)&&t(wt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},wt=function(e){return{type:ee,payload:e}},kt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/machines");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.machines)&&t(St(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},St=function(e){return{type:te,payload:e}},Ct=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/numbers");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.numbers)&&t(Tt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Tt=function(e){return{type:ae,payload:e}},It=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("factory/docs");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.docs)&&t(Et(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},Et=function(e){return{type:ne,payload:e}},_t=function(e){return{type:se,payload:e}},Lt=function(){return{type:ie}},qt=function(){return{type:R}},Dt=function(e){return{type:A,payload:e}},Pt=function(e){return{type:V,payload:e}},Ft=function(e){return{type:B,payload:e}},Mt=function(){return{type:W}},At=function(){return{type:U}},Ht=function(e){return{type:le,payload:e}},Rt=function(e){return{type:ue,payload:e}},Vt=function(e){return{type:de,payload:e}},Bt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Wt());case 2:return e.next=4,t(Gt());case 4:return e.next=6,t(Yt());case 6:return e.next=8,t(Zt());case 8:return e.next=10,t(ta());case 10:return e.next=12,t(Xt());case 12:return e.next=14,t(Kt());case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/14dayssagobyweeks",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.weeks,r=[],c){s=Object(j.a)(c);try{for(s.s();!(i=s.n()).done;)o=i.value,r.push(o.week)}catch(l){s.e(l)}finally{s.f()}}t(Ut(r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ut=function(e){return{type:be,payload:e}},Gt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a().statistics.weeks,c=[],r=0,s=["Prensas","Esmaltadoras","Hornos","Clasificaci\xf3n","Parque Box","Tierras","Almac\xe9n","Taller","Otros"];case 4:if(!(r<s.length)){e.next=13;break}return i=s[r],e.next=8,h(i,n);case 8:o=e.sent,c.push(o);case 10:r++,e.next=4;break;case 13:t(zt(c));case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},zt=function(e){return{type:me,payload:e}},Yt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbyordertype",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.orderTypeWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t(Jt({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt=function(e){return{type:pe,payload:e}},Xt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbybreakdown",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.breakdownWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t($t({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$t=function(e){return{type:Oe,payload:e}},Kt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/lastweekbytechnician",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.techniciansWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.total),s.push(l.name)}catch(d){i.e(d)}finally{i.f()}t(Qt({quantities:r,names:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Qt=function(e){return{type:fe,payload:e}},Zt=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/interventionsweeks",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.interventionsWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.week),s.push(l.count)}catch(d){i.e(d)}finally{i.f()}t(ea({weeksIntervetions:r,weeksInterventionsCounts:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ea=function(e){return{type:he,payload:e}},ta=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("statistics/totaltimebyweek",void 0,"GET");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,c=n.totalTimeWeeks,r=[],s=[],c){i=Object(j.a)(c);try{for(i.s();!(o=i.n()).done;)l=o.value,r.push(l.week),s.push(l.totalMins/60)}catch(d){i.e(d)}finally{i.f()}t(aa({weeksTime:r,weeksTotalTime:s}))}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},aa=function(e){return{type:xe,payload:e}},na=function(){return{type:S}},ca=function(){return{type:C}},ra=function(){var e=Object(s.c)((function(e){return e.auth})).name,t=Object(s.b)(),a=Object(o.g)(),n=Object(s.c)((function(e){return e.ui})).modalAlert,c=Object(s.c)((function(e){return e.warehouse})).itemsToOrder,r=function(e){n&&"bell-alert"===e.target.className&&!e.nativeEvent||(n||"bell-alert"===e.target.className||e.nativeEvent)&&(n||"bell-alert"!==e.target.className||e.nativeEvent)&&t({type:T})};return Object(Ee.jsxs)("div",{className:"topbar-wrapper",children:[Object(Ee.jsx)("img",{src:"".concat("","/assets/images/m_tile_topbar.png"),alt:"logo_mtile",onClick:function(){a.push("/")}}),Object(Ee.jsxs)("div",{className:"topbar-user-options",children:[Object(Ee.jsx)("span",{className:"user",children:e}),Object(Ee.jsxs)("div",{className:"wrapper-bell-alert",children:[Object(Ee.jsx)("img",{className:"bell-alert",src:"".concat("","/assets/images/bell.png"),alt:"logo_bell",onClick:r}),c&&c.length>0&&Object(Ee.jsx)("div",{className:"circle-alert",children:"!"}),Object(Ee.jsx)(ze.a,{onClickAway:r,children:Object(Ee.jsx)("div",{className:"wrapper-alerts ".concat(n?"extend-alerts":""),children:c&&c.length>0?c.map((function(e){return n&&Object(Ee.jsxs)("div",{className:"alert-text animate__animated animate__fadeIn",children:[Object(Ee.jsxs)("span",{children:["Pedir - Ref: ",e.code]}),Object(Ee.jsxs)("span",{children:["Desc: ",e.description]})]},e.id)})):n&&Object(Ee.jsx)("div",{className:"alert-text-default",children:Object(Ee.jsx)("span",{className:"no-alert-text animate__animated animate__fadeIn",children:"No hay alertas"})})})})]}),Object(Ee.jsx)("i",{onClick:function(){t({type:_}),t({type:oe}),t(At()),t({type:je}),t({type:K}),t(At()),t({type:ve}),t({type:v}),localStorage.removeItem("token"),localStorage.removeItem("token-init-date")},className:"fas fa-sign-out-alt"})]})]})},sa=function(){var e=Object(s.c)((function(e){return e.auth})).admin,t=Object(s.c)((function(e){return e.nav})).showResponsive,a=Object(s.b)();return Object(Ee.jsxs)("div",{className:"responsive-nav-main-container",children:[Object(Ee.jsxs)("div",{className:"burger ".concat(t?"hide-burger":""),onClick:function(){a(Je())},children:[Object(Ee.jsx)("div",{className:"line ".concat(t?"rotate-line-1":"")}),Object(Ee.jsx)("div",{className:"line ".concat(t?"hide-line":"")}),Object(Ee.jsx)("div",{className:"line ".concat(t?"rotate-line-2":"")})]}),Object(Ee.jsx)("div",{className:"responsive-nav-main-wrapper ".concat(t?"show-responsive":""),children:Object(Ee.jsxs)("div",{className:"responsive-nav-wrapper",children:[Object(Ee.jsxs)(i.c,{exact:!0,to:"/",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"fas fa-home"}),Object(Ee.jsx)("span",{children:"Dashboard"})]}),e&&Object(Ee.jsxs)(i.c,{to:"/admin",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"fas fa-user-shield"}),Object(Ee.jsx)("span",{children:"Administrador"})]}),Object(Ee.jsxs)(i.c,{to:"/neworder",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"far fa-plus-square"}),Object(Ee.jsx)("span",{children:"Nueva orden"})]}),Object(Ee.jsxs)(i.c,{to:"/crew",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"fas fa-users"}),Object(Ee.jsx)("span",{children:"T\xe9cnicos"})]}),Object(Ee.jsxs)(i.c,{to:"/calendar",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"far fa-calendar-alt"}),Object(Ee.jsx)("span",{children:"Calendario"})]}),Object(Ee.jsxs)(i.c,{to:"/docs",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"far fa-file"}),Object(Ee.jsx)("span",{children:"Documentaci\xf3n"})]}),Object(Ee.jsxs)(i.c,{to:"/warehouse",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"fas fa-boxes"}),Object(Ee.jsx)("span",{children:"Almac\xe9n"})]}),Object(Ee.jsxs)(i.c,{to:"/statistics",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"far fa-chart-bar"}),Object(Ee.jsx)("span",{children:"Estad\xedsticas"})]}),Object(Ee.jsxs)(i.c,{to:"/history",activeClassName:"active-link",className:"".concat(t?"show-link":""),children:[Object(Ee.jsx)("i",{className:"fas fa-history"}),Object(Ee.jsx)("span",{children:"Hist\xf3rico"})]})]})})]})},ia=a(16),oa=a.n(ia),la=a(46),da=function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){return window.scrollTo(t,e)}},ua=function(){window.onscroll=function(){}},ja=function(e,t){if(!(!e||e.length<1||!t||t.length<1||"undefined"===t))return t.find((function(t){return t.id.toString()===e.toString()}))},ba=function(e,t){return t.find((function(t){return e===t.id}))},ma=function(e,t){return t.find((function(t){return e===t.id}))},pa=function(e,t){return t.find((function(t){return e===t.id}))},Oa=function(e,t){return t.find((function(t){return e===t.id}))},fa=function(e,t){return t.find((function(t){return e===t.id}))},ha=function(e,t){return t.find((function(t){return e===t.id}))},xa=a(26),va=a.n(xa),ga=a(30),ya=a.n(ga),Na=(a(74),{id:"",factory:"",section:"",machine:"",technician:"",breakdown:"",description:"",start:"",end:""}),wa=function(e){var t=e.setTableModal,a=Object(s.c)((function(e){return e.factory})).factories,c=Object(s.c)((function(e){return e.factory})).sections,r=Object(s.c)((function(e){return e.factory})).machines,i=Object(s.c)((function(e){return e.factory})).numbers,l=Object(s.c)((function(e){return e.calendar})).types,d=Object(s.c)((function(e){return e.calendar})).breakdowns,u=Object(s.c)((function(e){return e.crew})).technicians,j=Object(s.c)((function(e){return e.ui})).modalOpen,b=Object(n.useState)(Na),m=Object(Pe.a)(b,2),p=m[0],O=m[1],f=Object(s.c)((function(e){return e.calendar})).activeEvent,h=p.id,x=p.breakdown,v=p.description,g=p.section,y=p.factory,N=p.machine,w=p.start,k=p.end,S=p.technician,C=p.number,T=p.orderType,I=p.totalMins;Object(n.useEffect)((function(){f&&O(f)}),[f]);var E=Object(o.g)(),_=Object(s.b)(),L=function(){ua(),_(ca()),_(ot()),t&&t(!1)};return Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsx)(va.a,{isOpen:j,className:"modal-calendar animate__animated animate__fadeIn animate__faster",onRequestClose:L,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Orden de trabajo"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:L,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("div",{className:"modal-event-form",children:[Object(Ee.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(Ee.jsxs)("div",{className:"event-input-1",children:[Object(Ee.jsx)("label",{children:"N.\xba Orden: "}),Object(Ee.jsx)("input",{type:"text",name:"id",disabled:!0,value:h})]}),Object(Ee.jsxs)("div",{className:"event-input-2",children:[Object(Ee.jsx)("label",{children:"Tipo orden: "}),Object(Ee.jsxs)("select",{name:"orderType",value:T,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Tipo"}),l.length>0&&l.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(Ee.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(Ee.jsxs)("div",{className:"event-input-1",children:[Object(Ee.jsx)("label",{children:"Factor\xeda: "}),Object(Ee.jsxs)("select",{name:"factory",value:y,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Factor\xeda"}),a.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"event-input-2",children:[Object(Ee.jsx)("label",{children:"Secci\xf3n:"}),Object(Ee.jsxs)("select",{name:"section",value:g,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige"}),c.length>0&&c.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(Ee.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(Ee.jsxs)("div",{className:"event-input-1",children:[Object(Ee.jsx)("label",{children:"M\xe1quina:"}),Object(Ee.jsxs)("select",{name:"machine",value:N,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige M\xe1quina"}),r.length>0&&r.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"event-input-2",children:[Object(Ee.jsx)("label",{children:"N\xfamero: "}),Object(Ee.jsxs)("select",{name:"number",value:C,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Secci\xf3n"}),i.length>0&&i.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.number},e.id)}))]})]})]}),Object(Ee.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(Ee.jsxs)("div",{className:"event-input-1",children:[Object(Ee.jsx)("label",{children:"T\xe9cnico: "}),Object(Ee.jsxs)("select",{name:"technician",value:S,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),u.length>0&&u.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"event-input-2",children:[Object(Ee.jsx)("label",{children:"Tipo aver\xeda: "}),Object(Ee.jsxs)("select",{name:"breakdown",value:x,disabled:!0,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Aver\xeda"}),d.length>0&&d.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(Ee.jsxs)("div",{className:"event-input-wrapper-1",children:[Object(Ee.jsxs)("div",{className:"event-input-1",children:[Object(Ee.jsx)("label",{children:"F. Inicio:"}),Object(Ee.jsx)(ya.a,{selected:w,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,name:"start",disabled:!0})]}),Object(Ee.jsxs)("div",{className:"event-input-2",children:[Object(Ee.jsx)("label",{children:"F. Fin:"}),Object(Ee.jsx)(ya.a,{selected:k,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,name:"end"})]})]}),Object(Ee.jsxs)("div",{className:"event-input-wrapper-3",children:[Object(Ee.jsx)("label",{children:"Descripci\xf3n:"}),Object(Ee.jsx)("textarea",{name:"description",disabled:!0,value:v})]}),Object(Ee.jsx)("div",{className:"event-input-wrapper-single",children:Object(Ee.jsxs)("div",{className:"event-input",children:[Object(Ee.jsx)("label",{children:"Total tiempo de trabajo:"}),Object(Ee.jsx)("input",{type:"text",name:"totalMins",disabled:!0,value:I})]})}),Object(Ee.jsx)("div",{className:"event-button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-detail",onClick:function(){var e=document.querySelector(".modal-calendar");e.classList.remove("animate__fadeIn"),e.classList.add("animate__fadeOut"),ua(),_(ca());E.push("/order")},children:"Ver orden"})})]})]})})})},ka=function(e){var t=e.columns,a=e.data,c=Object(s.c)((function(e){return e.calendar})).events,r=Object(s.c)((function(e){return e.calendar})).types,i=Object(s.c)((function(e){return e.calendar})).breakdowns,o=Object(s.c)((function(e){return e.factory})).factories,l=Object(s.c)((function(e){return e.factory})).sections,d=Object(s.c)((function(e){return e.factory})).numbers,u=Object(s.c)((function(e){return e.factory})).machines,j=Object(n.useState)(!1),b=Object(Pe.a)(j,2),m=b[0],p=b[1],O=Object(s.b)(),f=Object(la.useTable)({columns:t,data:a},la.useSortBy),h=f.getTableProps,x=f.getTableBodyProps,v=f.headerGroups,g=f.prepareRow,y=f.rows,N=function(e){var t=e.target.attributes[0].nodeValue;if(t&&"undefined"!==t&&"cell"!==t&&c&&!(c.length<1)&&void 0!==c){var a=ja(t,c);p(!0),O(it(a)),O(na()),da()}};return Object(Ee.jsxs)("div",{className:"table-wrapper",children:[m&&Object(Ee.jsx)(wa,{setTableModal:p}),Object(Ee.jsxs)("table",Object(De.a)(Object(De.a)({},h()),{},{children:[Object(Ee.jsx)("thead",{children:v.map((function(e){return Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(Ee.jsx)("th",Object(De.a)(Object(De.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.render("Header")}))}))}))}))}),r&&i&&o&&l&&d&&u&&Object(Ee.jsx)("tbody",Object(De.a)(Object(De.a)({},x()),{},{children:y.map((function(e){return g(e),Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getRowProps()),{},{onClick:N,children:e.cells.map((function(e,t){var a,n;switch(e.column.id){case"start":return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:oa()(e.value).format("DD-MM-YYYY HH:mm").toString()},t);case"orderType":var c=null===(a=ba(e.value,r))||void 0===a?void 0:a.name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:c},t);case"breakdown":var s=null===(n=ma(e.value,i))||void 0===n?void 0:n.name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:s},t);case"description":return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:e.value},t);default:return Object(Ee.jsx)("td",Object(De.a)(Object(De.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}}))}))}))}))]}))]})},Sa=[{Header:"C\xf3digo",accessor:"code"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Cantidad",accessor:"quantity"},{Header:"Stock M\xednimo",accessor:"minStock"},{Header:"Ubicaci\xf3n",accessor:"place"}],Ca=[{Header:"Fecha Inicio",accessor:"start"},{Header:"Tipo Orden",accessor:"orderType"},{Header:"Aver\xeda",accessor:"breakdown"},{Header:"Factor\xeda",accessor:"factory"},{Header:"Secci\xf3n",accessor:"section"},{Header:"N\xfamero",accessor:"number"},{Header:"M\xe1quina",accessor:"machine"},{Header:"Tiempo Trabajo",accessor:"totalMins"},{Header:"Estado",accessor:"closed"}],Ta=[{Header:"Fecha Inicio",accessor:"start"},{Header:"Tipo Orden",accessor:"orderType"},{Header:"Aver\xeda",accessor:"breakdown"},{Header:"Descripci\xf3n",accessor:"description"}],Ia=a(48),Ea=a.n(Ia),_a=function(e){var t=e.closeToast,a=e.handleDeleteItem,n=e.code,c=e.message;return Object(Ee.jsxs)("div",{className:"toast-wrapper-container",children:[Object(Ee.jsxs)("p",{children:[c," ",Object(Ee.jsx)("b",{children:n}),"?"]}),Object(Ee.jsxs)("div",{className:"toast-wrapper-buttons",children:[Object(Ee.jsx)("span",{onClick:t,className:"btn btn-cancel-toast",children:"Cancelar"}),Object(Ee.jsx)("span",{onClick:function(e){e.stopPropagation(),t(),a()},className:"btn btn-agree-toast",children:"Aceptar"})]})]})},La={description:""},qa=function(e){var t=e.setShowWarningModal,a=Object(s.c)((function(e){return e.ui})).modalOpen,c=Object(s.b)(),r=Object(n.useState)(La),i=Object(Pe.a)(r,2),o=i[0],l=i[1],j=o.description,b=function(){c(ca()),t(!1),l(La),ua()};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(va.a,{isOpen:a,className:"modal-warning animate__animated animate__fadeIn animate__fast",onRequestClose:b,contentLabel:"Warning Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("span",{className:"close-event-modal",onClick:b,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsx)("h1",{className:"h1-modal",children:"Generar Aviso"}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=!0;if(j.trim().length<10?(t=!1,document.querySelector('input[name="description"]').classList.add("border-red")):document.querySelector('input[name="description"]').classList.remove("border-red"),!t)return Ve.c.error("Debes introducir al menos 10 caracteres",{position:Ve.c.POSITION.TOP_CENTER});c(function(e){var t=e.description;return function(){var e=Object(u.a)(d.a.mark((function e(a){var n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warnings/",{description:t},"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,(r=c.warning)?(a(Vt({id:r.id,description:r.description})),Ve.c.success(Object(Ee.jsx)(Qe,{text:"Aviso agregado con \xe9xito"}))):Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al agregar el aviso!"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}(o)),b()},children:[Object(Ee.jsxs)("div",{className:"grid-warning",children:[Object(Ee.jsx)("label",{children:"Aviso:"}),Object(Ee.jsx)("input",{type:"text",name:"description",value:j,onChange:function(e){var t=e.target;l(Object(De.a)(Object(De.a)({},o),{},Object(qe.a)({},t.name,t.value)))},autoComplete:"off"})]}),Object(Ee.jsx)("div",{className:"warning-button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-detail",children:"Guardar"})})]})]}),a&&Object(Ee.jsx)(Ve.b,{})]}),!a&&Object(Ee.jsx)(Ve.b,{})]})},Da=function(){var e,t,a=Object(s.b)(),c=Object(s.c)((function(e){return e.warning})).warnings,r=Object(n.useState)(!1),o=Object(Pe.a)(r,2),l=o[0],j=o[1];Object(n.useEffect)((function(){a(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("warnings/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.warnings)&&t(Ht(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[a]);var b,m=Ta,O=Object(s.c)((function(e){return e.calendar})).events,f=!(b=O)||b.length<1||"undefined"===b?[]:b.filter((function(e){return!e.closed})),h=Object(s.c)((function(e){return e.statistics})),x=h.weeks,v=h.threeWeekSections,g=h.lastWeekByOrderType,y=function(e){a(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("warnings/".concat(e),{},"DELETE");case 3:return n=t.sent,t.next=6,n.json();case 6:t.sent.destroyed?(a(Rt(e)),Ve.c.success(Object(Ee.jsx)(Qe,{text:"Aviso eliminado con \xe9xito"}))):Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al eliminar el Item!"})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(e))},N={labels:g.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}}},w={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:x,title:{text:"Semana"}},yaxis:{title:{text:"Intervenciones"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" intervenciones"}}}};return Object(Ee.jsxs)("div",{className:"animate__animated animate__fadeIn dashboard-screen",children:[Object(Ee.jsx)("h1",{children:"DashBoard"}),Object(Ee.jsxs)("div",{className:"main-content_dashboard",children:[Object(Ee.jsxs)("div",{className:"charts",children:[Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por secci\xf3n/semana"}),v.length>0&&x.length>0&&Object(Ee.jsx)(Ea.a,{options:w,series:v,type:"bar",width:"100%"})]}),Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones semana previa"}),g&&(null===g||void 0===g||null===(e=g.quantities)||void 0===e?void 0:e.length)>0&&(null===g||void 0===g||null===(t=g.names)||void 0===t?void 0:t.length)>0&&Object(Ee.jsx)(Ea.a,{className:"chart-pie",options:N,series:g.quantities,type:"donut",width:"100%"})]})]}),Object(Ee.jsxs)("div",{className:"events-alerts-wrapper",children:[Object(Ee.jsxs)("div",{className:"lasts-events-wrapper",children:[Object(Ee.jsxs)("div",{className:"header-warnings",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard",children:"Eventos activos"}),Object(Ee.jsx)(i.b,{to:"/neworder",children:Object(Ee.jsx)("i",{className:"fas fa-plus-circle"})})]}),Object(Ee.jsx)("div",{className:"lasts-events",children:f.length>0&&Object(Ee.jsx)(ka,{columns:m,data:f})})]}),Object(Ee.jsxs)("div",{className:"lasts-alerts-wrapper",children:[Object(Ee.jsxs)("div",{className:"header-warnings",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard",children:"Avisos"}),Object(Ee.jsx)("i",{className:"fas fa-plus-circle",onClick:function(){j(!0),da(),a(na())}})]}),Object(Ee.jsx)("div",{className:"alerts-wrapper",children:c&&c.map((function(e,t){return Object(Ee.jsx)("div",{className:"warnings",children:Object(Ee.jsxs)("div",{className:"warning",children:[Object(Ee.jsx)("p",{children:e.description}),Object(Ee.jsx)("i",{className:"far fa-trash-alt",onClick:function(){return function(e,t){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return y(e)},code:c[t].description,message:"Est\xe1s seguro de borrar el aviso "}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(e.id,t)}})]})},e.id)}))})]})]}),l&&Object(Ee.jsx)(qa,{setShowWarningModal:j}),Object(Ee.jsx)(Ve.b,{})]})]})},Pa=a(25),Fa=a(51),Ma=a.n(Fa),Aa=(a(75),{name:"",email:"",password:"",admin:!1}),Ha=function(e){var t=e.idUser,a=e.setIdUser,c=e.users,r=e.setUsers,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(n.useState)(Aa),j=Object(Pe.a)(l,2),b=j[0],m=j[1],O=Object(n.useState)(!1),f=Object(Pe.a)(O,2),h=f[0],x=f[1],v=b.name,g=b.email,y=b.password,N=b.admin;Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p("users/".concat(t),void 0,"GET");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,(c=n.user)&&(m(Object(De.a)(Object(De.a)({},b),c)),x(!0));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(e){var t=e.target;m(Object(De.a)(Object(De.a)({},b),{},Object(qe.a)({},t.name,t.value)))},k=function(){var e=Object(u.a)(d.a.mark((function e(a){var n,s,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.stopPropagation(),n=!0,s="",Ma.a.isEmail(g)?document.querySelector(".email-modal").classList.remove("border-red"):(document.querySelector(".email-modal").classList.add("border-red"),n=!1,s+="El email debe de ser un email v\xe1lido. \n"),v.trim().length<4?(document.querySelector(".name-modal").classList.add("border-red"),n=!1,s+="El nombre debe de tener al menos 4 caracteres. \n"):document.querySelector(".name-modal").classList.remove("border-red"),y.trim().length<6?(document.querySelector(".password-modal").classList.add("border-red"),n=!1,s+="La password debe de tener al menos 4 caracteres. \n"):document.querySelector(".password-modal").classList.remove("border-red"),n){e.next=9;break}return e.abrupt("return",Ve.c.error(s,{position:Ve.c.POSITION.TOP_CENTER}));case 9:return e.next=11,i(Te(Object(De.a)(Object(De.a)({},b),{},{id:t})));case 11:(o=e.sent).ok?(Ve.c.success(Object(Ee.jsx)(Qe,{text:o.msg}),{position:Ve.c.POSITION.TOP_CENTER}),l=c.map((function(e){return e.id===o.user.id?o.user:e})),r(Object(Pa.a)(l))):Ve.c.error(Object(Ee.jsx)(Be,{text:o.msg}),{position:Ve.c.POSITION.TOP_CENTER}),S();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){ua(),m(Aa),a(null),setTimeout((function(){i(ca())}),200)};return Object(Ee.jsx)("div",{children:Object(Ee.jsxs)(va.a,{isOpen:o,className:"admin-modal animate__animated animate__fadeIn animate__faster",onRequestClose:S,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("span",{className:"close-event-modal",onClick:S,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsx)("h1",{className:"h1-modal",children:"Editar Usuario"}),!0===h&&Object(Ee.jsxs)("form",{className:"form-main-wrapper",onSubmit:k,children:[Object(Ee.jsxs)("div",{className:"grid-items2",children:[Object(Ee.jsx)("label",{children:"Admin: "}),Object(Ee.jsx)(Ue.a,{onChange:function(){m(Object(De.a)(Object(De.a)({},b),{},{admin:!N}))},checked:N,onColor:"#ffa600",height:14,width:30})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Email: "}),Object(Ee.jsx)("input",{className:"email-modal",type:"text",name:"email",autoComplete:"off",value:g,onChange:w,placeholder:"Email"})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Nombre: "}),Object(Ee.jsx)("input",{className:"name-modal",type:"text",name:"name",autoComplete:"off",value:v,onChange:w,placeholder:"Nombre"})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Password: "}),Object(Ee.jsx)("input",{className:"password-modal",type:"password",name:"password",autoComplete:"off",value:y,onChange:w,placeholder:"Password"})]}),Object(Ee.jsx)("div",{className:"wrapper-button",children:Object(Ee.jsx)("button",{className:"btn btn-order",type:"submit",children:"Crear"})})]})]}),o&&Object(Ee.jsx)(Ve.b,{})]})})},Ra=function(){var e=Object(n.useState)({email:"",name:"",password:""}),t=Object(Pe.a)(e,2),a=t[0],c=t[1],r=a.email,i=a.name,o=a.password,l=Object(n.useState)({orderId:""}),j=Object(Pe.a)(l,2),b=j[0],m=j[1],O=b.orderId,f=Object(n.useState)([]),h=Object(Pe.a)(f,2),x=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(Pe.a)(g,2),N=y[0],w=y[1],k=Object(n.useState)(null),S=Object(Pe.a)(k,2),C=S[0],T=S[1],I=Object(s.b)();Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("users/",void 0,"GET");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,(n=a.users)&&v(Object(Pa.a)(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=function(e){var t=e.target,n=t.name;document.querySelector('input[name="'.concat(n,'"]')).classList.remove("border-red"),c(Object(De.a)(Object(De.a)({},a),{},Object(qe.a)({},t.name,t.value)))},_=function(e,t){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return L(e)},code:t,message:"Est\xe1s seguro de borrar el usuario"}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},L=function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(Ie(t));case 2:(null===(a=e.sent)||void 0===a?void 0:a.ok)?(v(x.map((function(e){return e.id===a.user.id?a.user:e}))),Ve.c.success(Object(Ee.jsx)(Qe,{text:a.msg}),{position:Ve.c.POSITION.TOP_CENTER})):Ve.c.error(Object(Ee.jsx)(Be,{text:a.msg}),{position:Ve.c.POSITION.TOP_CENTER});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),n=!0,s="",Ma.a.isEmail(r)?document.querySelector('input[name="email"]').classList.remove("border-red"):(document.querySelector('input[name="email"]').classList.add("border-red"),n=!1,s+="El email debe de ser un email v\xe1lido. \n"),i.trim().length<4?(document.querySelector('input[name="name"]').classList.add("border-red"),n=!1,s+="El nombre debe de tener al menos 4 caracteres. \n"):document.querySelector('input[name="name"]').classList.remove("border-red"),o.trim().length<6?(document.querySelector('input[name="password"]').classList.add("border-red"),n=!1,s+="La password debe de tener al menos 4 caracteres. \n"):document.querySelector('input[name="password"]').classList.remove("border-red"),n){e.next=9;break}return e.abrupt("return",Ve.c.error(s,{position:Ve.c.POSITION.TOP_CENTER}));case 9:return e.next=11,I(Ce(Object(De.a)(Object(De.a)({},a),{},{admin:N})));case 11:(null===(l=e.sent)||void 0===l?void 0:l.ok)?(v([].concat(Object(Pa.a)(x),[l.user])),Ve.c.success(Object(Ee.jsx)(Qe,{text:l.msg}),{position:Ve.c.POSITION.TOP_CENTER}),c({email:"",name:"",password:""}),w(!1)):(u=l.msg||"Error al crear el usuario, int\xe9ntelo m\xe1s tarde",Ve.c.error(Object(Ee.jsx)(Be,{text:u}),{position:Ve.c.POSITION.TOP_CENTER}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,a="",Number.isInteger(Number(O))&&0!==O.trim().length&&Ma.a.isNumeric(O)?document.querySelector('input[name="orderId"]').classList.remove("border-red"):(document.querySelector('input[name="orderId"]').classList.add("border-red"),t=!1,a+="El id es obligatorio y debe de ser num\xe9rico. \n"),t){e.next=5;break}return e.abrupt("return",Ve.c.error(a,{position:Ve.c.POSITION.TOP_CENTER}));case 5:return e.next=7,I(mt(O));case 7:(n=e.sent).ok?Ve.c.success(Object(Ee.jsx)(Qe,{text:n.msg}),{position:Ve.c.POSITION.TOP_CENTER}):Ve.c.error(Object(Ee.jsx)(Be,{text:n.msg}),{position:Ve.c.POSITION.TOP_CENTER}),m({orderId:""});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ee.jsxs)("div",{className:"admin-screen animate__animated animate__fadeIn",children:[C&&Object(Ee.jsx)(Ha,{setIdUser:T,idUser:C,users:x,setUsers:v}),Object(Ee.jsx)(Ve.b,{}),Object(Ee.jsx)("h1",{children:"Administraci\xf3n"}),Object(Ee.jsxs)("div",{className:"users-main-wrapper",children:[Object(Ee.jsxs)("div",{className:"wrapper-users-table",children:[Object(Ee.jsx)("h3",{children:"Usuarios registrados"}),Object(Ee.jsxs)("div",{className:"users-header",children:[Object(Ee.jsx)("div",{children:"ID"}),Object(Ee.jsx)("div",{children:"Email"}),Object(Ee.jsx)("div",{children:"Nombre"}),Object(Ee.jsx)("div",{children:"Admin"}),Object(Ee.jsx)("div",{children:"Activo"}),Object(Ee.jsx)("div",{children:"Opciones"})]}),x&&x.length>0&&x.map((function(e){return Object(Ee.jsxs)("div",{className:"users-body",children:[Object(Ee.jsx)("div",{children:e.id}),Object(Ee.jsx)("div",{children:e.email}),Object(Ee.jsx)("div",{children:e.name}),Object(Ee.jsx)("div",{children:e.admin?"Si":"No"}),Object(Ee.jsx)("div",{className:"user-status",children:e.active?Object(Ee.jsx)("i",{className:"fas fa-check"}):Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("div",{className:"options-user",children:[Object(Ee.jsx)("i",{className:"fas fa-wrench",onClick:function(){var t;t=e.id,T(t),da(),I(na())}}),e.active?Object(Ee.jsx)("i",{className:"fas fa-user-minus",onClick:function(){_(e.id,e.name)}}):Object(Ee.jsx)("i",{className:"fas fa-user-plus",onClick:function(){_(e.id,e.name)}})]})]},e.id)}))]}),Object(Ee.jsxs)("div",{className:"forms-wrapper",onSubmit:q,children:[Object(Ee.jsxs)("form",{className:"form-add-users",children:[Object(Ee.jsx)("h3",{children:"Agregar nuevo usuario"}),Object(Ee.jsxs)("div",{className:"main-wrapper-inputs",children:[Object(Ee.jsxs)("div",{className:"wrapper-input",children:[Object(Ee.jsx)("label",{children:"Admin: "}),Object(Ee.jsx)(Ue.a,{onChange:function(){w(!N)},checked:N,onColor:"#ffa600",height:20,width:42})]}),Object(Ee.jsxs)("div",{className:"wrapper-input",children:[Object(Ee.jsx)("label",{children:"Email: "}),Object(Ee.jsx)("input",{type:"text",name:"email",value:r,onChange:E,placeholder:"Email",autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"wrapper-input",children:[Object(Ee.jsx)("label",{children:"Nombre: "}),Object(Ee.jsx)("input",{type:"name",name:"name",value:i,onChange:E,placeholder:"Nombre",autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"wrapper-input",children:[Object(Ee.jsx)("label",{children:"Password: "}),Object(Ee.jsx)("input",{type:"password",name:"password",value:o,onChange:E,placeholder:"Password",autoComplete:"off"})]})]}),Object(Ee.jsx)("div",{className:"main-wrapper-submit",children:Object(Ee.jsx)("button",{className:"btn btn-order",type:"submit",children:"Crear"})})]}),Object(Ee.jsxs)("form",{className:"form-remove-orders",onSubmit:function(e){if(e.preventDefault(),e.stopPropagation(),""===O)return document.querySelector('input[name="orderId"]').classList.add("border-red"),Ve.c.error("Debes indicar el n\xfamero de orden",{position:Ve.c.POSITION.TOP_CENTER});Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:D,code:O,message:"Est\xe1s seguro de borrar la order con el n\xfamero"}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:[Object(Ee.jsx)("h3",{children:"Eliminar orden"}),Object(Ee.jsxs)("div",{className:"wrapper-input",children:[Object(Ee.jsx)("label",{children:"N\xfamero Orden: "}),Object(Ee.jsx)("input",{type:"text",value:O,onChange:function(e){var t=e.target;document.querySelector('input[name="'.concat(t.name,'"]')).classList.remove("border-red"),m(Object(De.a)(Object(De.a)({},a),{},Object(qe.a)({},t.name,t.value)))},placeholder:"N\xfamero",autoComplete:"off",name:"orderId"})]}),Object(Ee.jsx)("div",{className:"main-wrapper-submit",children:Object(Ee.jsx)("button",{className:"btn btn-order-cancel",type:"submit",children:"Eliminar"})})]})]})]})]})},Va=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return e.toString()===t.numberId.toString()}))},Ba=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return t.factoryId.toString()===e.toString()}))},Wa=function(e,t){return!(!e||e.length<1||t.length<1||"undefined"===t)&&t.filter((function(t){return t.sectionId.toString()===e.toString()}))},Ua=a(38),Ga=a(39),za=(a(319),function(e){var t=e.setShowAddModal,a=e.formValues,c=e.setFormValues,r=Object(s.c)((function(e){return e.ui})).modalOpen,i=Object(s.b)(),o=Object(n.useState)({operation:"",time:""}),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=d.operation,b=d.time,m=a.operations,p=function(){t(!1),i(ca()),ua()},O=function(e){var t=e.target;u(Object(De.a)(Object(De.a)({},d),{},Object(qe.a)({},t.name,t.value)))};return Object(Ee.jsxs)(va.a,{isOpen:r,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:p,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Agregar Operaci\xf3n"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:p,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if(j.trim().length<=2||""===j?(t=!1,document.querySelector('input[name="operation"]').classList.add("border-red")):document.querySelector('input[name="operation"]').classList.remove("border-red"),isNaN(parseInt(b))||""===b||!/^\d+(\.\d{1,2})?$/.test(b))t=!1,document.querySelector('input[name="time"]').classList.add("border-red");else if(b.indexOf(".")>0){var n=b.split("."),r=Object(Pe.a)(n,2)[1];"25"===r||"50"===r||"75"===r||"5"===r?document.querySelector('input[name="time"]').classList.remove("border-red"):(t=!1,document.querySelector('input[name="time"]').classList.add("border-red"))}else document.querySelector('input[name="time"]').classList.remove("border-red");if(!t)return Ve.c.error("Revise los campos marcados en rojo, el tiempo debe de ser n\xfameros positivo enteros o .25, .50, .75",{position:"top-center"});c(Object(De.a)(Object(De.a)({},a),{},{operations:[].concat(Object(Pa.a)(m),[d])})),p()},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Operaci\xf3n: "}),Object(Ee.jsx)("input",{value:j,type:"text",name:"operation",onChange:O,autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Tiempo: "}),Object(Ee.jsx)("input",{value:b,type:"number",name:"time",min:"0.25",step:"0.01",onChange:O,autoComplete:"off"})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Guardar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})}),Ya=function(e){var t=e.index,a=e.setIndex,c=e.formValues,r=e.setFormValues,i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.b)(),l=Object(n.useState)({operation:"",time:""}),d=Object(Pe.a)(l,2),u=d[0],j=d[1],b=u.operation,m=u.time,p=c.operations;Object(n.useEffect)((function(){null!=t&&p.length>=t&&j(Object(De.a)({},p[t]))}),[t,p]);var O=function(){a(null),o(ca()),ua()},f=function(e){var t=e.target;j(Object(De.a)(Object(De.a)({},u),{},Object(qe.a)({},t.name,t.value)))};return Object(Ee.jsxs)(va.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:O,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Editar Operaci\xf3n"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:O,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=!0;if(b.trim().length<=2||""===b?(a=!1,document.querySelector('input[name="operation"]').classList.add("border-red")):document.querySelector('input[name="operation"]').classList.remove("border-red"),isNaN(parseInt(m))||""===m||!/^\d+(\.\d{1,2})?$/.test(m))a=!1,document.querySelector('input[name="time"]').classList.add("border-red");else if(m.toString().indexOf(".")>0){var n=m.split("."),s=Object(Pe.a)(n,2)[1];"25"===s||"50"===s||"75"===s||"5"===s?document.querySelector('input[name="time"]').classList.remove("border-red"):(a=!1,document.querySelector('input[name="time"]').classList.add("border-red"))}else document.querySelector('input[name="time"]').classList.remove("border-red");if(!a)return Ve.c.error("Revise los campos marcados en rojo, el tiempo debe de ser n\xfameros positivo enteros o .25, .50, .75",{position:"top-center"});r(Object(De.a)(Object(De.a)({},c),{},{operations:p.map((function(e,a){return a===t?u:e}))})),O()},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Operaci\xf3n: "}),Object(Ee.jsx)("input",{value:b,type:"text",name:"operation",onChange:f,autoComplete:"off"})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Tiempo: "}),Object(Ee.jsx)("input",{value:m,type:"number",name:"time",min:"0.25",step:"0.01",onChange:f,autoComplete:"off"})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Guardar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})},Ja=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=t.operations,o=Object(n.useState)(!1),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Pe.a)(j,2),m=b[0],p=b[1],O=function(e){var n=i.filter((function(t,a){return a!==e&&t}));a(Object(De.a)(Object(De.a)({},t),{},{operations:n}))};return Object(Ee.jsxs)("div",{className:"tab-table-wrapper",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)("div",{className:"header-tab-table header-tab-table1",children:[Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"Tiempo"})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"Operaciones"})})]}),i.length>0&&i.map((function(e,t){return Object(Ee.jsxs)("div",{className:"header-tab-body header-tab-body1",children:[Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:e.time})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:e.operation})}),Object(Ee.jsx)("div",{children:!c&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return O(e)},code:i[e].operation,message:"Est\xe1s seguro de borrar la operaci\xf3n "}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(Ee.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){p(e),r(na()),da()}(t)}})]})})]},t)})),d&&Object(Ee.jsx)(za,{formValues:t,setFormValues:a,setShowAddModal:u}),m>=0&&!d&&Object(Ee.jsx)(Ya,{index:m,setIndex:p,formValues:t,setFormValues:a})]}),!c&&Object(Ee.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){u(!0),r(na()),da()},children:[Object(Ee.jsx)("i",{className:"fas fa-plus"}),Object(Ee.jsx)("span",{children:"Agregar Operaci\xf3n"})]})]})},Xa=function(e,t){return t.find((function(t){return t.id.toString()===e}))},$a=function(e){var t=e.setShowAddModal,a=e.formValues,c=e.setFormValues,r=Object(s.b)(),i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.c)((function(e){return e.crew})).technicians,l=Object(n.useState)({userId:"0",start:new Date,end:oa()().add("1","hours").toDate()}),d=Object(Pe.a)(l,2),u=d[0],j=d[1],b=u.userId,m=u.start,p=u.end,O=a.clocks,f=a.startWork,h=function(){ua(),t(!1),r(ca())};return Object(Ee.jsxs)(va.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:h,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Nuevo Fichaje"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:h,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if(""===b||b<=0?(t=!1,document.querySelector('select[name="user"]').classList.add("border-red")):document.querySelector('select[name="user"]').classList.remove("border-red"),oa()(m).isValid?document.querySelector(".clock-start-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red")),oa()(p).isValid?document.querySelector(".clock-end-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-end-modal").classList.add("border-red")),oa()(m).isSameOrAfter(p)&&(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red"),document.querySelector(".clock-end-modal").classList.add("border-red")),!t)return Ve.c.error("Revise los campos marcados en rojo",{position:Ve.c.POSITION.TOP_CENTER});c(Object(De.a)(Object(De.a)({},a),{},{clocks:[].concat(Object(Pa.a)(O),[u])})),h()},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"T\xe9cnico: "}),Object(Ee.jsxs)("select",{name:"user",value:b,onChange:function(e){var t=e.target.value,a=Xa(t,o).name;a&&j(Object(De.a)(Object(De.a)({},u),{},{userId:t,user:a}))},children:[Object(Ee.jsx)("option",{value:"0",disabled:!0,children:"Elige T\xe9cnico"}),o.length>0&&o.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Hora Inicio: "}),Object(Ee.jsx)(ya.a,{className:"clock-start-modal",selected:m,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){j(Object(De.a)(Object(De.a)({},u),{},{start:e}))},locale:Ua.a,minDate:f})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Hora Fin: "}),Object(Ee.jsx)(ya.a,{className:"clock-end-modal",selected:p,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){j(Object(De.a)(Object(De.a)({},u),{},{end:e}))},minDate:m,locale:Ua.a})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Aceptar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})},Ka=function(e){var t=e.setIndex,a=e.index,c=e.formValues,r=e.setFormValues,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(s.c)((function(e){return e.crew})).technicians,d=Object(n.useState)({userId:"",user:"default",start:new Date,end:oa()().add("1","hours").toDate()}),u=Object(Pe.a)(d,2),j=u[0],b=u[1],m=j.userId,p=j.user,O=j.start,f=j.end,h=c.clocks,x=c.startWork;Object(n.useEffect)((function(){null!==a&&h.length>=a&&b(Object(De.a)({},h[a]))}),[a,h]);var v=function(){ua(),t(null),i(ca())};return Object(Ee.jsxs)(va.a,{isOpen:o,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:v,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Editar Fichaje"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:v,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=!0;if("default"===p||0===p.trim().length?(t=!1,document.querySelector('select[name="user"]').classList.add("border-red")):document.querySelector('select[name="user"]').classList.remove("border-red"),oa()(O).isValid?document.querySelector(".clock-start-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red")),oa()(f).isValid?document.querySelector(".clock-end-modal").classList.remove("border-red"):(t=!1,document.querySelector(".clock-end-modal").classList.add("border-red")),oa()(O).isSameOrAfter(f)&&(t=!1,document.querySelector(".clock-start-modal").classList.add("border-red"),document.querySelector(".clock-end-modal").classList.add("border-red")),!t)return Ve.c.error("Revise los campos marcados en rojo",{position:Ve.c.POSITION.TOP_CENTER});r(Object(De.a)(Object(De.a)({},c),{},{clocks:h.map((function(e,t){return t===a?j:e}))})),v()},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"T\xe9cnico: "}),Object(Ee.jsxs)("select",{name:"user",value:m,onChange:function(e){var t=e.target.value,a=Xa(t,l).name;a&&b(Object(De.a)(Object(De.a)({},j),{},{userId:t,user:a}))},children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),l.length>0&&l.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Hora Inicio: "}),Object(Ee.jsx)(ya.a,{className:"clock-start-modal",selected:O,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){b(Object(De.a)(Object(De.a)({},j),{},{start:e}))},locale:Ua.a,minDate:x})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Hora Fin: "}),Object(Ee.jsx)(ya.a,{className:"clock-end-modal",selected:f,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,onChange:function(e){b(Object(De.a)(Object(De.a)({},j),{},{end:e}))},minDate:O,locale:Ua.a})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Aceptar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})},Qa=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=Object(s.c)((function(e){return e.crew})).technicians,o=Object(n.useState)(!1),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Pe.a)(j,2),m=b[0],p=b[1],O=t.clocks,f=function(e){var n=O.filter((function(t,a){return a!==e&&t}));a(Object(De.a)(Object(De.a)({},t),{},{clocks:n}))};return Object(Ee.jsxs)("div",{className:"tab-table-wrapper",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)("div",{className:"header-tab-table header-tab-table2",children:[Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"T\xe9cnico"})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"H. Inicio"})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"H. Fin"})})]}),O.length>0&&O.map((function(e,t){return Object(Ee.jsxs)("div",{className:"header-tab-body header-tab-body2",children:[Object(Ee.jsx)("select",{className:"select-tab-user-clock",name:"user",value:e.userId,disabled:!0,children:i.length>0&&i.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)(ya.a,{selected:e.start,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,disabled:!0})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)(ya.a,{selected:e.end,timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,disabled:!0})}),Object(Ee.jsx)("div",{children:!c&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return f(e)},code:O[e].user,message:"Est\xe1s seguro de borrar el fichaje de "}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(Ee.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){da(),p(e),r(na())}(t)}})]})})]},t)})),d&&Object(Ee.jsx)($a,{setShowAddModal:u,formValues:t,setFormValues:a}),m>=0&&!d&&Object(Ee.jsx)(Ka,{setIndex:p,index:m,formValues:t,setFormValues:a})]}),!c&&Object(Ee.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){da(),u(!0),r(na())},children:[Object(Ee.jsx)("i",{className:"far fa-clock"}),Object(Ee.jsx)("span",{children:"Fichar"})]})]})},Za=function(e){var t=e.formValues,a=e.setFormValues,c=e.setShowAddModal,r=Object(s.b)(),i=Object(s.c)((function(e){return e.ui})).modalOpen,o=Object(s.c)((function(e){return e.warehouse})).items,l=t.materials,d=Object(n.useState)({code:"",description:"",quantity:"1"}),u=Object(Pe.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)([]),p=Object(Pe.a)(m,2),O=p[0],f=p[1],h=Object(n.useState)(""),x=Object(Pe.a)(h,2),v=x[0],g=x[1],y=Object(n.useState)(!1),N=Object(Pe.a)(y,2),w=N[0],k=N[1],S=j.description,C=j.quantity;Object(n.useEffect)((function(){r(et())}),[r]),Object(n.useEffect)((function(){if(v){var e=o.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(v.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(v.toLowerCase()))&&e}));f(e)}else f([])}),[v,o]);var T=function(){ua(),c(!1),r(ca())},I=function(e,t){k(!0),g(""),b(Object(De.a)(Object(De.a)({},j),{},{code:e,description:t}))};return Object(Ee.jsxs)(va.a,{isOpen:i,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:T,contentLabel:"Calendar Modal",ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Agregar Material"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:T,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),0===S.trim().length||""===S?Ve.c.error("Debes elegir un material",{position:Ve.c.POSITION.TOP_CENTER}):!Number.isInteger(Number(C))||parseInt(C)<=0||parseInt(C)>=100?(document.querySelector('input[name="quantity"]').classList.add("border-red"),Ve.c.error("Debes de elegir como m\xednimo 1 unidad y m\xe1ximo 100",{position:Ve.c.POSITION.TOP_CENTER})):(document.querySelector('input[name="quantity"]').classList.remove("border-red"),a(Object(De.a)(Object(De.a)({},t),{},{materials:[].concat(Object(Pa.a)(l),[j])})),void T())},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Buscar: "}),Object(Ee.jsxs)("div",{className:"custom-input-searcher",children:[Object(Ee.jsx)("input",{placeholder:"Buscar Material",name:"search",onChange:function(e){var t=e.target;g(t.value)},value:v,autoComplete:"off"}),O&&Object(Ee.jsx)("ul",{onChange:I,className:"".concat(O.length>0?"go":""),children:O.map((function(e){return Object(Ee.jsx)("li",{onClick:function(){return I(e.code,e.description)},children:e.description},e.code)}))})]})]}),w&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Material: "}),Object(Ee.jsx)("input",{value:S,type:"text",name:"item",disabled:!0})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Cantidad: "}),Object(Ee.jsx)("input",{value:C,type:"number",name:"quantity",min:"1",step:"1",onChange:function(e){var t=e.target;b(Object(De.a)(Object(De.a)({},j),{},Object(qe.a)({},t.name,t.value)))},autoComplete:"off"})]})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Agregar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})},en=function(e){var t=e.index,a=e.setIndex,c=e.formValues,r=e.setFormValues,i=Object(s.b)(),o=Object(s.c)((function(e){return e.ui})).modalOpen,l=Object(s.c)((function(e){return e.warehouse})).items,d=c.materials,u=Object(n.useState)({code:"",description:"",quantity:"1"}),j=Object(Pe.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)([]),O=Object(Pe.a)(p,2),f=O[0],h=O[1],x=Object(n.useState)(""),v=Object(Pe.a)(x,2),g=v[0],y=v[1],N=Object(n.useState)(!1),w=Object(Pe.a)(N,2),k=w[0],S=w[1],C=b.description,T=b.quantity;Object(n.useEffect)((function(){i(et())}),[i]),Object(n.useEffect)((function(){null!=t&&d.length>=t&&(m(d[t]),S(!0))}),[t,d]),Object(n.useEffect)((function(){if(g){var e=l.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(g.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(g.toLowerCase()))&&e}));h(e)}else h([])}),[g,l]);var I=function(){ua(),a(null),i(ca())},E=function(e,t){S(!0),y(""),m(Object(De.a)(Object(De.a)({},b),{},{code:e,description:t}))};return Object(Ee.jsxs)(va.a,{isOpen:o,className:"modal-clock animate__animated animate__fadeIn animate__fast",onRequestClose:I,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:"Editar Material"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:I,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),e.stopPropagation(),0===C.trim().length||""===C?Ve.c.error("Debes elegir un material",{position:Ve.c.POSITION.TOP_CENTER}):!Number.isInteger(Number(T))||parseInt(T)<=0||parseInt(T)>=100?(document.querySelector('input[name="quantity"]').classList.add("border-red"),Ve.c.error("Debes de elegir como m\xednimo 1 unidad y m\xe1ximo 100",{position:Ve.c.POSITION.TOP_CENTER})):(document.querySelector('input[name="quantity"]').classList.remove("border-red"),r(Object(De.a)(Object(De.a)({},c),{},{materials:d.map((function(e,a){return a===t?b:e}))})),void I())},children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Buscar: "}),Object(Ee.jsxs)("div",{className:"custom-input-searcher",children:[Object(Ee.jsx)("input",{placeholder:"Buscar Material",name:"search",onChange:function(e){var t=e.target;y(t.value)},value:g,autoComplete:"off"}),f&&Object(Ee.jsx)("ul",{onChange:E,className:"".concat(f.length>0?"go":""),children:f.map((function(e){return Object(Ee.jsx)("li",{onClick:function(){return E(e.code,e.description)},children:e.description},e.code)}))})]})]}),k&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Material: "}),Object(Ee.jsx)("input",{value:C,type:"text",name:"item",disabled:!0})]}),Object(Ee.jsxs)("div",{className:"grid-date",children:[Object(Ee.jsx)("label",{children:"Cantidad: "}),Object(Ee.jsx)("input",{value:T,type:"number",name:"quantity",min:"1",step:"1",onChange:function(e){var t=e.target;m(Object(De.a)(Object(De.a)({},b),{},Object(qe.a)({},t.name,t.value)))},autoComplete:"off"})]})]}),Object(Ee.jsx)("div",{className:"button-wrapper",children:Object(Ee.jsx)("button",{className:"btn btn-form-agree",type:"submit",children:"Agregar"})})]})]}),Object(Ee.jsx)(Ve.b,{})]})},tn=function(e){var t=e.formValues,a=e.setFormValues,c=e.disabled,r=Object(s.b)(),i=t.materials,o=Object(n.useState)(!1),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(null),b=Object(Pe.a)(j,2),m=b[0],p=b[1],O=function(e){var n=i.filter((function(t,a){return a!==e&&t}));a(Object(De.a)(Object(De.a)({},t),{},{materials:n}))};return Object(Ee.jsxs)("div",{className:"tab-table-wrapper",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)("div",{className:"header-tab-table header-tab-table3",children:[Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"C\xf3digo"})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"Descripci\xf3n"})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:"Cantidad"})})]}),i&&i.length>0&&i.map((function(e,t){return Object(Ee.jsxs)("div",{className:"header-tab-body header-tab-body3",children:[Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:e.code})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:e.description})}),Object(Ee.jsx)("div",{children:Object(Ee.jsx)("p",{children:e.quantity})}),Object(Ee.jsx)("div",{className:"action-icons",children:!c&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("i",{className:"far fa-trash-alt",onClick:function(){!function(e){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return O(e)},code:i[e].description,message:"Est\xe1s seguro de borrar el item "}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})}(t)}}),Object(Ee.jsx)("i",{className:"far fa-edit",onClick:function(){!function(e){p(e),r(na()),da()}(t)}})]})})]},t)})),d&&Object(Ee.jsx)(Za,{formValues:t,setFormValues:a,setShowAddModal:u}),m>=0&&!d&&Object(Ee.jsx)(en,{index:m,setIndex:p,formValues:t,setFormValues:a})]}),!c&&Object(Ee.jsxs)("div",{className:"button-add-tab-wrapper",onClick:function(){u(!0),r(na()),da()},children:[Object(Ee.jsx)("i",{className:"fas fa-boxes"}),Object(Ee.jsx)("span",{children:"Nuevo item"})]})]})},an=function(e){var t=e.result,a=e.setShowModal,c=Object(s.b)(),r=Object(o.g)();Object(n.useEffect)((function(){if(Object.keys(t).length>0){var e=t.message;return t.ok?Ve.c.success(Object(Ee.jsx)(Qe,{text:e}),{autoClose:2e3,toastId:1,position:"top-center",onClose:function(){return l()}}):Ve.c.error(Object(Ee.jsx)(Be,{text:e}),{autoClose:2e3,toastId:1,position:"top-center",onClose:function(){return i()}})}}),[t]);var i=function(){a(!1),ua()},l=function(){a(!1),ua(),c(ot());r.push("/calendar")};return Object(Ee.jsx)("div",{className:"modal-advise animate__animated animate__fadeIn animate__fast",children:Object(Ee.jsx)(Ve.b,{transition:Ve.a})})},nn={factory:"default",section:"default",machine:"default",number:"default",technician:"default",worker:"",orderType:"default",breakdown:"default",closed:!1,confirmed:!1,start:new Date,end:new Date,startFix:new Date,endFix:new Date,materials:[],operations:[],clocks:[],totalMins:0,description:""},cn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.factory})),a=t.factories,c=t.sections,r=t.machines,i=t.numbers,l=Object(s.c)((function(e){return e.calendar})),j=l.types,b=l.breakdowns,m=l.activeEvent,p=Object(s.c)((function(e){return e.crew})).technicians,O=Object(s.c)((function(e){return e.nav})).showResponsive,f=Object(n.useState)([]),h=Object(Pe.a)(f,2),x=h[0],v=h[1],g=Object(n.useState)([]),y=Object(Pe.a)(g,2),N=y[0],w=y[1],k=Object(n.useState)([]),S=Object(Pe.a)(k,2),C=S[0],T=S[1],I=Object(n.useState)(!1),E=Object(Pe.a)(I,2),_=E[0],L=E[1],q=Object(n.useState)({}),D=Object(Pe.a)(q,2),P=D[0],F=D[1],M=Object(n.useState)("*Selecciona una factor\xeda para para desbloquear el siguiente campo"),A=Object(Pe.a)(M,2),H=A[0],R=A[1],V=Object(n.useState)(nn),B=Object(Pe.a)(V,2),W=B[0],U=B[1],G=W.factory,z=W.section,Y=W.machine,J=W.number,X=W.technician,$=W.worker,K=W.orderType,Q=W.breakdown,Z=W.closed,ee=W.confirmed,te=W.start,ae=W.end,ne=W.startFix,ce=W.endFix,re=W.description,se=Object(o.g)();Object(n.useEffect)((function(){e(vt())}),[e]),Object(n.useEffect)((function(){if(m){R("Ok"),U(m);var e=m.factory,t=Ba(e,c);v(t);var a=m.section,n=m.number,s=Wa(a,i),o=Va(n,r);w(s),T(o)}else U(nn),v([]),w([]),T([]),"/order"===se.location.pathname&&se.push("/neworder")}),[m,se,r,i,c]),Object(n.useEffect)((function(){return function(){e(ot())}}),[e]);var ie=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,s,o,l,u,j,b,m,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,U(Object(De.a)(Object(De.a)({},W),{},Object(qe.a)({},a.name,a.value))),"factory"===a.name&&(w([]),T([]),R("*Selecciona una secci\xf3n para desbloquear el siguiente campo"),U(Object(De.a)(Object(De.a)({},W),{},(n={},Object(qe.a)(n,a.name,a.value),Object(qe.a)(n,"section","default"),Object(qe.a)(n,"number","default"),Object(qe.a)(n,"machine","default"),n))),s=a.value,o=Ba(s,c),v(o)),"section"===a.name&&(T([]),R("*Selecciona el n\xfamero de secci\xf3n para desbloquear el resto de campos"),U(Object(De.a)(Object(De.a)({},W),{},(l={},Object(qe.a)(l,a.name,a.value),Object(qe.a)(l,"number","default"),Object(qe.a)(l,"machine","default"),l))),u=a.value,j=Wa(u,i),w(j)),"number"===a.name&&(R("Ok"),U(Object(De.a)(Object(De.a)({},W),{},(b={},Object(qe.a)(b,a.name,a.value),Object(qe.a)(b,"machine","default"),b))),m=a.value,p=Va(m,r),T(p));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){U(Object(De.a)(Object(De.a)({},W),{},{closed:!Z}))},le=function(){var t=Object(u.a)(d.a.mark((function t(){var a,n,c,r,s,i,o,l,u,j,b,p,O,f,h,x,v,g,y,N,w,k,S,C,T,I,E,_,q,D,P,M,A,H;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,n={},G&&"default"!==G&&""!==G?null===(r=document.querySelector('select[name="factory"]'))||void 0===r||r.classList.remove("border-red"):(null===(c=document.querySelector('select[name="factory"]'))||void 0===c||c.classList.add("border-red"),a=!1),z&&"default"!==z&&""!==z?null===(i=document.querySelector('select[name="section"]'))||void 0===i||i.classList.remove("border-red"):(null===(s=document.querySelector('select[name="section"]'))||void 0===s||s.classList.add("border-red"),a=!1),J&&"default"!==J&&""!==J?null===(l=document.querySelector('select[name="number"]'))||void 0===l||l.classList.remove("border-red"):(null===(o=document.querySelector('select[name="number"]'))||void 0===o||o.classList.add("border-red"),a=!1),Y&&"default"!==Y&&""!==Y?null===(j=document.querySelector('select[name="machine"]'))||void 0===j||j.classList.remove("border-red"):(null===(u=document.querySelector('select[name="machine"]'))||void 0===u||u.classList.add("border-red"),a=!1),K&&"default"!==K&&""!==K?null===(p=document.querySelector('select[name="orderType"]'))||void 0===p||p.classList.remove("border-red"):(null===(b=document.querySelector('select[name="orderType"]'))||void 0===b||b.classList.add("border-red"),a=!1),Q&&"default"!==Q&&""!==Q?null===(f=document.querySelector('select[name="breakdown"]'))||void 0===f||f.classList.remove("border-red"):(null===(O=document.querySelector('select[name="breakdown"]'))||void 0===O||O.classList.add("border-red"),a=!1),X&&"default"!==X&&""!==X?null===(x=document.querySelector('select[name="technician"]'))||void 0===x||x.classList.remove("border-red"):(null===(h=document.querySelector('select[name="technician"]'))||void 0===h||h.classList.add("border-red"),a=!1),!$||$.trim().length<=2?(null===(v=document.querySelector('input[name="worker"]'))||void 0===v||v.classList.add("border-red"),a=!1):null===(g=document.querySelector('input[name="worker"]'))||void 0===g||g.classList.remove("border-red"),oa()(te).isSameOrAfter(ae)?(null===(y=document.querySelector('input[name="start"]'))||void 0===y||y.classList.add("border-red"),a=!1):null===(N=document.querySelector('input[name="start"]'))||void 0===N||N.classList.remove("border-red"),oa()(ae).isBefore(ce)||oa()(ae).isBefore(te)?(null===(w=document.querySelector('input[name="end"]'))||void 0===w||w.classList.add("border-red"),a=!1,oa()(ae).isBefore(ce)&&(null===(k=document.querySelector('input[name="endFix"]'))||void 0===k||k.classList.add("border-red")),oa()(ae).isBefore(te)&&(null===(S=document.querySelector('input[name="start"]'))||void 0===S||S.classList.add("border-red"))):null===(C=document.querySelector('input[name="end"]'))||void 0===C||C.classList.remove("border-red"),oa()(ne).isBefore(te)||oa()(ne).isSameOrAfter(ce)?(null===(T=document.querySelector('input[name="startFix"]'))||void 0===T||T.classList.add("border-red"),a=!1,oa()(ne).isBefore(te)&&(null===(I=document.querySelector('input[name="start"]'))||void 0===I||I.classList.add("border-red")),oa()(ne).isSameOrAfter(ce)&&(null===(E=document.querySelector('input[name="endFix"]'))||void 0===E||E.classList.add("border-red"))):null===(_=document.querySelector('input[name="startFix"]'))||void 0===_||_.classList.remove("border-red"),oa()(ce).isBefore(ne)||oa()(ce).isAfter(ae)||oa()(ce).isAfter(ae)||oa()(ce).isSameOrBefore(ne)?(null===(q=document.querySelector('input[name="endFix"]'))||void 0===q||q.classList.add("border-red"),a=!1,oa()(ce).isBefore(ne)&&(null===(D=document.querySelector('input[name="startFix"]'))||void 0===D||D.classList.add("border-red")),oa()(ce).isAfter(ae)&&(null===(P=document.querySelector('input[name="end"]'))||void 0===P||P.classList.add("border-red"))):null===(M=document.querySelector('input[name="endFix"]'))||void 0===M||M.classList.remove("border-red"),re.length<=0||""===re.length?(a=!1,null===(A=document.querySelector(".description-textarea"))||void 0===A||A.classList.add("border-red")):null===(H=document.querySelector(".description-textarea"))||void 0===H||H.classList.remove("border-red"),a){t.next=17;break}return t.abrupt("return",Ve.c.error("Revise los campos marcados en rojo y revise las fechas deb\xeddamente!",{position:"top-center"}));case 17:if(!m){t.next=23;break}return t.next=20,e(jt(W));case 20:n=t.sent,t.next=26;break;case 23:return t.next=25,e(dt(W));case 25:n=t.sent;case 26:L(!0),F(n);case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(Ee.jsxs)(Ee.Fragment,{children:[_&&Object(Ee.jsx)(an,{result:P,setShowModal:L}),Object(Ee.jsxs)("div",{className:"animate__animated animate__fadeIn animated__fast",children:[m?ee?Object(Ee.jsx)("h1",{className:"h1-order",children:"Ver Orden Cerrada"}):Object(Ee.jsx)("h1",{className:"h1-order",children:"Editar Orden"}):Object(Ee.jsx)("h1",{className:"h1-order",children:"Nueva Orden"}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),Z?Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:function(){return le(e)},message:"El proceso es irreversible, est\xe1s seguro de cerrar la orden"}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"}):le(e)},children:[!_&&Object(Ee.jsx)(Ve.b,{}),Object(Ee.jsx)("h3",{className:"h3-order ".concat("Ok"===H?"mb-4":""),children:"Datos Orden"}),Object(Ee.jsxs)("div",{className:"icon-lock-unlock-wrapper",children:[!m&&Object(Ee.jsx)("i",{className:"fas fa-lock-open disabled"}),1===ee&&Object(Ee.jsx)("i",{className:"fas fa-lock disabled"}),(!ee||0===ee)&&m&&(Z||1===Z)&&Object(Ee.jsx)("i",{className:"fas fa-lock",onClick:oe}),(!ee||0===ee)&&m&&(!Z||0===Z)&&Object(Ee.jsx)("i",{className:"fas fa-lock-open",onClick:oe})]}),Object(Ee.jsx)("span",{className:"advise-factory animate__animated animate__fadeIn",children:"Ok"!==H&&"".concat(H)}),Object(Ee.jsxs)("div",{className:"order-form",children:[Object(Ee.jsxs)("div",{className:"factory-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"Factor\xeda: "}),Object(Ee.jsxs)("select",{name:"factory",value:G,onChange:ie,disabled:Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Factor\xeda"}),a.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"section-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"Secci\xf3n: "}),Object(Ee.jsxs)("select",{name:"section",value:z,onChange:ie,disabled:0===x.length||Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Secci\xf3n"}),x.length>0&&x.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"number-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"N\xfamero: "}),Object(Ee.jsxs)("select",{name:"number",value:J,onChange:ie,disabled:0===N.length||Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige N\xfamero"}),N.length>0&&N.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.number},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"machine-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"M\xe1quina: "}),Object(Ee.jsxs)("select",{name:"machine",value:Y,onChange:ie,disabled:0===C.length||Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige M\xe1quina"}),C.length>0&&C.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"order-type-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"Tipo orden: "}),Object(Ee.jsxs)("select",{name:"orderType",value:K,onChange:ie,disabled:Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Tipo"}),j.length>0&&j.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"breakdown-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"Tipo aver\xeda: "}),Object(Ee.jsxs)("select",{name:"breakdown",value:Q,onChange:ie,disabled:Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige Aver\xeda"}),b.length>0&&b.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"technician-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"T\xe9cnico: "}),Object(Ee.jsxs)("select",{name:"technician",value:X,onChange:ie,disabled:Z,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Elige T\xe9cnico"}),p.length>0&&p.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"worker-wrapper form-grid",children:[Object(Ee.jsx)("label",{children:"Avisado por: "}),Object(Ee.jsx)("input",{type:"text",name:"worker",value:$,onChange:ie,disabled:Z,autoComplete:"off"})]})]}),Object(Ee.jsx)("h3",{className:"h3-order",children:"Fechas Orden"}),Object(Ee.jsxs)("div",{className:"order-form2",children:[Object(Ee.jsxs)("div",{className:"grid-dates",children:[Object(Ee.jsxs)("div",{className:"start-work-wrapper form-grid limit",children:[Object(Ee.jsx)("label",{children:"Fecha aviso: "}),!O&&Object(Ee.jsx)(ya.a,{selected:te,onChange:function(e){U(Object(De.a)(Object(De.a)({},W),{},{start:e})),document.querySelector('input[name="start"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ua.a,showTimeInput:!0,name:"start",disabled:Z})]}),Object(Ee.jsxs)("div",{className:"end-work-wrapper form-grid limit",children:[Object(Ee.jsx)("label",{children:"Fecha fin: "}),!O&&Object(Ee.jsx)(ya.a,{selected:ae,onChange:function(e){U(Object(De.a)(Object(De.a)({},W),{},{end:e})),document.querySelector('input[name="end"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",showTimeInput:!0,locale:Ua.a,minDate:te,name:"end",disabled:Z})]})]}),Object(Ee.jsxs)("div",{className:"grid-dates",children:[Object(Ee.jsxs)("div",{className:"start-fix-wrapper form-grid limit",children:[Object(Ee.jsx)("label",{children:"Inicio trabajo: "}),!O&&Object(Ee.jsx)(ya.a,{selected:ne,onChange:function(e){U(Object(De.a)(Object(De.a)({},W),{},{startFix:e})),document.querySelector('input[name="startFix"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ua.a,showTimeInput:!0,minDate:te,name:"startFix",disabled:Z})]}),Object(Ee.jsxs)("div",{className:"end-fix-wrapper form-grid limit",children:[Object(Ee.jsx)("label",{children:"Fin trabajo: "}),!O&&Object(Ee.jsx)(ya.a,{selected:ce,onChange:function(e){U(Object(De.a)(Object(De.a)({},W),{},{endFix:e})),document.querySelector('input[name="endFix"]').classList.remove("border-red")},timeInputLabel:"Hora:",dateFormat:"dd/MM/yyyy HH:mm",locale:Ua.a,showTimeInput:!0,minDate:ne,name:"endFix",disabled:Z})]})]})]}),Object(Ee.jsx)("h3",{className:"h3-order",children:"Informaci\xf3n Adicional"}),Object(Ee.jsxs)(Ga.d,{children:[Object(Ee.jsxs)(Ga.b,{children:[Object(Ee.jsx)(Ga.a,{children:"Notas"}),Object(Ee.jsx)(Ga.a,{children:"Operaciones"}),Object(Ee.jsx)(Ga.a,{children:"Fichajes"}),Object(Ee.jsx)(Ga.a,{children:"Materiales"})]}),Object(Ee.jsx)(Ga.c,{children:Object(Ee.jsx)("div",{className:"tab-table-wrapper",children:Object(Ee.jsxs)("div",{className:"tab-table-textarea",children:[Object(Ee.jsx)("label",{children:"Observaciones: "}),Object(Ee.jsx)("textarea",{className:"description-textarea",name:"description",value:re,onChange:ie,disabled:Z})]})})}),Object(Ee.jsx)(Ga.c,{children:Object(Ee.jsx)(Ja,{formValues:W,setFormValues:U,disabled:Z})}),Object(Ee.jsx)(Ga.c,{children:Object(Ee.jsx)(Qa,{formValues:W,setFormValues:U,disabled:Z})}),Object(Ee.jsx)(Ga.c,{children:Object(Ee.jsx)(tn,{formValues:W,setFormValues:U,disabled:Z})})]}),Object(Ee.jsxs)("div",{className:"button-wrapper",children:[Object(Ee.jsx)("button",{className:"btn btn-order-cancel",onClick:function(){return se.goBack()},children:"Volver"}),!ee&&Object(Ee.jsx)("button",{className:"btn btn-order",type:"submit",children:m?"Guardar":"Crear Orden"})]})]})]})]})},rn=function(){var e=Object(n.useState)(!0),t=Object(Pe.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){r()}),[]);var r=function(){setTimeout((function(){c(!1)}),300)};return Object(Ee.jsx)("div",{className:"order-wrapper",children:a?Object(Ee.jsx)(Re,{type:"no-animation"}):Object(Ee.jsx)(cn,{})})},sn=a(112),on=(a(320),{allDay:"Todo el d\xeda",previous:"<",next:">",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:function(e){return"+ Ver m\xe1s (".concat(e,")")}}),ln=(a(321),function(e){var t=e.event,a=Object(s.c)((function(e){return e.factory})),c=a.factories,r=a.sections,i=a.machines,o=Object(n.useState)({factoryComponent:"",sectionComponent:"",machineComponent:""}),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=d.factoryComponent,b=d.sectionComponent,m=d.machineComponent;return Object(n.useEffect)((function(){var e,a,n;t&&c.length>0&&r.length>0&&i.length>0&&u({factoryComponent:null===(e=pa(t.factory,c))||void 0===e?void 0:e.name,sectionComponent:null===(a=Oa(t.section,r))||void 0===a?void 0:a.name,machineComponent:null===(n=ha(t.machine,i))||void 0===n?void 0:n.name})}),[t,c,i,r]),Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)("strong",{children:["F",j," - ",b," -"]}),Object(Ee.jsxs)("span",{children:[" ",m]})]})});oa.a.locale("es");var dn=Object(sn.b)(oa.a),un=function(){var e=Object(s.c)((function(e){return e.calendar})).events,t=Object(s.c)((function(e){return e.calendar})).types,a=Object(s.b)(),c=Object(n.useState)(localStorage.getItem("lastView")||"month"),r=Object(Pe.a)(c,2),i=r[0],o=r[1];return Object(Ee.jsxs)("div",{className:"calendar-screen animate__animated animate__fadeIn",children:[Object(Ee.jsx)("h1",{children:"Calendario"}),Object(Ee.jsx)(sn.a,{defaultDate:oa()().toDate(),defaultView:"month",events:e,localizer:dn,eventPropGetter:function(e,a,n,c){var r=function(e,t){var a={backgroundColor:"#0E377F",textColor:"white"};if(t&&t.length>0){var n=e.orderType,c=t.find((function(e){return e.id===n}));if(c)switch(c.name){case"Directiva":a.backgroundColor="#FACC2E";break;case"Planificada":a.backgroundColor="#0E377F";break;case"Preventiva":a.backgroundColor="#31B404";break;case"Correctiva":a.backgroundColor="#FF4000";break;case"Otros":a.backgroundColor="#04B4AE";break;default:a.backgroundColor="#000"}}return a}(e,t);return{style:{backgroundColor:r.backgroundColor,borderRadius:"5px",opacity:.8,display:"block",color:r.textColor}}},messages:on,components:{event:ln},onSelectEvent:function(e){da(),a(it(e)),a(na())},onView:function(e){o(e),localStorage.setItem("lastView",e)},view:i,startAccessor:"start",endAccessor:"end"}),Object(Ee.jsx)(wa,{})]})},jn=function(e){var t=e.iconData,a=Object(s.b)();return Object(Ee.jsx)("div",{className:t.className,onClick:function(){a(qt()),a(na())},children:t.icon})},bn=a(149),mn=a.n(bn),pn=(a(322),function(){var e=Object(u.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!On(t.type)){e.next=10;break}if(!fn(t.size)){e.next=7;break}return a=URL.createObjectURL(t),document.querySelector(".technician-img").src="".concat("","/assets/images/loader.gif"),e.abrupt("return",new Promise((function(e){return setTimeout((function(){document.querySelector(".technician-img").src=a,e({ok:!0})}),400)})));case 7:return e.abrupt("return",{ok:!1,error:"Error, el tama\xf1o m\xe1ximo de imagen es de 2.0MB"});case 8:e.next=11;break;case 10:return e.abrupt("return",{res:!1,error:"Error, extensiones soportadas .jpg, .png y .jpeg"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),On=function(e){return"image/png"===e||"image/jpg"===e||"image/jpeg"===e},fn=function(e){return e<=2e6&&e>0},hn={name:"",surname:"",birthDate:new Date,identityDocument:"",phoneNumber:"",email:"",city:"",address:"",image:null,notes:"",schedule:"default",factory:"default"},xn=function(){var e=Object(n.useState)(hn),t=Object(Pe.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(Pe.a)(r,2),o=i[0],l=i[1],j=a.name,b=a.surname,m=a.birthDate,f=a.identityDocument,h=a.phoneNumber,x=a.email,v=a.city,g=a.address,y=a.image,N=a.notes,w=a.schedule,k=a.factory,S=Object(s.c)((function(e){return e.ui})).modalOpen,C=Object(s.c)((function(e){return e.crew})).activeTechnician,T=Object(s.b)();Object(n.useEffect)((function(){c(C||hn)}),[C]);var I=function(e){var t=e.target;c(Object(De.a)(Object(De.a)({},a),{},Object(qe.a)({},t.name,t.value)))},E=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=t.target).files.length>0)){e.next=9;break}return n=a.files[0],e.next=5,pn(n);case 5:if((c=e.sent).ok){e.next=8;break}return e.abrupt("return",Ve.c.error(c.error,{position:Ve.c.POSITION.TOP_CENTER}));case 8:l(a.files[0]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){ua(),T(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a(),c=n.crew,!(r=c.activeTechnician.id)){e.next=14;break}return e.next=6,p("crew/".concat(r),void 0,"DELETE");case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent.technician&&(t(Mt()),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"T\xe9cnico eliminado con \xe9xito!"}))}),200)),e.next=15;break;case 14:console.log("Error, There is no id");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error while deleting",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,a){return e.apply(this,arguments)}}()),T(ca())},L=function(){ua(),T(ca()),setTimeout((function(){c(hn),T(qt())}),150)};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(va.a,{isOpen:S,className:"modal animate__animated animate__fadeIn animate__faster",onRequestClose:L,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("h1",{className:"h1-modal",children:C?"Editar T\xe9cnico":"Nuevo t\xe9cnico"}),Object(Ee.jsx)("span",{className:"close-event-modal",onClick:L,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsxs)("form",{className:"crew-form",onSubmit:function(e){e.preventDefault();var t=!1;if(oa()(m).isValid()?document.querySelector(".datetime-technician").classList.remove("border-red"):(document.querySelector(".datetime-technician").classList.add("border-red"),t=!0),j.trim().length<=2?(document.querySelector('input[name="name"]').classList.add("border-red"),t=!0):document.querySelector('input[name="name"]').classList.remove("border-red"),b.trim().length<=2?(document.querySelector('input[name="surname"]').classList.add("border-red"),t=!0):document.querySelector('input[name="surname"]').classList.remove("border-red"),h.trim().length<=6?(document.querySelector('input[name="surname"]').classList.add("border-red"),t=!0):document.querySelector('input[name="surname"]').classList.remove("border-red"),Ma.a.isEmail(x)?document.querySelector('input[name="email"]').classList.remove("border-red"):(document.querySelector('input[name="email"]').classList.add("border-red"),t=!0),Ma.a.isMobilePhone(h,"es-ES")?document.querySelector('input[name="phoneNumber"]').classList.remove("border-red"):(document.querySelector('input[name="phoneNumber"]').classList.add("border-red"),t=!0),Ma.a.isIdentityCard(f,"ES")?document.querySelector('input[name="identityDocument"]').classList.remove("border-red"):(document.querySelector('input[name="identityDocument"]').classList.add("border-red"),t=!0),["1","2","3"].indexOf(k.toString())<0?(document.querySelector('select[name="factory"]').classList.add("border-red"),t=!0):document.querySelector('select[name="factory"]').classList.remove("border-red"),["L-D M-T-N","L-V JP","L-V M-T-N"].indexOf(w)<0?(t=!0,document.querySelector('select[name="schedule"]').classList.add("border-red")):document.querySelector('select[name="schedule"]').classList.remove("border-red"),t)return Ve.c.error("Revise los campos se\xf1alados en rojo",{position:Ve.c.POSITION.TOP_CENTER});T(C?function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l,u;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=e.id,r=null,!t){a.next=17;break}return a.prev=3,(s=new FormData).append("file",t),a.next=8,O("uploads/technician/",s);case 8:return i=a.sent,a.next=11,i.json();case 11:r=a.sent,a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),console.log("Error uploading image",a.t0);case 17:return r&&(e.image=r.name),a.prev=18,a.next=21,p("crew/".concat(c),e,"PUT");case 21:return o=a.sent,a.next=24,o.json();case 24:l=a.sent,(u=l.technician)?(n(Ft(u)),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"T\xe9cnico actualizado con \xe9xito!"}))}),200)):console.log("Tthe technician was not saved"),a.next=32;break;case 29:a.prev=29,a.t1=a.catch(18),console.log("Error while updating the technician");case 32:case"end":return a.stop()}}),a,null,[[3,14],[18,29]])})));return function(e){return a.apply(this,arguments)}}()}(a,o):function(e,t){return function(){var a=Object(u.a)(d.a.mark((function a(n){var c,r,s,i,o,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=null,!t){a.next=16;break}return a.prev=2,(r=new FormData).append("file",t),a.next=7,O("uploads/technician/",r);case 7:return s=a.sent,a.next=10,s.json();case 10:c=a.sent,a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),console.log("Error uploading image",a.t0);case 16:return c&&(e.image=c.name),a.prev=17,a.next=20,p("crew/",e,"POST");case 20:return i=a.sent,a.next=23,i.json();case 23:o=a.sent,(l=o.technician)?(n(Pt(l)),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"T\xe9cnico agregado con \xe9xito!"}))}),200)):console.log("Error the technician was not saved"),a.next=31;break;case 28:a.prev=28,a.t1=a.catch(17),console.log("Error while saving the technician",a.t1);case 31:case"end":return a.stop()}}),a,null,[[2,13],[17,28]])})));return function(e){return a.apply(this,arguments)}}()}(a,o)),l(null),ua(),T(ca()),setTimeout((function(){c(hn)}),150)},children:[Object(Ee.jsxs)("div",{className:"form-wrapper-1",children:[Object(Ee.jsx)("div",{className:"img-wrapper",children:Object(Ee.jsx)("img",{className:"technician-img",src:null===y?"".concat("","/assets/images/user-default.png"):"".concat("","/assets/images/").concat(y),alt:"mtile-technician",onChange:I})}),Object(Ee.jsxs)("div",{className:"form-wrapper-data",children:[Object(Ee.jsxs)("div",{className:"form-wrapper-name",children:[Object(Ee.jsx)("label",{children:"Nombre: "}),Object(Ee.jsx)("input",{type:"text",name:"name",autoComplete:"off",value:j,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-surname",children:[Object(Ee.jsx)("label",{children:"Apellidos: "}),Object(Ee.jsx)("input",{type:"text",name:"surname",autoComplete:"off",value:b,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-birthdate",children:[Object(Ee.jsx)("label",{children:"Fecha Nac.: "}),Object(Ee.jsx)(mn.a,{className:"datetime-technician",value:oa()(m).format("DD-MM-yyyy"),dateFormat:"DD-MM-YYYY",timeFormat:!1,onChange:function(e){c(Object(De.a)(Object(De.a)({},a),{},{birthDate:new Date(e)}))},closeOnSelect:!0})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-identitydocument",children:[Object(Ee.jsx)("label",{children:"DNI: "}),Object(Ee.jsx)("input",{type:"text",name:"identityDocument",autoComplete:"off",value:f,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-phone",children:[Object(Ee.jsx)("label",{children:"Tel. M\xf3vil: "}),Object(Ee.jsx)("input",{type:"text",name:"phoneNumber",autoComplete:"off",value:h,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-mail",children:[Object(Ee.jsx)("label",{children:"Email: "}),Object(Ee.jsx)("input",{type:"email",name:"email",autoComplete:"off",value:x,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-city",children:[Object(Ee.jsx)("label",{children:"Localidad: "}),Object(Ee.jsx)("input",{type:"text",name:"city",autoComplete:"off",value:v,onChange:I})]})]})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-2",children:[Object(Ee.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(Ee.jsx)("label",{children:"Direcci\xf3n: "}),Object(Ee.jsx)("input",{type:"text",name:"address",autoComplete:"off",value:g,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(Ee.jsx)("label",{children:"Horario: "}),Object(Ee.jsxs)("select",{name:"schedule",value:w,onChange:I,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Seleccione Horario"}),Object(Ee.jsx)("option",{value:"L-V M-T-N",children:"L-V M-T-N"}),Object(Ee.jsx)("option",{value:"L-V JP",children:"L-V JP"}),Object(Ee.jsx)("option",{value:"L-D M-T-N",children:"L-D M-T-N"})]})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-data-2-child",children:[Object(Ee.jsx)("label",{children:"Factor\xeda: "}),Object(Ee.jsxs)("select",{name:"factory",value:k,onChange:I,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Seleccione Factor\xeda"}),Object(Ee.jsx)("option",{value:"1",children:"Factor\xeda 1"}),Object(Ee.jsx)("option",{value:"2",children:"Factor\xeda 2"}),Object(Ee.jsx)("option",{value:"3",children:"Factor\xeda 3"})]})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-textarea",children:[Object(Ee.jsx)("label",{children:"Observaciones: "}),Object(Ee.jsx)("textarea",{name:"notes",value:N,onChange:I})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-submit ".concat(C?"wrapper-flex-between":"wrapper-flex-end"),children:[C&&Object(Ee.jsx)("p",{className:"btn btn-form-cancel",onClick:function(){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:_,code:"".concat(C.name," ").concat(C.surname),message:"Est\xe1s seguro de borrar el t\xe9cnico con el nombre"}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:"Borrar"}),Object(Ee.jsxs)("div",{className:"form-wrapper-file",children:[Object(Ee.jsxs)("label",{className:"btn-label-file",children:[Object(Ee.jsx)("input",{type:"file",name:"img",onChange:E,accept:".jpg, .jpeg, .png"}),Object(Ee.jsx)("i",{className:"fas fa-cloud-upload-alt"})," Subir imagen"]}),Object(Ee.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:C?"Actualizar":"Crear"})]})]})]})]})]}),S&&Object(Ee.jsx)(Ve.b,{})]}),!S&&Object(Ee.jsx)(Ve.b,{})]})},vn=function(){var e=Object(s.c)((function(e){return e.crew})).technicians,t=Object(s.c)((function(e){return e.auth})).admin,a=Object(s.b)(),n=function(t){var n=t.target.attributes[1].value,c=e.find((function(e){return e.id.toString()===n}));a({type:H,payload:c}),a(na()),da()},c={icon:Object(Ee.jsx)("i",{className:"fas fa-user-plus"}),className:"button-new technician"};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("h1",{className:"technician-h1",children:"T\xe9cnicos"}),Object(Ee.jsx)("div",{className:"crew-wrapper animate__animated animate__fadeIn",children:e.map((function(e){return Object(Ee.jsxs)("div",{className:"technician-wrapper",children:[Object(Ee.jsxs)("div",{className:"technician-name-surname",children:[Object(Ee.jsxs)("span",{children:[e.surname,","]}),Object(Ee.jsx)("span",{children:e.name}),Object(Ee.jsx)("span",{})]}),Object(Ee.jsx)("img",{src:null===e.image?"".concat("","/assets/images/user-default.png"):"".concat("","/assets/images/").concat(e.image),alt:"".concat(e.name)}),t&&Object(Ee.jsx)("div",{className:"wrapper-technician-button",children:Object(Ee.jsx)("button",{className:"btn btn-detail-crew","data-id":e.id,onClick:n,children:"Ver m\xe1s"})})]},e.id)}))}),t&&Object(Ee.jsx)(jn,{iconData:c,page:"crew"}),Object(Ee.jsx)(xn,{})]})},gn=function(e){var t=e.columns,a=e.data,n=Object(s.c)((function(e){return e.warehouse})).items,c=Object(s.b)(),r=Object(la.useTable)({columns:t,data:a},la.usePagination),i=r.getTableProps,o=r.getTableBodyProps,l=r.headerGroups,d=r.prepareRow,u=r.pageOptions,j=r.page,b=r.state.pageIndex,m=r.previousPage,p=r.nextPage,O=r.canPreviousPage,f=r.canNextPage,h=function(e){var t=e.target.parentNode.childNodes[0].innerText,a=n.find((function(e){return e.code===t}));c(function(e){return{type:X,payload:e}}(a)),c(na())};return Object(Ee.jsxs)("div",{className:"table-wrapper",children:[Object(Ee.jsxs)("table",Object(De.a)(Object(De.a)({},i()),{},{children:[Object(Ee.jsx)("thead",{children:l.map((function(e){return Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(Ee.jsx)("th",Object(De.a)(Object(De.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(Ee.jsx)("tbody",Object(De.a)(Object(De.a)({},o()),{},{children:j.map((function(e){return d(e),Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getRowProps()),{},{onClick:h,children:e.cells.map((function(e){return Object(Ee.jsx)("td",Object(De.a)(Object(De.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]})),Object(Ee.jsxs)("div",{className:"table-page-controls",children:[Object(Ee.jsxs)("div",{className:"table-buttons-wrapper",children:[Object(Ee.jsx)("button",{className:"btn btn-table",onClick:function(){return m()},disabled:!O,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-left"})}),Object(Ee.jsx)("button",{className:"btn btn-table",onClick:function(){return p()},disabled:!f,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(Ee.jsxs)("div",{className:"table-page",children:["P\xe1gina ",b+1," de ",u.length]})]})]})},yn={id:"",code:"",description:"",quantity:"",minStock:"",place:""},Nn=function(e){var t=e.setSearch,a=Object(s.c)((function(e){return e.warehouse})).activeItem,c=Object(s.c)((function(e){return e.ui})).modalOpen,r=Object(s.c)((function(e){return e.auth})).admin,i=Object(s.b)(),o=Sa,l=Object(n.useState)(yn),j=Object(Pe.a)(l,2),b=j[0],m=j[1],O=b.code,f=b.description,h=b.quantity,x=b.minStock,v=b.place;Object(n.useEffect)((function(){a&&m(a)}),[a]);var g=function(){i(ca()),ua(),setTimeout((function(){i(nt()),N()}),200)},y=function(){a&&i(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=null===(n=a())||void 0===n?void 0:n.warehouse,r=c.activeItem,!(s=null===r||void 0===r?void 0:r.id)){e.next=11;break}return e.next=6,p("warehouse/".concat(s),{},"DELETE");case 6:return i=e.sent,e.next=9,i.json();case 9:e.sent?(t(st()),Ve.c.success(Object(Ee.jsx)(Qe,{text:"Item eliminado con \xe9xito!"}))):Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al eliminar el item! !"}));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al conectar, contacte con el administrador!"}));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()),i(ca()),ua(),N(),t("")},N=function(){m(yn)},w=function(e){var t=e.target;m(Object(De.a)(Object(De.a)({},b),{},Object(qe.a)({},t.name,t.value)))};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(va.a,{isOpen:c,className:"modal-warehouse animate__animated animate__fadeIn animate__fast",onRequestClose:g,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("span",{className:"close-event-modal",onClick:g,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsx)("h1",{className:"h1-modal",children:a?r?"Editar Item":"Ver Item":"Agregar Item"}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,n=!0;if(O.length<=2?(n=!1,document.querySelector('input[name="code"]').classList.add("border-red")):document.querySelector('input[name="code"]').classList.remove("border-red"),f.length<=2?(n=!1,document.querySelector('input[name="description"]').classList.add("border-red")):document.querySelector('input[name="description"]').classList.remove("border-red"),0!==h.length||isNaN(parseInt(h))?document.querySelector('input[name="quantity"]').classList.remove("border-red"):(n=!1,document.querySelector('input[name="quantity"]').classList.add("border-red")),0!==x.length||isNaN(parseInt(x))?document.querySelector('input[name="minStock"]').classList.remove("border-red"):(n=!1,document.querySelector('input[name="minStock"]').classList.add("border-red")),v.length<=0?(n=!1,document.querySelector('input[name="place"]').classList.add("border-red")):document.querySelector('input[name="place"]').classList.remove("border-red"),!n)return Ve.c.error("Revise los campos se\xf1alados en rojo",{position:Ve.c.POSITION.TOP_CENTER});i(a?(t=b,function(){var e=Object(u.a)(d.a.mark((function e(a){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id,c=Object($e.a)(t,["id"]),e.next=4,p("warehouse/".concat(n),Object(De.a)({},c),"PUT");case 4:return r=e.sent,e.next=7,r.json();case 7:s=e.sent,(i=s.newItem)&&(a(ct(i)),a(et()),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"Item actualizado con \xe9xito!"}))}),200)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(u.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("warehouse/",Object(De.a)({},e),"POST");case 3:return n=t.sent,t.next=6,n.json();case 6:t.sent.savedItem?(a(rt(e)),a(et()),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"Item actualizado con \xe9xito!"}))}),200)):Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al guardar el item!"})),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),Ve.c.error(Object(Ee.jsx)(Be,{text:"Error al conectar, contacte con el administrador!"}));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(b)),i(ca()),i(nt()),setTimeout((function(){N()}),300)},children:[Object(Ee.jsxs)("div",{className:"thead-modal",children:[Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsxs)("label",{children:[o[0].Header,":"]}),Object(Ee.jsx)("input",{type:"text",value:O,name:"code",disabled:a,onChange:w})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsxs)("label",{children:[o[1].Header,":"]}),Object(Ee.jsx)("input",{type:"text",value:f,disabled:!r,name:"description",onChange:w})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsxs)("label",{children:[o[2].Header,":"]}),Object(Ee.jsx)("input",{type:"number",value:h,disabled:!r,name:"quantity",onChange:w})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsxs)("label",{children:[o[3].Header,":"]}),Object(Ee.jsx)("input",{type:"number",value:x,disabled:!r,name:"minStock",onChange:w})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsxs)("label",{children:[o[4].Header,":"]}),Object(Ee.jsx)("input",{type:"text",value:v,disabled:!r,name:"place",onChange:w})]})]}),Object(Ee.jsxs)("div",{className:"wrapper-buttons-warehouse ".concat(a?"":"alone"),children:[a&&r&&Object(Ee.jsx)("span",{className:"btn btn-form-cancel",onClick:function(){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:y,code:a.code,message:"Est\xe1s seguro de borrar el Item con el c\xf3digo"}),{position:Ve.c.POSITION.TOP_CENTER,closeOnClick:!1,autoClose:!1,toastId:"1"})},children:"Eliminar"}),r&&Object(Ee.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:a?"Actualizar":"Guardar"})]})]})]}),c&&Object(Ee.jsx)(Ve.b,{})]}),!c&&Object(Ee.jsx)(Ve.b,{})]})},wn=function(){var e=Sa,t=Object(n.useState)([]),a=Object(Pe.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),o=Object(Pe.a)(i,2),l=o[0],d=o[1],u=Object(s.b)(),j=Object(s.c)((function(e){return e.warehouse})).items,b=Object(s.c)((function(e){return e.ui})).modalOpen,m=Object(s.c)((function(e){return e.warehouse})).activeItem,p=Object(s.c)((function(e){return e.auth})).admin;Object(n.useEffect)((function(){u(et())}),[u]),Object(n.useEffect)((function(){if(l){var e=j.filter((function(e){return!!(""!==e.code&&e.code.toLowerCase().includes(l.toLowerCase())||""!==e.description&&e.description.toLowerCase().includes(l.toLowerCase()))&&e}));r(e)}else r([])}),[l,j]);var O=Object(n.useState)(!1),f=Object(Pe.a)(O,2),h=f[0],x=f[1],v={icon:Object(Ee.jsx)("i",{className:"far fa-plus-square"}),className:"button-new new"};return Object(Ee.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(Ee.jsx)("h1",{className:"h1-warehouse",children:"Almac\xe9n"}),Object(Ee.jsxs)("div",{className:"wrapper-stock-finder",children:[Object(Ee.jsx)("input",{type:"search",name:"search",className:"finder ".concat(h&&"showw"),onBlur:function(){0===l.length&&x(!1)},value:l,onChange:function(e){var t=e.target;d(t.value)},autoComplete:"off"}),Object(Ee.jsx)("i",{className:"fas fa-search ".concat(h&&"hidee"),onClick:function(){x(!0),b||document.querySelector(".finder").focus()}})]}),Object(Ee.jsx)("div",{className:"separator"}),c.length>0&&e.length>0?Object(Ee.jsx)(gn,{columns:e,data:c}):Object(Ee.jsx)("h3",{className:"h3-warehouse animate__animated animate__fadeInUpBig animate__faster",children:0===l.length?"Pulsa la lupa para comenzar la b\xfasqueda":"No se han encontrado coincidencias"}),!m&&p&&Object(Ee.jsx)(jn,{iconData:v}),Object(Ee.jsx)(Nn,{setSearch:d})]})},kn=function(e){var t=e.columns,a=e.data,n=Object(s.c)((function(e){return e.calendar})).events,c=Object(s.c)((function(e){return e.calendar})).types,r=Object(s.c)((function(e){return e.calendar})).breakdowns,i=Object(s.c)((function(e){return e.factory})).factories,o=Object(s.c)((function(e){return e.factory})).sections,l=Object(s.c)((function(e){return e.factory})).numbers,d=Object(s.c)((function(e){return e.factory})).machines,u=Object(s.b)(),j=Object(la.useTable)({columns:t,data:a},la.useSortBy,la.usePagination),b=j.getTableProps,m=j.getTableBodyProps,p=j.headerGroups,O=j.prepareRow,f=j.pageOptions,h=j.page,x=j.state.pageIndex,v=j.previousPage,g=j.nextPage,y=j.canPreviousPage,N=j.canNextPage,w=function(e){var t=e.target.attributes[0].nodeValue;if(t&&n&&!(n.length<1)&&void 0!==n){var a=ja(t,n);u(it(a)),u(na()),da()}};return Object(Ee.jsxs)("div",{className:"table-wrapper",children:[Object(Ee.jsx)(wa,{}),Object(Ee.jsxs)("table",Object(De.a)(Object(De.a)({},b()),{},{children:[Object(Ee.jsx)("thead",{children:p.map((function(e){return Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(Ee.jsx)("th",Object(De.a)(Object(De.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:e.render("Header")}))}))}))}))}),c&&r&&i&&o&&l&&d&&Object(Ee.jsx)("tbody",Object(De.a)(Object(De.a)({},m()),{},{children:h.map((function(e){return O(e),Object(Ee.jsx)("tr",Object(De.a)(Object(De.a)({},e.getRowProps()),{},{onClick:w,children:e.cells.map((function(e,t){switch(e.column.id){case"start":return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:oa()(e.value).format("DD-MM-YYYY HH:mm").toString()},t);case"orderType":var a=ba(e.value,c).name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:a},t);case"breakdown":var n=ma(e.value,r).name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:n},t);case"factory":var s=pa(e.value,i).name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,className:"text-center",children:s},t);case"section":var u=Oa(e.value,o).name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:u},t);case"number":var j=fa(e.value,l).number;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,className:"text-center",children:j},t);case"machine":var b=fa(e.value,d).name;return Object(Ee.jsx)("td",{"data-id":e.row.original.id,children:b},t);case"totalMins":return Object(Ee.jsxs)("td",{"data-id":e.row.original.id,className:"text-right",children:[e.value," min."]},t);case"closed":return Object(Ee.jsx)("td",{"data-id":e.row.original.id,className:"text-center padlocks-history",children:e.value?Object(Ee.jsx)("i",{"data-id":e.row.original.id,className:"fas fa-lock"}):Object(Ee.jsx)("i",{"data-id":e.row.original.id,className:"fas fa-lock-open"})},t);default:return Object(Ee.jsx)("td",Object(De.a)(Object(De.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}}))}))}))}))]})),Object(Ee.jsxs)("div",{className:"table-page-controls",children:[Object(Ee.jsxs)("div",{className:"table-buttons-wrapper",children:[Object(Ee.jsx)("button",{className:"btn btn-table",onClick:function(){return v()},disabled:!y,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-left"})}),Object(Ee.jsx)("button",{className:"btn btn-table",onClick:function(){return g()},disabled:!N,children:Object(Ee.jsx)("i",{className:"fas fa-chevron-right"})})]}),Object(Ee.jsxs)("div",{className:"table-page",children:["P\xe1gina ",x+1," de ",f.length]})]})]})},Sn=function(){var e=Ca,t=Object(s.c)((function(e){return e.calendar})).events;return Object(Ee.jsxs)("div",{className:"historical-main-container animate__animated animate__fadeIn",children:[Object(Ee.jsx)("h1",{className:"h1-historical",children:"Hist\xf3rico de \xf3rdenes"}),t.length>0&&Object(Ee.jsx)(kn,{columns:e,data:t})]})},Cn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.statistics})),a=t.weeks,c=t.threeWeekSections,r=t.lastWeekByOrderType,i=t.interventionsWeeks,o=t.totalTimeByWeek,l=t.lastWeekByBreakdown,d=t.lastWeekByTechnician,u=i.weeksIntervetions,j=i.weeksInterventionsCounts,b=o.weeksTime,m=o.weeksTotalTime;Object(n.useEffect)((function(){e(Bt())}),[e]);var p={title:{text:"Intervenciones",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},labels:r.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}}},O={title:{text:"Aver\xedas",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},labels:l.names,chart:{toolbar:{show:!0,offsetX:0,offsetY:0}}},f={series:d.quantities,options:{title:{text:"Intervenciones",style:{fontSize:"11px",fontWeight:"bold",fontFamily:void 0,color:"#263238"}},legend:{show:!0},chart:{type:"polarArea",toolbar:{show:!0,offsetX:0,offsetY:0}},stroke:{colors:["#fff"]},fill:{opacity:.8},labels:d.names,responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]}},h={chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:a,title:{text:"Semana"}},yaxis:{title:{text:"Intervenciones"}},fill:{opacity:1},tooltip:{y:{formatter:function(e){return e+" intervenciones"}}}},x={series:[{data:j}],options:{chart:{height:350,type:"bar",events:{click:function(e,t,a){}}},colors:["#028ffb","#ff4560","#feb019","#01e396"],plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},yaxis:{title:{text:"Intervenciones"}},xaxis:{categories:u,labels:{style:{colors:["#028ffb","#ff4560","#feb019","#01e396"],fontSize:"12px"}},title:{text:"Semana"}}}},v={series:[{name:"Horas",data:m}],options:{chart:{height:350,type:"line",zoom:{enabled:!1}},plotOptions:{bar:{columnWidth:"45%",distributed:!0}},dataLabels:{enabled:!1},legend:{show:!1},yaxis:{title:{text:"Horas"}},xaxis:{categories:b,title:{text:"Semana"}}}};return Object(Ee.jsxs)("div",{className:"animate__animated animate__fadeIn dashboard-screen",children:[Object(Ee.jsx)("h1",{children:"Estad\xedsticas"}),Object(Ee.jsxs)("div",{className:"main-content_dashboard",children:[Object(Ee.jsxs)("div",{className:"charts",children:[Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por secci\xf3n/semana"}),c.length>0&&a.length>0&&Object(Ee.jsx)(Ea.a,{options:h,series:c,type:"bar",width:"100%"})]}),Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones semana previa"}),r&&r.quantities.length>0&&r.names.length>0&&Object(Ee.jsx)(Ea.a,{className:"chart-pie",options:p,series:r.quantities,type:"donut",width:"100%"})]})]}),Object(Ee.jsxs)("div",{className:"charts2 mt-3",children:[Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Total intervenciones/semana"}),i&&u.length>0&&j.length>0&&Object(Ee.jsx)(Ea.a,{options:x.options,series:x.series,type:"bar",width:"100%"})]}),Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Total horas/semana intervenciones"}),o&&b.length>0&&m.length>0&&Object(Ee.jsx)(Ea.a,{options:v.options,series:v.series,type:"line",width:"100%"})]})]}),Object(Ee.jsxs)("div",{className:"charts2 mt-3",children:[Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Intervenciones por t\xe9cnico semana previa"}),d&&d.quantities.length>0&&d.names.length>0&&Object(Ee.jsx)(Ea.a,{className:"chart-pie",options:f.options,series:f.series,type:"polarArea",width:"100%"})]}),Object(Ee.jsxs)("div",{className:"chart-wrapper",children:[Object(Ee.jsx)("h3",{className:"h3-dashboard charts-header",children:"Tipo aver\xedas semana previa"}),l&&l.quantities.length>0&&l.names.length>0&&Object(Ee.jsx)(Ea.a,{className:"chart-pie",options:O,series:l.quantities,type:"donut",width:"100%"})]})]})]})]})},Tn=function(){var e=Object(o.g)();return Object(Ee.jsx)("div",{className:"screen-404 animate__animated animate__fadeIn",children:Object(Ee.jsxs)("div",{className:"bg-black",children:[Object(Ee.jsx)("img",{className:"bg-404",src:"".concat("","/assets/images/404.jpg"),alt:"bg"}),Object(Ee.jsxs)("div",{className:"info-404",children:[Object(Ee.jsx)("h1",{children:"404"}),Object(Ee.jsx)("p",{className:"text-info",children:"P\xe1gina no encontrada"}),Object(Ee.jsxs)("div",{className:"buttons-404",children:[Object(Ee.jsx)(i.b,{to:"/",children:"Volver al Dashboard"}),Object(Ee.jsx)("p",{onClick:function(){e.goBack()},children:"Volver atr\xe1s"})]})]})]})})},In=a(45),En=a.e(0).then(a.t.bind(null,352,7));In.c.GlobalWorkerOptions.workerSrc=En;var _n=function(e){var t=e.file,a=Object(n.useState)(null),c=Object(Pe.a)(a,2),r=(c[0],c[1]),s=Object(n.useState)(1),i=Object(Pe.a)(s,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){l(1)}),[t]),Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsxs)(In.a,{file:"".concat("","/assets/docs/").concat(t),loading:Object(Ee.jsx)("img",{src:"".concat("","/assets/images/loader.gif"),alt:"loading"}),onLoadSuccess:function(e){var t=e.numPages;r(t),l(1)},error:Object(Ee.jsx)("p",{children:"Error al cargar el archivo"}),renderMode:"svg",children:[Object(Ee.jsx)(In.b,{pageNumber:o}),Object(Ee.jsx)("span",{className:"pdf-title",children:t})]})})},Ln=a.e(0).then(a.t.bind(null,352,7));In.c.GlobalWorkerOptions.workerSrc=Ln;var qn=function(e){var t=e.file,a=Object(n.useState)(null),c=Object(Pe.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(1),l=Object(Pe.a)(o,2),d=l[0],u=l[1],j=Object(s.c)((function(e){return e.ui})).modalOpen;function b(e){u((function(t){return t+e}))}return Object(n.useEffect)((function(){u(1)}),[t]),Object(Ee.jsx)(Ee.Fragment,{children:Object(Ee.jsx)(In.a,{file:"".concat("","/assets/docs/").concat(t),loading:Object(Ee.jsx)("img",{src:"".concat("","/assets/images/loader.gif"),alt:"loading"}),onLoadSuccess:function(e){var t=e.numPages;i(t),u(1)},error:Object(Ee.jsx)("p",{children:"Error al cargar el archivo"}),renderMode:"canvas",children:Object(Ee.jsx)(In.b,{pageNumber:d,children:j&&Object(Ee.jsxs)("div",{className:"pdf-page-buttons",children:[Object(Ee.jsx)("button",{className:"left-arrow",disabled:d<=1,onClick:function(){b(-1)},children:Object(Ee.jsx)("i",{className:"fas fa-chevron-left"})}),Object(Ee.jsxs)("span",{className:"info-pages",children:[d||(r?1:"--")," de ",r||"--"]}),Object(Ee.jsx)("button",{className:"right-arrow",disabled:d>=r,onClick:function(){b(1)},children:Object(Ee.jsx)("i",{className:"fas fa-chevron-right"})})]})})})})},Dn=function(e){var t=e.setShowModalDoc,a=e.resetData,n=Object(s.b)(),c=Object(s.c)((function(e){return e.ui})).modalOpen,r=Object(s.c)((function(e){return e.factory})).activeDoc,i=Object(s.c)((function(e){return e.auth})).admin,o=function(){ua(),n(ca()),n({type:re}),t(!1)},l=function(){n(function(){var e=Object(u.a)(d.a.mark((function e(t,a){var n,c,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),c=n.factory,!(r=c.activeDoc.id)){e.next=16;break}return e.prev=3,e.next=6,p("uploads/doc/".concat(r),void 0,"DELETE");case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent&&(t(Lt()),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"Documento eliminado con \xe9xito!"}))}),600)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}()),ua(),n(ca()),t(!1),a()};return Object(Ee.jsxs)("div",{className:"pdf-modal",children:[r&&c&&Object(Ee.jsxs)("div",{className:"info-wrapper",children:[Object(Ee.jsxs)("div",{className:"pdf-header",children:[Object(Ee.jsx)("i",{className:"fas fa-arrow-left",onClick:o}),Object(Ee.jsx)("img",{src:"".concat("","/assets/images/pdf.png"),alt:"pdf-icon"}),Object(Ee.jsx)("span",{children:r.name})]}),i&&Object(Ee.jsx)("div",{className:"pdf-delete",onClick:function(){Ve.c.warn(Object(Ee.jsx)(_a,{handleDeleteItem:l,code:"".concat(r.name," ").concat(r.info),message:"Est\xe1s seguro de borrar el documento"}),{position:"top-center",closeOnClick:!1,autoClose:!1,toastId:"1"})},children:Object(Ee.jsx)("i",{className:"far fa-trash-alt"})})]}),Object(Ee.jsxs)(va.a,{isOpen:c,className:"modal-docs animate__animated animate__fadeIn animate__fast",onRequestClose:o,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[r&&Object(Ee.jsx)(qn,{file:r.name}),c&&Object(Ee.jsx)(Ve.b,{})]}),!c&&Object(Ee.jsx)(Ve.b,{})]})},Pn=function(e){return"application/pdf"===e},Fn=function(e){return e<=15e6&&e>0},Mn={factory:"default",section:"default",info:""},An=function(e){var t=e.resetData,a=Object(s.c)((function(e){return e.ui})).modalOpen,c=Object(s.b)(),r=Object(s.c)((function(e){return e.factory})).factories,i=Object(s.c)((function(e){return e.factory})).sections,o=Object(n.useState)(Mn),l=Object(Pe.a)(o,2),j=l[0],b=l[1],m=j.factory,p=j.section,O=j.info,f=Object(n.useState)(null),h=Object(Pe.a)(f,2),x=h[0],v=h[1],g=Object(n.useState)([]),y=Object(Pe.a)(g,2),N=y[0],w=y[1];Object(n.useEffect)((function(){c(vt())}),[c]);var k=function(e){var t=e.target;if(b(Object(De.a)(Object(De.a)({},j),{},Object(qe.a)({},t.name,t.value))),"factory"===t.name){b(Object(De.a)(Object(De.a)({},j),{},{factory:t.value,section:"default"}));var a=t.value,n=Ba(a,i);w(n)}},S=function(){ua(),c(ca()),setTimeout((function(){b(Mn)}),200)};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(va.a,{isOpen:a,className:"add-modal animate__animated animate__fadeIn animate__fast",onRequestClose:S,contentLabel:"Calendar Modal",closeTimeoutMS:300,ariaHideApp:!1,children:[Object(Ee.jsxs)("div",{className:"frame",children:[Object(Ee.jsx)("span",{className:"close-event-modal",onClick:S,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsx)("h1",{className:"h1-modal",children:"Agregar Documentaci\xf3n"}),Object(Ee.jsxs)("form",{onSubmit:function(e){var a,n=!0;return e.preventDefault(),"default"===m||0===m.length?(n=!1,document.querySelector('select[name="factory"]').classList.add("border-red")):document.querySelector('select[name="factory"]').classList.remove("border-red"),"default"===p||0===p.length?(n=!1,document.querySelector('select[name="section"]').classList.add("border-red")):document.querySelector('select[name="section"]').classList.remove("border-red"),0===O.length?(n=!1,document.querySelector('input[name="info"]').classList.add("border-red")):document.querySelector('input[name="info"]').classList.remove("border-red"),!x&&n?Ve.c.error("No se ha adjuntado ning\xfan documento",{position:Ve.c.POSITION.TOP_CENTER}):n?(c((a=Object(De.a)(Object(De.a)({},j),{},{file:x}),function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c,r,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token")||"",(c=new FormData).append("file",a.file),c.append("info",a.info),c.append("section",a.section),e.next=8,fetch("http://localhost:8088/api/uploads/doc",{method:"POST",headers:{"x-token":n},body:c});case 8:return r=e.sent,e.next=11,r.json();case 11:s=e.sent,(i=s.uploadedDoc)&&(t(_t(i)),setTimeout((function(){Ve.c.success(Object(Ee.jsx)(Qe,{text:"Documento agregado con \xe9xito!"}))}),200)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}())),ua(),t(),b(Mn),void c(ca())):Ve.c.error("Revise los campos resaltados en rojo",{position:Ve.c.POSITION.TOP_CENTER})},children:[Object(Ee.jsxs)("div",{className:"thead-modal",children:[Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Factor\xeda: "}),Object(Ee.jsxs)("select",{name:"factory",value:m,onChange:k,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Seleccionar"}),r.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Secci\xf3n: "}),Object(Ee.jsxs)("select",{name:"section",value:p,onChange:k,disabled:0===N.length,children:[Object(Ee.jsx)("option",{value:"default",disabled:!0,children:"Seleccionar"}),N.length>0&&N.map((function(e){return Object(Ee.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(Ee.jsxs)("div",{className:"grid-items",children:[Object(Ee.jsx)("label",{children:"Descripci\xf3n: "}),Object(Ee.jsx)("input",{type:"text",name:"info",value:O,onChange:k,autoComplete:"off",placeholder:" Descripci\xf3n"})]}),Object(Ee.jsxs)("div",{className:"grid-items file-name-wrapper",children:[Object(Ee.jsx)("label",{children:"Archivo: "}),Object(Ee.jsx)("input",{type:"text",defaultValue:null===x||void 0===x?void 0:x.name,disabled:!0})]})]}),Object(Ee.jsxs)("div",{className:"form-wrapper-file",children:[Object(Ee.jsxs)("label",{className:"btn-label-file",children:[Object(Ee.jsx)("input",{type:"file",name:"img",onChange:function(e){var t=e.target;if(t.files.length>0){var a=function(e){return Pn(e.type)?Fn(e.size)?{ok:!0}:{ok:!1,error:"El archivo excede la capacidad m\xe1xima de 16MB"}:{ok:!1,error:"S\xf3lo archivos PDF son soportados"}}(t.files[0]);if(!a.ok)return Ve.c.error(a.error,{position:Ve.c.POSITION.TOP_CENTER});document.querySelector(".file-name-wrapper").classList.add("show-file-name"),v(t.files[0])}},accept:".pdf"}),Object(Ee.jsx)("i",{className:"fas fa-cloud-upload-alt"})," Cargar PDF"]}),Object(Ee.jsx)("button",{type:"submit",className:"btn btn-form-agree",children:"Guardar"})]})]})]}),a&&Object(Ee.jsx)(Ve.b,{})]}),!a&&Object(Ee.jsx)(Ve.b,{})]})},Hn=function(){var e=Object(s.c)((function(e){return e.factory})).factories,t=Object(s.c)((function(e){return e.factory})).sections,a=Object(s.c)((function(e){return e.factory})).docs,c=Object(s.c)((function(e){return e.auth})).admin,r=Object(s.b)(),i=Object(n.useState)([]),o=Object(Pe.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)([]),j=Object(Pe.a)(u,2),b=j[0],m=j[1],p=Object(n.useState)(!1),O=Object(Pe.a)(p,2),f=O[0],h=O[1],x=Object(n.useState)(!1),v=Object(Pe.a)(x,2),g=v[0],y=v[1],N=Object(n.useState)({factory:"",section:""}),w=Object(Pe.a)(N,2),k=w[0],S=w[1],C=Object(n.useState)(!1),T=Object(Pe.a)(C,2),I=T[0],E=T[1],_=function(){f&&D(),g&&P()};Object(n.useEffect)((function(){r(vt())}),[r]);var L=function(){S({factory:"",section:""}),d([]),m([])},q=function(e){var t=function(e,t){return t.find((function(t){return t.id===e}))}(e,a);da(),E(!0),r({type:ce,payload:t}),r(na())},D=function(){var e=document.querySelector(".clicker"),t=document.querySelector(".factory-selector");e&&t&&(f?(e.classList.remove("rotate"),t.classList.remove("showlist")):(e.classList.add("rotate"),t.classList.add("showlist")),h(!f))},P=function(){g?(document.querySelector(".clicker-2").classList.remove("rotate"),document.querySelector(".section-selector").classList.remove("showlist")):(document.querySelector(".clicker-2").classList.add("rotate"),document.querySelector(".section-selector").classList.add("showlist")),y(!g)},F={icon:Object(Ee.jsx)("i",{className:"fas fa-file-upload"}),className:"button-new doc"};return Object(Ee.jsxs)("div",{className:"docs-main-container",children:[Object(Ee.jsx)("h1",{className:"h1-docs",children:"Documentaciones"}),Object(Ee.jsxs)("p",{className:"doc-breadcrumb ".concat(k.factory?"show-bread animate__animated animate__fadeIn animate__fast":""),children:["Factor\xeda ",k.factory&&"".concat(k.factory),k.factory&&Object(Ee.jsx)("i",{className:"fas fa-caret-right bread-arrow"}),k.section&&"".concat(k.section)]}),Object(Ee.jsxs)("div",{className:"doc-selectors",children:[Object(Ee.jsxs)("div",{className:"factory-header-selects animate__animated animate__fadeIn animate__fast",children:[Object(Ee.jsx)(ze.a,{onClickAway:_,children:Object(Ee.jsxs)("div",{className:"factory-header",onClick:D,children:[Object(Ee.jsxs)("div",{className:"grid-name",children:[Object(Ee.jsx)("i",{className:"fas fa-industry"}),Object(Ee.jsx)("h4",{children:"Factor\xedas"})]}),Object(Ee.jsx)("i",{className:"fas fa-sort-down clicker",onClick:D})]})}),Object(Ee.jsx)("div",{className:"factory-selector",children:Object(Ee.jsx)("ul",{onClick:function(e){var a=e.target;S({factory:a.innerText,section:""});var n=a.attributes[0].value,c=Ba(n,t);d(c),m([])},children:e.map((function(e){return Object(Ee.jsx)("li",{value:e.id,children:e.name},e.id)}))})})]}),l.length>0&&Object(Ee.jsxs)("div",{className:"section-header-selects animate__animated animate__fadeIn animate__fast",children:[Object(Ee.jsx)(ze.a,{onClickAway:_,children:Object(Ee.jsxs)("div",{className:"section-header",onClick:P,children:[Object(Ee.jsxs)("div",{className:"grid-name",children:[Object(Ee.jsx)("i",{className:"fas fa-project-diagram"}),Object(Ee.jsx)("h4",{children:"Secciones"})]}),Object(Ee.jsx)("i",{className:"fas fa-sort-down clicker-2",onClick:P})]})}),Object(Ee.jsx)("div",{className:"section-selector",children:Object(Ee.jsx)("ul",{onClick:function(e){var t=e.target;S(Object(De.a)(Object(De.a)({},k),{},{section:t.innerText}));var n=function(e,t){return!(!e||e.length<1)&&t.filter((function(t){return t.sectionId.toString()===e.toString()}))}(t.attributes[0].value,a);m(n)},children:l.length>0&&l.map((function(e){return Object(Ee.jsx)("li",{value:e.id,children:e.name},e.id)}))})})]})]}),b.length>0?Object(Ee.jsx)("div",{className:"pdf-wrapper",children:b.map((function(e){return Object(Ee.jsx)("div",{className:"single-pdf-wrapper animate__animated animate__fadeIn",onClick:function(){q(e.id)},children:Object(Ee.jsx)(_n,{file:e.name})},e.id)}))}):k.section&&0===b.length&&Object(Ee.jsx)("h3",{className:"h3-docs animate__animated animate__zoomIn",children:"No se ha encontrado documentaci\xf3n"}),I&&Object(Ee.jsx)(Dn,{setShowModalDoc:E,resetData:L}),!I&&Object(Ee.jsx)(An,{resetData:L}),c&&Object(Ee.jsx)(jn,{iconData:F})]})},Rn=function(){return Object(Ee.jsx)("div",{className:"order-wrapper",children:Object(Ee.jsx)(cn,{})})},Vn=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.nav})).showResponsive;return Object(n.useEffect)((function(){(function(){var e=0;return e=((new Date).getTime()-(parseInt(localStorage.getItem("token-init-date"))||0))/1e3,e/=3600,Math.abs(Math.round(e))})()>=2&&e(ke())}),[e]),Object(n.useEffect)((function(){e(Bt()),e(vt()),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("crew/");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,(c=n.technicians)&&t(Dt(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n,c,r,s,i,o,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ot()),t(ht()),e.prev=2,e.next=5,p("events/events");case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,c=n.eventsWithData){r=Object(j.a)(c);try{for(r.s();!(s=r.n()).done;){(i=s.value).end=new Date(i.end),i.endFix=new Date(i.endFix),i.start=new Date(i.start),i.startFix=new Date(i.startFix),o=Object(j.a)(i.clocks);try{for(o.s();!(l=o.n()).done;)(u=l.value).start=new Date(u.start),u.end=new Date(u.end)}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}t(lt(c))}e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()),e(et())}),[e]),Object(n.useEffect)((function(){t&&e(Je())}),[]),Object(Ee.jsxs)("div",{className:"wrapper-nav-main",children:[Object(Ee.jsx)(sa,{}),Object(Ee.jsx)(Xe,{}),Object(Ee.jsxs)("main",{children:[Object(Ee.jsx)(ra,{}),Object(Ee.jsx)("div",{className:"container main-container",children:Object(Ee.jsxs)(o.d,{children:[Object(Ee.jsx)(o.b,{exact:!0,path:"/",component:Da}),Object(Ee.jsx)(o.b,{exact:!0,path:"/admin",component:Ra}),Object(Ee.jsx)(o.b,{exact:!0,path:"/neworder",component:Rn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/order",component:rn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/calendar",component:un}),Object(Ee.jsx)(o.b,{exact:!0,path:"/crew",component:vn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/docs",component:Hn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/warehouse",component:wn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/statistics",component:Cn}),Object(Ee.jsx)(o.b,{exact:!0,path:"/history",component:Sn}),Object(Ee.jsx)(o.b,{path:"*",children:Object(Ee.jsx)(Tn,{})})]})})]})]})},Bn=function(e){var t=e.isAuthenticated,a=e.component,n=Object($e.a)(e,["isAuthenticated","component"]);return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(o.b,Object(De.a)(Object(De.a)({},n),{},{component:function(e){return t?Object(Ee.jsx)(a,Object(De.a)({},e)):Object(Ee.jsx)(o.a,{to:"/login"})}}))})},Wn=function(e){var t=e.isAuthenticated,a=e.component,n=Object($e.a)(e,["isAuthenticated","component"]);return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(o.b,Object(De.a)(Object(De.a)({},n),{},{component:function(e){return t?Object(Ee.jsx)(o.a,{to:"/"}):Object(Ee.jsx)(a,Object(De.a)({},e))}}))})},Un=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),a=t.checking,c=t.uid;return Object(n.useEffect)((function(){e(ke())}),[e]),a?Object(Ee.jsx)(Le,{}):Object(Ee.jsx)(i.a,{basename:"/",children:Object(Ee.jsx)("div",{children:Object(Ee.jsxs)(o.d,{children:[Object(Ee.jsx)(Wn,{exact:!0,path:"/login",isAuthenticated:!!c,component:Ge}),Object(Ee.jsx)(Bn,{path:"/",isAuthenticated:!!c,component:Vn})]})})})},Gn=a(53),zn=a(152),Yn={checking:!0,loadingLogin:!1,uid:null,name:null,admin:!1},Jn={events:[],types:[],breakdowns:[],activeEvent:null},Xn={navExtended:!1,showResponsive:!1},$n={technicians:[],activeTechnician:null},Kn={modalOpen:!1,modalAlert:!1},Qn={items:[],activeItem:null,itemsToOrder:[]},Zn={factories:[],sections:[],machines:[],numbers:[],docs:[],activeDoc:null},ec={warnings:[]},tc={weeks:[],threeWeekSections:[],lastWeekByOrderType:{},lastWeekByBreakdown:{},lastWeekByTechnician:{},interventionsWeeks:{},totalTimeByWeek:{}},ac=Object(Gn.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(De.a)(Object(De.a)({},e),{},{checking:!1},t.payload);case v:return Object(De.a)(Object(De.a)({},Yn),{},{checking:!1});case g:return Object(De.a)(Object(De.a)({},e),{},{checking:!1});case y:return Object(De.a)(Object(De.a)({},e),{},{loadingLogin:!0});case N:return Object(De.a)(Object(De.a)({},e),{},{loadingLogin:!1});default:return e}},nav:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(De.a)(Object(De.a)({},e),{},{navExtended:!e.navExtended});case k:return Object(De.a)(Object(De.a)({},e),{},{showResponsive:!e.showResponsive});default:return e}},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(De.a)(Object(De.a)({},e),{},{events:Object(Pa.a)(t.payload)});case q:return Object(De.a)(Object(De.a)({},e),{},{types:Object(Pa.a)(t.payload)});case D:return Object(De.a)(Object(De.a)({},e),{},{breakdowns:Object(Pa.a)(t.payload)});case I:return Object(De.a)(Object(De.a)({},e),{},{activeEvent:t.payload});case P:return Object(De.a)(Object(De.a)({},e),{},{events:[].concat(Object(Pa.a)(e.events),[t.payload])});case F:return Object(De.a)(Object(De.a)({},e),{},{events:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case M:return Object(De.a)(Object(De.a)({},e),{},{events:e.events.filter((function(e){return e.id.toString()!==t.payload})),activeEvent:null});case E:return Object(De.a)(Object(De.a)({},e),{},{activeEvent:null});case _:return Object(De.a)({},Jn);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(De.a)(Object(De.a)({},e),{},{modalOpen:!0});case C:return Object(De.a)(Object(De.a)({},e),{},{modalOpen:!1});case T:return Object(De.a)(Object(De.a)({},e),{},{modalAlert:!e.modalAlert});default:return e}},crew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(De.a)(Object(De.a)({},e),{},{technicians:t.payload});case H:return Object(De.a)(Object(De.a)({},e),{},{activeTechnician:t.payload});case R:return Object(De.a)(Object(De.a)({},e),{},{activeTechnician:null});case V:return Object(De.a)(Object(De.a)({},e),{},{technicians:[].concat(Object(Pa.a)(e.technicians),[t.payload])});case W:return Object(De.a)(Object(De.a)({},e),{},{technicians:e.technicians.filter((function(t){return t.id!==e.activeTechnician.id}))});case B:return Object(De.a)(Object(De.a)({},e),{},{technicians:e.technicians.map((function(a){return a.id===e.activeTechnician.id?t.payload:a}))});case U:return Object(De.a)({},$n);default:return e}},warehouse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(De.a)(Object(De.a)({},e),{},{items:Object(Pa.a)(t.payload)});case Y:return Object(De.a)(Object(De.a)({},e),{},{items:[].concat(Object(Pa.a)(e.items),[t.payload]),activeItem:null});case J:return Object(De.a)(Object(De.a)({},e),{},{items:e.items.map((function(e){return e.code===t.payload.code?t.payload:e}))});case z:return Object(De.a)(Object(De.a)({},e),{},{items:e.items.filter((function(t){return t.code!==e.activeItem.code})),activeItem:null});case X:return Object(De.a)(Object(De.a)({},e),{},{activeItem:t.payload});case $:return Object(De.a)(Object(De.a)({},e),{},{activeItem:null});case Q:return Object(De.a)(Object(De.a)({},e),{},{itemsToOrder:t.payload});case K:return Object(De.a)({},Qn);default:return e}},factory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(De.a)(Object(De.a)({},e),{},{factories:t.payload});case ee:return Object(De.a)(Object(De.a)({},e),{},{sections:t.payload});case te:return Object(De.a)(Object(De.a)({},e),{},{machines:t.payload});case ae:return Object(De.a)(Object(De.a)({},e),{},{numbers:t.payload});case ne:return Object(De.a)(Object(De.a)({},e),{},{docs:t.payload});case ce:return Object(De.a)(Object(De.a)({},e),{},{activeDoc:t.payload});case re:return Object(De.a)(Object(De.a)({},e),{},{activeDoc:null});case se:return Object(De.a)(Object(De.a)({},e),{},{docs:[].concat(Object(Pa.a)(e.docs),[t.payload])});case ie:return Object(De.a)(Object(De.a)({},e),{},{docs:e.docs.filter((function(t){return t.id!==e.activeDoc.id})),activeDoc:null});case oe:return Object(De.a)({},Zn);default:return e}},warning:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(De.a)(Object(De.a)({},e),{},{warnings:Object(Pa.a)(t.payload)});case de:return Object(De.a)(Object(De.a)({},e),{},{warnings:[t.payload].concat(Object(Pa.a)(e.warnings))});case ue:return Object(De.a)(Object(De.a)({},e),{},{warnings:e.warnings.filter((function(e){return e.id!==t.payload}))});case je:return Object(De.a)({},ec);default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(De.a)(Object(De.a)({},e),{},{weeks:Object(Pa.a)(t.payload)});case me:return Object(De.a)(Object(De.a)({},e),{},{threeWeekSections:Object(Pa.a)(t.payload)});case pe:return Object(De.a)(Object(De.a)({},e),{},{lastWeekByOrderType:Object(De.a)({},t.payload)});case Oe:return Object(De.a)(Object(De.a)({},e),{},{lastWeekByBreakdown:Object(De.a)({},t.payload)});case fe:return Object(De.a)(Object(De.a)({},e),{},{lastWeekByTechnician:Object(De.a)({},t.payload)});case he:return Object(De.a)(Object(De.a)({},e),{},{interventionsWeeks:Object(De.a)({},t.payload)});case xe:return Object(De.a)(Object(De.a)({},e),{},{totalTimeByWeek:Object(De.a)({},t.payload)});case ve:return Object(De.a)({},tc);default:return e}}}),nc="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Gn.d,cc=Object(Gn.e)(ac,nc(Object(Gn.a)(zn.a))),rc=(a(342),function(){return Object(Ee.jsx)(s.a,{store:cc,children:Object(Ee.jsx)(Un,{})})});r.a.render(Object(Ee.jsx)(rc,{}),document.getElementById("root"))}},[[343,2,3]]]);
//# sourceMappingURL=main.d0a598b8.chunk.js.map